#####################

###  ##  #  # # #  ## 
 #  #  # ## # # # #   
 #  #### # ## ##   #  
 #  #  # #  # # #   # 
 #  #  # #  # # # ## 

 #################### 


Ger_alkett = {
    name = "Alkett"
	include = support_tank_designer
	icon = GFX_idea_idea_alkett

	allowed = {	
		OR = {
			original_tag = GER
			original_tag = SPR
			original_tag = BUL
			#original_tag = EFR
			original_tag = FIN
		}
	}
	available = {
		
		GER = {
			has_completed_focus = GER_absorb_rheinmetall
		}
		
		
		
	}
	equipment_type = { armor }
	research_categories = { armor }

	initial_trait = {
		name = support_tank_designer
		organization_modifier = {
			military_industrial_organization_funds_gain = 1
			military_industrial_organization_design_team_change_cost = -1.0
		}
		
		equipment_bonus = {
					#soft_attack = 0.035
					maximum_speed = 0.1
					#build_cost_ic = 0.05
		}
	}


	trait = {
		token = generic_mio_trait_armor_steel_working
		name = generic_mio_trait_armor_steel_working
		icon = GFX_generic_mio_department_icon_tank_general_armor

		position = { x=5 y=0 }
		
		production_bonus = {
			production_capacity_factor = 0.05
		}
	}
	trait = {
		token = improved_fightingcompartment
		name = "Improved Fighting Compartment"
		icon = GFX_generic_mio_trait_icon_max_strength

		position = { x=0 y=1 }
		relative_position_id = generic_mio_trait_armor_steel_working

		all_parents = { generic_mio_trait_armor_steel_working }
		
		equipment_bonus = {
			soft_attack = 0.02
			hard_attack = 0.02
		}
	}
	trait = {
		token = flexible_line
		name = "Flexible Production line"
		icon = GFX_generic_mio_department_icon_tank_general_quality

		position = { x=-2 y=1 }
		relative_position_id = generic_mio_trait_armor_steel_working

		all_parents = { generic_mio_trait_armor_steel_working }
		
		production_bonus = {
			production_efficiency_gain_factor = 0.25
		}
	}
	trait = {
		token = stug_mass
		name = "Standardise on current models"
		icon = GFX_generic_mio_department_icon_tank_general_quality

		position = { x=-1 y=1 }
		relative_position_id = flexible_line
		all_parents = { flexible_line }
          mutually_exclusive = { evolution }
		production_bonus = {
			production_capacity_factor = 0.05
			production_efficiency_gain_factor = -0.5
		}
	}
	trait = {
		token = evolution
		name = "Constant Design Evolution"
		icon = GFX_generic_mio_department_icon_tank_medium_tank_quality

		position = { x=1 y=1 }
		relative_position_id = flexible_line
		all_parents = { flexible_line }
       mutually_exclusive = { stug_mass }
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.15
		}
	}
	trait = {
		token = generic_mio_trait_improved_wheel_protection
		name = generic_mio_trait_improved_wheel_protection
		icon = GFX_generic_mio_department_icon_tank_general_engine
		
		position = { x=-1 y=1 }
		relative_position_id = evolution
		
		any_parent = { evolution  stug_mass}

		#limit_to_equipment_type = { mio_cat_eq_all_medium_tank }

		equipment_bonus = {
			defense = 0.1
		}
	}
	trait = {
		token = refurbishment
		name = "Expand Tank Refurbishment Workshops"
		icon = GFX_generic_mio_department_icon_tank_general_technology		

		position = { x=-2 y=0 }
		relative_position_id = flexible_line
		all_parents = { flexible_line }
		

		equipment_bonus = {
			reliability = 0.1
		}
	}
	trait = {
		token = generic_mio_trait_heavy_duty_machine_tools
		name = generic_mio_trait_heavy_duty_machine_tools
		icon = GFX_generic_mio_department_icon_tank_general_production

		position = { x=2 y=1 }
		relative_position_id = generic_mio_trait_armor_steel_working

		all_parents = { generic_mio_trait_armor_steel_working }

		#limit_to_equipment_type = { armor }

		equipment_bonus = {
			breakthrough = 0.1
			build_cost_ic = 0.05
		}

		production_bonus = {
			#production_efficiency_gain_factor = 0.15
			#production_efficiency_cap_factor = 0.05
		}
	}
	trait = {
		token = spanzer
		name = "Sturmpanzer"
		icon = GFX_generic_mio_department_icon_tank_general_spg	

		position = { x=1 y=1 }
		relative_position_id = generic_mio_trait_heavy_duty_machine_tools

		all_parents = { generic_mio_trait_heavy_duty_machine_tools  }
		mutually_exclusive = { waffentrager }
		limit_to_equipment_type = { mio_cat_eq_all_assault_guns }
		equipment_bonus = {
			breakthrough = 0.1
		}
		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}
	}

	trait = {
		token = waffentrager
		name = "Waffentr√§ger"
		icon = GFX_generic_mio_department_icon_tank_general_at	

		position = { x=-1 y=1 }
		relative_position_id = generic_mio_trait_heavy_duty_machine_tools

		all_parents = { generic_mio_trait_heavy_duty_machine_tools  }
        mutually_exclusive = { spanzer }
		limit_to_equipment_type = { mio_cat_eq_all_tank_destroyers }

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}
	}
	trait = {
		token = generic_mio_gunner_sight_improvements
		name = generic_mio_gunner_sight_improvements
		icon = GFX_generic_mio_trait_icon_hard_attack

		position = { x=-1 y=1 }
		relative_position_id = spanzer

		any_parent = { spanzer waffentrager}
		
		equipment_bonus = {
			soft_attack = 0.035
			hard_attack = 0.035
		}
	}
	trait = {
		token = generic_mio_trait_advanced_shells
		name = generic_mio_trait_advanced_shells
		icon = GFX_generic_mio_trait_icon_ap_attack

		position = { x=-2 y=0 }
		relative_position_id = generic_mio_gunner_sight_improvements

		any_parent = { waffentrager evolution}
		
		equipment_bonus = {
			ap_attack = 0.05
			soft_attack = 0.02
			hard_attack = 0.02
		}
	}



}
daimler_benz = {
	include = sensible_medium_tank_designer
	icon =GFX_idea_daimler_benz

	allowed = {	
				OR = {
					original_tag = GER
					original_tag = SPR
					original_tag = BUL
					original_tag = EFR
					original_tag = FIN
				}
			}

	equipment_type = { armor }
	research_categories = { armor }



	initial_trait = {
		name = sensible_medium_tank_designer

		organization_modifier = {
			military_industrial_organization_design_team_change_cost = -1.0
		}
		
		equipment_bonus = {
					#supply_consumption = 0.05
					reliability = 0.15
					hard_attack = -0.035
		}
	}
	trait = {
		token = tank_guns
		name = "Improved Tank Gun Production Methods"
		icon = GFX_generic_mio_department_icon_facilities
		position = { x=2 y=0}
		equipment_bonus = {
			hard_attack = 0.035
		}
	}
	trait = {
		token = generic_mio_enlarged_breech
		name = "Improved Breech Blocks"
		icon = GFX_generic_mio_department_icon_tank_medium_tank_weapons

		position = { x=0 y=1 }
		relative_position_id = tank_guns

		any_parent = { tank_guns}
		
		equipment_bonus = {
			breakthrough = 0.05
		}
	}
	
	trait = {
		token = generic_mio_improved_tracks_and_suspension
		name = generic_mio_improved_tracks_and_suspension
		icon = GFX_generic_mio_trait_icon_breakthrough

		position = { x=4 y=0 }

		#all_parents = { generic_mio_improved_ventilation }
		
		equipment_bonus = {
			maximum_speed = 0.05
		}
	}
	trait = {
		token = generic_mio_trait_speed_improvements
		name = generic_mio_trait_speed_improvements
		icon = GFX_generic_mio_trait_icon_maximum_speed
		
		position = { x=1 y=1 }
		relative_position_id = generic_mio_improved_tracks_and_suspension
	
		any_parent = { generic_mio_improved_tracks_and_suspension  }
		
		mutually_exclusive = { generic_mio_quality_assurance_routines }
		
		equipment_bonus = {
			maximum_speed = 0.1
			supply_consumption = 0.05
			build_cost_ic = 0.04
		}
	}

	trait = {
		token = generic_mio_quality_assurance_routines
		name = generic_mio_quality_assurance_routines
		icon = GFX_generic_mio_trait_icon_reliability

		position = { x=-1 y=1 }
		relative_position_id = generic_mio_improved_tracks_and_suspension
	
		any_parent = { generic_mio_improved_tracks_and_suspension  }
		
		mutually_exclusive = { generic_mio_trait_speed_improvements }

		
		equipment_bonus = {
			reliability = 0.05
		}
	}

	trait = {
		token = generic_mio_streamlined_production
		name = generic_mio_streamlined_production
		icon = GFX_generic_mio_department_icon_tank_general_technology		

		position = { x=1 y=1 }
		relative_position_id = generic_mio_quality_assurance_routines

		any_parent = { generic_mio_quality_assurance_routines generic_mio_trait_speed_improvements  }
		

		equipment_bonus = {
			build_cost_ic = -0.04
		}
	}
	trait = {
		token = hydraulic
		name = "Finetuned Power-Traverse"
		icon = GFX_generic_mio_trait_icon_soft_attack	

		position = { x=1 y=2 }
		relative_position_id = generic_mio_enlarged_breech

		all_parents = { generic_mio_streamlined_production generic_mio_enlarged_breech }
		

		equipment_bonus = {
			defense = 0.05
			soft_attack = 0.035
			breakthrough = 0.05
		}
	}
	trait = {
		token = long_range
		name = "Long Range Firepower"
		icon = GFX_generic_mio_trait_icon_hard_attack	

		position = { x=0 y=3 }
		relative_position_id = generic_mio_enlarged_breech

		all_parents = { hydraulic generic_mio_enlarged_breech }
		

		equipment_bonus = {
			hard_attack = 0.035
		}
	}
	trait = {
		token = medium
		name = "Focus on medium panzers"
		icon = GFX_generic_mio_department_icon_tank_general_technology		

		position = { x=4 y=2 }
		relative_position_id = generic_mio_improved_tracks_and_suspension
         mutually_exclusive = { stug }
		all_parents = { generic_mio_improved_tracks_and_suspension  }
		
		limit_to_equipment_type = { medium_tank_chassis }

		equipment_bonus = {
			build_cost_ic = -0.04
		}
	}
	trait = {
		token = spaced
		name = "Applique Armor"
		icon = GFX_generic_mio_department_icon_tank_general_armor	

		position = { x=3 y=3 }
		relative_position_id = generic_mio_improved_tracks_and_suspension
		all_parents = { generic_mio_improved_tracks_and_suspension  }
		

		equipment_bonus = {
			armor_value = 0.2
		}
	}
	trait = {
		token = flak
		name = "Flakpanzer"
		icon = GFX_generic_mio_department_icon_tank_medium_tank_aa	

		position = { x=0 y=1 }
		relative_position_id = medium

		all_parents = { medium  }
		
		limit_to_equipment_type = { mio_cat_eq_all_medium_tank }
		equipment_bonus = {
			air_attack = 0.1
		}
	}
	trait = {
		token = stug
		name = "Focus on Sturmgeshutze"
		icon = GFX_generic_mio_department_icon_tank_general_spg	

		position = { x=2 y=2 }
		relative_position_id = generic_mio_improved_tracks_and_suspension

		all_parents = { generic_mio_improved_tracks_and_suspension  }
		mutually_exclusive = { medium }
		limit_to_equipment_type = { mio_cat_eq_all_medium_tank_support }
		equipment_bonus = {
			build_cost_ic = -0.04
		}
	}
	trait = {
		token = jagd
		name = "Divert towards tank hunter role"
		icon = GFX_generic_mio_department_icon_tank_general_technology		

		position = { x=0 y=1 }
		relative_position_id = stug

		all_parents = { stug }
		limit_to_equipment_type = { mio_cat_eq_all_medium_tank_support }

		equipment_bonus = {
			ap_attack = 0.1
		}
	}
}
ger_MAN = {
	include = main_battle_tank_designer
	icon = GFX_idea_MAN_man
	allowed = {	
		tag = GER
	}
	available = {
		GER = {
			has_war_with = SOV
		}
	}
	equipment_type = { armor }
	research_categories = { mio_cat_eq_all_medium_tank }
	tree_header_text = {
		text = mio_header_production_department
		x = 1
	}

	initial_trait = {
		name = main_battle_tank_designer
		
		organization_modifier = {
			military_industrial_organization_research_bonus = -1.0
			military_industrial_organization_design_team_change_cost = -1.0
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
		}
		equipment_bonus = {
					hardness = 0.1 
					hard_attack = 0.11
					soft_attack = 0.11
					build_cost_ic = 0.05 
		}
		production_bonus = {
			production_capacity_factor = -0.05
			production_efficiency_gain_factor = -0.2
		}
	}
	trait = {
		token = panther
		name = "Prepare Panther Production"
		icon = GFX_generic_mio_department_icon_facilities
		available = {
			GER = {
				has_completed_focus = GER_the_wild_cats_that_roam_in_russia
			}
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
		}
		position = { x=4 y=0}
		production_bonus = {
			production_resource_penalty_factor = 0.2
		}
	}
	trait = {
		token = transmission_improvements
		name = "Improve the Transmission"
		icon = GFX_generic_mio_trait_icon_reliability

		all_parents = { panther  }
		mutually_exclusive = { compartment_improvements }
		position = { x=0 y=1}
		equipment_bonus = {
			reliability = 0.1
			build_cost_ic = -0.02
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
		}
	}
	trait = {
		token = compartment_improvements
		name = "Improve the Engine Compartment"
		icon = GFX_generic_mio_department_icon_tank_general_engine


		all_parents = {  panther }
		mutually_exclusive = { transmission_improvements }
		position = { x=2 y=1}
		equipment_bonus = {
			maximum_speed = 0.1 
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
		}
	}
	trait = {
		token = schmalturm
		name = "Schmallturm"
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		position = { x=6 y=1}
		all_parents = {  panther }
		mutually_exclusive = { support_tanks }
		equipment_bonus = {
			build_cost_ic = -0.05 
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
		}
	}
	trait = {
		token = support_tanks
		name = "Support Tank Production"
		icon = GFX_generic_mio_trait_icon_conversion_speed
		position = { x=8 y=1}
		all_parents = {  panther }
		mutually_exclusive = { schmalturm }
		limit_to_equipment_type = { mio_cat_eq_all_medium_tank_support }
		equipment_bonus = {
			soft_attack = 0.055
			ap_attack = 0.1
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
		}
	}
	trait = {
		token = panther_east
		name = "Panthers in the East"
		icon = GFX_generic_mio_trait_icon_breakthrough
		position = { x=4 y=2}
	    any_parent = { support_tanks schmalturm }
		any_parent = { transmission_improvements compartment_improvements }
		production_bonus = {
			production_capacity_factor = 0.06
			production_efficiency_gain_factor = 0.2
		}
		equipment_bonus = {
			hard_attack = 0.035
			soft_attack = 0.035
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
		}
	}
}

nibelungenwerke = {
	include = mass_production_facility
	icon = 	GFX_idea_AUS_steyr_mannlicher

	allowed = {	
		tag = GER
	}
	available = {
		GER = {
			has_completed_focus = GER_anschluss
		}
	}

	equipment_type = { armor }
	research_categories = { armor }
	tree_header_text = {
		text = mio_header_production_department
		x = 1
	}

	tree_header_text = {
		text = design_department
		x = 8
	}


	initial_trait = {
		name = mass_production_facility
		organization_modifier = {
			military_industrial_organization_research_bonus = -1.0
			military_industrial_organization_design_team_change_cost = -1.0
		}

		
		equipment_bonus = {
			build_cost_ic = -0.05
		}
	}
	trait = {
		token = construct_the_niebelungenwerke
		name = "Merge the Steyr Plants"
		special_trait_background = yes
		icon = GFX_generic_mio_department_icon_facilities

		position = { x=4 y=0}
		production_bonus = {
			production_capacity_factor = 0.05
		}
	}
	trait = {
		token = expand_the_niebelungenwerke
		name = "Expand Manufacturing"
		icon = GFX_generic_mio_department_icon_tank_general_line_efficiency
        mutually_exclusive = { expand_armor_steel_production }
		position = { x=-4 y=1}
		relative_position_id = construct_the_niebelungenwerke
        any_parent = { construct_the_niebelungenwerke }
		production_bonus = {
			production_cost_factor = -0.04
		}
		equipment_bonus = {
			reliability = -0.1
		}
	}
	trait = {
		token = expand_armor_steel_production
		name = "Expand Eisenwerke Oberdonau"
		icon = GFX_generic_mio_department_icon_tank_general_armor
        mutually_exclusive = { expand_the_niebelungenwerke }
		position = { x=-2 y=1}
		relative_position_id = construct_the_niebelungenwerke
        any_parent = { construct_the_niebelungenwerke }
		production_bonus = {
			production_resource_need_factor = -0.1
		}
		equipment_bonus = {
			reliability = -0.1
		}
	}
	trait = {
		token = volunteers
		name = "Maximize Volunteer Worker Utilization"
		icon = GFX_generic_mio_department_icon_tank_general_line_efficiency
		
		position = { x=-1 y=1 }
		relative_position_id = expand_armor_steel_production

		any_parent = {expand_the_niebelungenwerke expand_armor_steel_production }


		production_bonus = {
			production_efficiency_cap_factor = 0.05
			production_efficiency_gain_factor = -0.3
			production_capacity_factor = -0.1
		}
		
	}
###tank stats
	trait = {
		token = production_line
		name = "Generously Specified Production line"
		icon = GFX_generic_mio_department_icon_tank_general_production
		relative_position_id = construct_the_niebelungenwerke
		any_parent = { construct_the_niebelungenwerke }
		position = { x=0 y=1}
		
		equipment_bonus = {
			reliability = 0.05
		}
		production_bonus = {
			production_capacity_factor = -0.05
		}
	}


	trait = {
		token = standardized_components
		name = "Standardised Components"
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		
		position = { x=-1 y=1 }
		relative_position_id = production_line

		any_parent = { production_line }
		 mutually_exclusive = { batch_production }

		equipment_bonus = {
			reliability = 0.1
		}
	}
	trait = {
		token = batch_production
		name = "Batch Production"
		icon = GFX_generic_mio_trait_icon_efficiency_cap
		
		position = { x=1 y=1 }
		relative_position_id = production_line

		any_parent = { production_line }
        mutually_exclusive = { standardized_components }
		equipment_bonus = {
			build_cost_ic = -0.025
		}
	}
	trait = {
		token = ample_capacity
		name = "Ample Capacity"
		icon = GFX_generic_mio_trait_icon_production_capacity
		
		position = { x=0 y=2 }
		relative_position_id = production_line

		any_parent = { batch_production standardized_components }
		equipment_bonus = {
			build_cost_ic = -0.025
		}

	}

	trait = {
		token = lighter_vehicles
		name = "Focus on Lighter Vehicles"
		icon = GFX_generic_mio_department_icon_tank_light_tank_line_efficiency
		position = { x=2 y=1}
		relative_position_id = construct_the_niebelungenwerke
        any_parent = { construct_the_niebelungenwerke }
		mutually_exclusive = { heavier_vehicles }
		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
			mio_cat_eq_all_light_tank
		}
		production_bonus = {
			production_cost_factor = 0.05
		}
		equipment_bonus = {
			hard_attack = 0.035
		}
	}
	trait = {
		token = heavier_vehicles
		name = "Focus on Heavier Vehicles"
		icon = GFX_generic_mio_department_icon_tank_heavy_tank_line_efficiency
		position = { x=4 y=1}
		relative_position_id = construct_the_niebelungenwerke
        any_parent = { construct_the_niebelungenwerke }
		mutually_exclusive = { lighter_vehicles }
		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
			mio_cat_eq_all_heavy_tank
		}
		production_bonus = {
			production_cost_factor = 0.05
		}
		equipment_bonus = {
			hard_attack = 0.035
		}
	}
	trait = {
		token = drivetrain
		name = "Improved Drivetrain"
		icon = GFX_generic_mio_trait_icon_reliability
		
		position = { x=0 y=1 }
		relative_position_id = heavier_vehicles
		any_parent = { heavier_vehicles }

		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
			mio_cat_eq_all_heavy_tank
		}
		equipment_bonus = {
			reliability = 0.1
			breakthrough = 0.1
		}

	}
	trait = {
		token = hull
		name = "Improved Hull Construction"
		icon = GFX_generic_mio_trait_icon_max_strength
		
		position = { x=0 y=1 }
		relative_position_id = lighter_vehicles
		any_parent = { lighter_vehicles }
		limit_to_equipment_type = { 
			mio_cat_eq_all_medium_tank
			mio_cat_eq_all_light_tank
		}

		equipment_bonus = {
			soft_attack = 0.035
			defense = 0.1
		}

	}
}
henschel = {
	include = heavy_tank_designer
	icon = GFX_idea_henschel2

	allowed = {	
				OR = {
					original_tag = GER
					original_tag = SPR
					original_tag = BUL
					#original_tag = EFR
					original_tag = FIN
				}
			}

	equipment_type = { armor }
	research_categories = { mio_cat_eq_all_heavy_tank }

	initial_trait = {
		name = heavy_tank_designer
		
		organization_modifier = {
			military_industrial_organization_design_team_change_cost = -1.0
		}
		production_bonus = {
			production_resource_need_factor = 0.1
		}
		equipment_bonus = {
			hard_attack = 0.07
		}
	}
	trait = {
		token = krupp_turrets
		name = "Krupp AG Heavy Turret Production"
		icon = GFX_generic_mio_department_icon_facilities
        mutually_exclusive = { our_turrets }
		position = { x=1 y=0}
		equipment_bonus = {
			defense = 0.1
			
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
	}
	trait = {
		token = our_turrets
		name = "Our Own Turret Designs"
		icon = GFX_generic_mio_department_icon_facilities
        mutually_exclusive = { krupp_turrets }
		position = { x=3 y=0}
		equipment_bonus = {
			hardness = 0.05
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
	}
	trait = {
		token = bigger_weapons
		name = "Built for Bigger Weapons"
		icon = GFX_generic_mio_department_icon_tank_heavy_tank_at
        relative_position_id = our_turrets
		any_parent = { our_turrets krupp_turrets }
		position = { x=-1 y=1}
		equipment_bonus = {
			hard_attack = 0.07
			reliability = -0.05
			build_cost_ic = 0.02
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
	}
	trait = {
		token = breakthough
		name = "Breakthrough Tanks"
		icon = GFX_generic_mio_trait_icon_breakthrough
        mutually_exclusive = { tank_hunters }
		position = { x=5 y=0}
		equipment_bonus = {
			breakthrough = 0.1
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
	}
	trait = {
		token = improved_air_filters
		name = "Improved Engine Filters"
		icon = GFX_generic_mio_department_icon_tank_heavy_tank_engine
		any_parent = { breakthough }
		position = { x=5 y=1 }
		equipment_bonus = {
			reliability = 0.05
			maximum_speed = 0.1
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
	}
	trait = {
		token = tank_hunters
		name = "Dedicated Tank Hunters"
		icon = GFX_generic_mio_trait_icon_hard_attack
        mutually_exclusive = { breakthough }
		position = { x=7 y=0}
		equipment_bonus = {
			hard_attack = 0.07
			soft_attack = -0.07
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
	}
	trait = {
		token = suspension_innovations
		name = "Suspension Innovations"
		icon = GFX_generic_mio_department_icon_tank_heavy_tank_engine
		
		position = { x=0 y=1}
		relative_position_id = tank_hunters

		any_parent = { tank_hunters }
		equipment_bonus = {
			breakthrough = 0.1
			reliability = -0.1
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}

	}
	trait = {
		token = practical
		name = "Guarantee Practical Usage"
		icon = GFX_generic_mio_department_icon_tank_heavy_tank_production
		
		position = { x=2 y=1 }
		relative_position_id = improved_air_filters
        mutually_exclusive = { unpractical }
		any_parent = { suspension_innovations improved_air_filters }
		equipment_bonus = {
			reliability = 0.1
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
		production_bonus = {
			production_resource_need_factor = -0.05
		}
	}
	trait = {
		token = unpractical
		name = "Drop the Weight Limit"
		icon = GFX_generic_mio_department_icon_tank_heavy_tank_line_efficiency
	    mutually_exclusive = { practical }	
		position = { x=0 y=1 }
		relative_position_id = improved_air_filters

		any_parent = { suspension_innovations improved_air_filters }
		equipment_bonus = {
			maximum_speed = -0.1
			hard_attack = 0.11
			reliability = -0.1
			defense = 0.1
			armor_value = 0.8
			hardness = 0.1
			build_cost_ic = 0.1
			fuel_consumption = 0.25
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}

	}
	trait = {
		token = armor_steel
		name = "High Strength Alloys"
		icon = GFX_generic_mio_department_icon_tank_general_armor
		
		position = { x=4 y=1 }
		equipment_bonus = {
			armor_value = 0.25
			hardness = 0.05
		}

		production_bonus = {
			production_resource_need_factor = 0.03
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
	}	
	trait = {
		token = hardening
		name = "Improved Hardening Process"
		icon = GFX_generic_mio_department_icon_tank_general_armor
		
		position = { x=0 y=1 }
		relative_position_id = armor_steel

		any_parent = { armor_steel }
		equipment_bonus = {
			armor_value = 0.25
			build_cost_ic = 0.01
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}

	}	

	trait = {
		token = advanced_radiosets
		name = "Advanced Radiosets"
		icon = GFX_generic_mio_department_icon_support_line_efficiency
		
		position = { x=0 y=1 }
		relative_position_id = bigger_weapons

		any_parent = { bigger_weapons}
		equipment_bonus = {
			defense = 0.05
			breakthrough = 0.05
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
		production_bonus = {
			production_resource_need_factor = 0.02
		}
	}

	trait = {
		token = lessons_of_east
		name = "Apply the Lessons of the East"
		icon = GFX_generic_mio_department_icon_tank_heavy_tank_at
		
		position = { x=0 y=1 }
		available = {
			GER = {
				has_completed_focus = GER_mobile_fortresses
			}
		}
		relative_position_id = hardening
		equipment_bonus = {
			hard_attack = 0.07
			defense = 0.1
			build_cost_ic = 0.03
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
	}
	trait = {
		token = german_qual
		name = "Pinnacle of German Quality"
		icon = GFX_generic_mio_trait_icon_unique
		
		position = { x=1 y=1 }
		relative_position_id = lessons_of_east
        mutually_exclusive = { volunteer_workers }
		any_parent = { lessons_of_east  }
		equipment_bonus = {
			soft_attack = 0.11
			hard_attack = 0.035
			defense = 0.05
			reliability = 0.1
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
	}
	trait = {
		token = volunteer_workers
		name = "Volunteer Workers to the Assembly Line"
		icon = GFX_generic_mio_trait_icon_build_cost_ic
		
		position = { x=-1 y=1 }
		relative_position_id = lessons_of_east
        mutually_exclusive = { german_qual }
		any_parent = { lessons_of_east  }
		equipment_bonus = {
			armor_value = -0.2
			reliability = -0.05
			build_cost_ic = -0.1
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_heavy_tank
		}
		#production_bonus = {
		#	production_cost_factor = -0.02
		#}
	}
}
Krupp = {
	icon = GFX_idea_krupp

	allowed = {	
				OR = {
					original_tag = GER
					original_tag = SPR
					original_tag = BUL
					original_tag = EFR
					original_tag = FIN
				}
			}

	equipment_type = { armor }
	research_categories = { armor }

	initial_trait = {
		name = infantry_support_tank_designer
		
		limit_to_equipment_type = { 
			armor
		}
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
			military_industrial_organization_design_team_change_cost = -1.0
		}
		
		equipment_bonus = {
                   soft_attack = 0.11
				   hardness = 0.05
		}
	}
	trait = {
		token = hardned_armor
		name = "Face Hardened Armor"
		special_trait_background = yes
		icon = GFX_generic_mio_trait_icon_armor_value
		position = { x=4 y=0}
		equipment_bonus = {
			hardness = 0.05
		}
	}
	add_trait = {  
		token = GER_mio_trait_hotrolled_armor
		name = GER_mio_trait_hotrolled_armor
		icon = GFX_generic_mio_trait_icon_hardness


		#limit_to_equipment_type = { light_tank_chassis medium_tank_chassis }
		#production_bonus = {
		#	production_efficiency_cap_factor = 0.05
		#	production_efficiency_gain_factor = 0.15
		#}
		equipment_bonus = {
			build_cost_ic = 0.05
			armor_value = 0.25
		}

		position = { x=0 y=1 }
		any_parent = { hardned_armor  }
		relative_position_id = hardned_armor
	}
	trait = {
		token = welding_methods
		name = "Modern Melding Methods"
		icon = GFX_generic_mio_trait_icon_build_cost_ic
        mutually_exclusive = { cast_components }
		position = { x=-1 y=1 }
		relative_position_id = GER_mio_trait_hotrolled_armor
		any_parent = { GER_mio_trait_hotrolled_armor  }
		equipment_bonus = {
			build_cost_ic = -0.03
		}
	}
	trait = {
		token = cast_components
		name = "Adopt Cast Components"
		icon = GFX_generic_mio_department_icon_tank_general_armor
        mutually_exclusive = { welding_methods }
		position = { x=1 y=1 }
		relative_position_id = GER_mio_trait_hotrolled_armor
		any_parent = { GER_mio_trait_hotrolled_armor  }
		equipment_bonus = {
			armor_value = 0.15
		}
	}

	trait = {
		token = barrel_const
		name = "Improved Barrel Construction"
		icon = GFX_generic_mio_department_icon_tank_general_quality
        mutually_exclusive = { recoil_mech }
		position = { x=-4 y=1 }
		relative_position_id = hardned_armor
		any_parent = { hardned_armor  }	
		equipment_bonus = {
			soft_attack = 0.035
			build_cost_ic = 0.05
		}
	}
	trait = {
		token = recoil_mech
		name = "Improved Recoil Mechanisms"
		icon = GFX_generic_mio_department_icon_tank_general_quality
        mutually_exclusive = { barrel_const }
		any_parent = { hardned_armor  }
		relative_position_id = hardned_armor
		position = { x=-2 y=1}
		equipment_bonus = {
			defense = 0.05
			breakthrough = 0.05
			build_cost_ic = 0.05
		}
	}
	trait = {
		token = long_barrel
		name = "Longer Barrels"
		icon = GFX_generic_mio_trait_icon_hard_attack
		position = { x=-1 y=1 }
		any_parent = { recoil_mech barrel_const }
		relative_position_id = recoil_mech
		equipment_bonus = {
			ap_attack = 0.1
			reliability = -0.1
		}
	}
	trait = {
		token = imp_eq
		name = "Improved Standard Equipment"
		icon = GFX_generic_mio_department_icon_support_production
		position = { x=3 y=1 }
		relative_position_id = hardned_armor
		any_parent = { hardned_armor }
		equipment_bonus = {
			build_cost_ic = -0.02
		}
	}
	trait = {
		token = rugged_components
		name = "Rugged Components"
		icon = GFX_generic_mio_department_icon_tank_general_production
		position = { x=0 y=1 }
		relative_position_id = imp_eq
		any_parent = { imp_eq }
		equipment_bonus = {
			reliability = 0.05
		}
	}
	trait = {
		token = spare_parts
		name = "Improve Spare Part Availability"
		icon = GFX_generic_mio_trait_icon_reliability
        mutually_exclusive = { production_numbers }
		position = { x=1 y=3 }
		all_parents = { rugged_components long_barrel }
		any_parent = { cast_components welding_methods }
		relative_position_id = hardned_armor
		equipment_bonus = {
			reliability = 0.2
		}
	}
	trait = {
		token = production_numbers
		name = "Increase Production Numbers"
		icon = GFX_generic_mio_trait_icon_efficiency_cap
        mutually_exclusive = { spare_parts }
		position = { x=-1 y=3 }
		all_parents = { rugged_components long_barrel }
		any_parent = { cast_components welding_methods }
		relative_position_id = hardned_armor
		equipment_bonus = {
			build_cost_ic = -0.05
			reliability = 0.05
		}
	}
}
BMM = {
	include = light_tank_designer
	icon = GFX_idea_GER_ckd

	allowed = {	
		tag = GER
	}
	available = {
		GER = {
			has_completed_focus = GER_end_of_czechoslovakia
		}
	}

	equipment_type = { armor }
	research_categories = { mio_cat_eq_all_light_tank }


	initial_trait = {
		name = light_tank_designer
		

		organization_modifier = {
			military_industrial_organization_design_team_change_cost = -1.0
		}
		production_bonus = {
			production_capacity_factor = -0.1
		}
		
		equipment_bonus = {
			#maximum_speed = -0.1
			#build_cost_ic = 0.1
		}
	}
	trait = {
		token = industrial_legacy
		name = "Czech Industrial Legacy"
		special_trait_background = yes
		icon = GFX_generic_mio_department_icon_facilities
		position = { x=4 y=0}
		production_bonus = {
			production_capacity_factor = 0.1
		}
		
	}
	trait = {
		token = optimized
		name = "Optimized for light vehicles"
		icon = GFX_generic_mio_department_icon_tank_light_tank_line_efficiency
		position = { x=-2 y=1 }
		relative_position_id = industrial_legacy
		any_parent = { industrial_legacy }
		limit_to_equipment_type = { mio_cat_eq_all_light_tank }
		production_bonus = {
			production_cost_factor = -0.05
		}
	}
	trait = {
		token = flexible_fac
		name = "Flexible facilities"
		icon = GFX_generic_mio_trait_icon_efficiency_gain
		position = { x=-2 y=1 }	
		relative_position_id = optimized
		any_parent = { optimized }
		limit_to_equipment_type = { mio_cat_eq_all_light_tank }
		production_bonus = {
			production_efficiency_gain_factor = 0.2
		}
	}
	trait = {
		token = outsource
		name = "Outsource Key Component Manufacturing"
		icon = GFX_generic_mio_department_icon_facilities
		position = { x=0 y=1 }
		relative_position_id = optimized
		any_parent = { optimized }
		limit_to_equipment_type = { mio_cat_eq_all_light_tank }
		organization_modifier = {
			military_industrial_organization_funds_gain = -0.2
		}
		equipment_bonus = {
			build_cost_ic = -0.1
			reliability = -0.1
		}
	}
	trait = {
		token = large_roadwheels
		name = "Large Diameter Roadwheels"
		icon = GFX_generic_mio_department_icon_tank_light_tank_engine
		relative_position_id = industrial_legacy
		any_parent = { industrial_legacy }
		position = { x=0 y=1}
		equipment_bonus = {
			maximum_speed = 0.1
		}
	}
	trait = {
		token = generous_specs
		name = "Generously Specified Chassis"
		icon = GFX_generic_mio_department_icon_tank_light_tank_quality
		position = { x=2 y=1 }
		relative_position_id = industrial_legacy
		any_parent = { industrial_legacy }
		equipment_bonus = {
			reliability = 0.1
			build_cost_ic = 0.05
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_light_tank
		}
	}
	trait = {
		token = multi_purp_chassis
		name = "Multi purpose chassis"
		icon = GFX_generic_mio_department_icon_tank_light_tank_conversion
		position = { x=2 y=1 }
        mutually_exclusive = { ad_tech }
		relative_position_id = generous_specs
		any_parent = { generous_specs }
		equipment_bonus = {
			defense = 0.2
			air_attack = 0.1
			build_cost_ic = 0.05
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_light_tank
		}
	}
	trait = {
		token = ad_tech
		name = "Advanced Technologies"
		icon = GFX_generic_mio_trait_icon_unique
		position = { x=-2 y=1 }
        mutually_exclusive = { multi_purp_chassis }
		relative_position_id = generous_specs
		any_parent = { generous_specs }
		equipment_bonus = {
			breakthrough = 0.1
			armor_value = 0.2
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_light_tank
		}
	}
	trait = {
		token = imp_ammo
		name = "Improved Ammunition"
		icon = GFX_generic_mio_department_icon_tank_general_weapons
		position = { x=2 y=1 }
		relative_position_id = ad_tech
		any_parent = { ad_tech multi_purp_chassis}
		equipment_bonus = {
			hard_attack = 0.07
			build_cost_ic = 0.05
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_light_tank
		}
	}
	trait = {
		token = fuel_injection
		name = "Fuel Injection"
		icon = GFX_generic_mio_department_icon_tank_light_tank_engine
		position = { x=-1 y=1 }
		relative_position_id = ad_tech
		any_parent = { ad_tech }
		equipment_bonus = {
			reliability = 0.1
			fuel_consumption = -0.25
			build_cost_ic = 0.05
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_light_tank
		}
	}
	trait = {
		token = ammo_feed
		name = "Improved Ammunition Feeding"
		icon = GFX_generic_mio_department_icon_tank_general_at
		position = { x=1 y=1 }
		relative_position_id = multi_purp_chassis
		any_parent = { multi_purp_chassis }
		equipment_bonus = {
			soft_attack = 0.035
			hard_attack = 0.035
			ap_attack = 0.05
			build_cost_ic = 0.05
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_light_tank
		}
	}
	trait = {
		token = heavy_lights
		name = "Heavy Light Tanks"
		icon = GFX_generic_mio_department_icon_tank_light_tank_quality
		position = { x=0 y=1 }
		relative_position_id = imp_ammo
		any_parent = { fuel_injection ammo_feed }
		equipment_bonus = {
			#maximum_speed = -0.1
			soft_attack = 0.07
			hard_attack = 0.07
			breakthrough = 0.1
			hardness = 0.1
			armor_value = 0.2
			build_cost_ic = 0.1
		}
		limit_to_equipment_type = { 
			mio_cat_eq_all_light_tank
		}
	}
}
CKD = {
	include = light_tank_designer
	icon = GFX_idea_CKD_rom
	include = BMM

	allowed = {	
				OR = {
					original_tag = BUL
					original_tag = HUN
					original_tag = ROM
					#original_tag = EFR
					original_tag = FIN
					original_TAG = SLO
					original_TAG = CZE
				}
			}

	equipment_type = { armor }
	research_categories = { mio_cat_eq_all_light_tank }

}
#####################

 ## #  # ### ###   ## 
#   #  #  #  #  # #   
 #  ####  #  ###   #  
  # #  #  #  #      # 
##  #  # ### #    ##  
 
#####################

GER_germaniawerft_organization = {
	include = generic_battle_line_ship_organization
	icon = GFX_idea_germaniawerft
	
	allowed = {	
			tag = GER
	}
}

GER_blohm_und_voss_organization = {
	include = generic_raider_ship_organization
	icon = GFX_idea_blohm_und_voss
	
	allowed = {	
			tag = GER
	}
}

###########################

###  #    ##  #  # ###  ## 
#  # #   #  # ## # #   #   
###  #   #### # ## ##   #  
#    #   #  # #  # #     # 
#    ### #  # #  # ### ##  

###########################

GER_messerschmitt_organization = {
	include = generic_light_aircraft_organization
	icon = GFX_idea_messerschmitt
	
	allowed = {
		OR = {
			tag = GER
			#tag = EFR 
		}	
			

	}


	add_trait = {
		token = GER_mio_trait_maintenance_first_design
		name = GER_mio_trait_maintenance_first_design

		icon = GFX_generic_mio_department_icon_plane_fighter_line_efficiency
		special_trait_background = yes
		
		position = { x=-1 y=1 }
		relative_position_id = generic_mio_trait_expanded_production_facilities

		all_parents = { generic_mio_trait_expanded_production_facilities }

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_efficiency_gain_factor = 0.2
		}
	}

	add_trait = {
		token = GER_mio_trait_fuselage_based_weapons
		name = GER_mio_trait_fuselage_based_weapons

		icon = GFX_generic_mio_trait_icon_anti_air_attack
		special_trait_background = yes
		
		position = { x=2 y=1 }
		relative_position_id = generic_mio_trait_advanced_aerodynamics

		any_parent = { generic_mio_trait_advanced_aerodynamics   }

		equipment_bonus = {
			air_attack = 0.05
			air_agility = 0.03
		} 
	}
}

GER_junkers_organization = {
	include = generic_cas_aircraft_organization
	icon = GFX_idea_junkers
	
	allowed = {	
		tag = GER 

	}
	available = {
		GER = {
			has_completed_focus = GER_junkers_CAS
		}
	}


	add_trait = {
		token = GER_mio_trait_psychological_warfare
		name = GER_mio_trait_psychological_warfare

		icon = GFX_generic_mio_trait_icon_fuel_consumption
		special_trait_background = yes
		
		position = { x=2 y=0 }
		relative_position_id = generic_mio_trait_reinforced_wings

		equipment_bonus = {
			fuel_consumption = -0.05
			build_cost_ic = 0.05
			air_ground_attack = 0.05
		} 
		
	}
}

GER_focke_wulf_organization = {
	include = generic_multi_role_aircraft_organization
	icon = GFX_idea_focke_wulf
	
	allowed = {	
		OR = {
			tag = GER
			#tag = EFR  
		}
	}
}

GER_heinkel_organization = {
	include = generic_medium_aircraft_organization
	icon = GFX_idea_heinkel
	
	allowed = {	
		OR = {
			tag = GER
			#tag = EFR 
		} 
	}
}
GER_dornier_organization = {
	include = generic_naval_aircraft_organization
	icon = GFX_idea_dornier
	
	allowed = {	
		OR = {
			tag = GER
			#tag = EFR 
		}
	}
}


################################### 

#   #  ##  ### ### ###  ### ### #   
## ## #  #  #  #   #  #  #  #   #   
# # # ####  #  ##  ###   #  ##  #   
#   # #  #  #  #   #  #  #  #   #   
#   # #  #  #  ### #  # ### ### ### 


###################################

GER_rheinmetall_organization = {
	include = generic_artillery_organization
	icon = GFX_idea_rheinmetall
	
	allowed = {	
				OR = {
					original_tag = GER
					#original_tag = EFR
					original_tag = FIN
				}
			}
}
GER_krupp_artillery = {
	include = generic_heavy_artillery_organization
	icon = GFX_idea_krupp		
	name = "Krupp"
	
	allowed = {	
			original_tag = GER
				}
	available = {
		GER = {
			OR = {
				has_completed_focus = GER_krupp_stahl
				has_completed_focus = GER_raketenwerfer
					}
				}
			}
}
GER_auto_union = {
	include = generic_armored_car_organization
	icon = GFX_idea_GER_auto_union
	
	allowed = {	
				OR = {
					original_tag = GER
					original_tag = SPR
					original_tag = BUL
					original_tag = ROM
					#original_tag = EFR
					original_tag = FIN
					original_TAG = SLO
				}
			}

}
GER_mauser_organization = {
	include = generic_infantry_equipment_organization
	icon = GFX_idea_mauser
	
	allowed = {	
				OR = {
					original_tag = GER
					#original_tag = EFR
					original_tag = FIN
				}
			}

}
GER_haenel = {
	name = "Haenel"
	icon = GFX_idea_haenel
	include = advanced_inf_eq_manufacturer	
	allowed = {	
					original_tag = GER
			}
}
GER_opel_organization = {
	include = generic_motorized_mechanized_organization
	icon = GFX_idea_opel
	
	allowed = {	
				OR = {
					original_tag = GER
					original_tag = BUL
					#original_tag = EFR
					original_tag = FIN
				}
			}
}
GER_hanomag = {
	include = generic_mechanized_designer
	icon = GFX_idea_hanomag
	
	allowed = {	
				OR = {
					original_tag = GER
					original_tag = BUL
					#original_tag = EFR
					original_tag = FIN
					original_TAG = SLO
				}
			}
}