
on_actions = {
	on_monthly_SPR= { 
		effect = { 
			if = {
				limit = {
					SPR = {
						has_completed_focus = SPA_en_espana_amanece
					}
					check_variable ={
						right_side_spain_moffo_check = 0
					}
				}
				add_to_variable = {
					SPR_RIGHT_industry_consumer_goods_factor = 0.001
				}
				set_variable = {
					right_death_side_spain_moffo_check = 0
				}
			}
			if = {
				limit = {
					SPR = {
						has_completed_focus = SPA_en_espana_amanece
					}
					check_variable ={
						right_side_spain_moffo_check = 1
					}
				}
				add_to_variable = {
					SPR_RIGHT_industry_consumer_goods_factor = 0.002
				}
				set_variable = {
					right_death_side_spain_moffo_check = 0
				}
			}
			if = {
				limit = {
					SPR = {
						has_completed_focus = SPA_en_espana_amanece
					}
					check_variable ={
						right_side_spain_moffo_check = 2
					}
				}
				add_to_variable = {
					SPR_RIGHT_industry_consumer_goods_factor = 0.003
				}
				set_variable = {
					right_death_side_spain_moffo_check = 0
				}
			}	
			if = {
				limit = {
					SPR = {
						has_completed_focus = SPA_en_espana_amanece
					}
					check_variable ={
						right_side_spain_moffo_check = 3
					}
				}
				add_to_variable = {
					SPR_RIGHT_industry_consumer_goods_factor = 0.004
				}
				set_variable = {
					right_death_side_spain_moffo_check = 1
				}
			}	
			if = {
				limit = {
					SPR = {
						has_completed_focus = SPA_en_espana_amanece
					}
					check_variable ={
						right_side_spain_moffo_check = 4
					}
				}
				add_to_variable = {
					SPR_RIGHT_industry_consumer_goods_factor = 0.005
				}
				set_variable = {
					right_death_side_spain_moffo_check = 1
				}
			}	
			if = {
				limit = {
					SPR = {
						has_completed_focus = SPA_en_espana_amanece
					}
					check_variable ={
						right_side_spain_moffo_check = 5
					}
				}
				add_to_variable = {
					SPR_RIGHT_industry_consumer_goods_factor = 0.006
				}
				set_variable = {
					right_death_side_spain_moffo_check = 2
				}
			}
			if = {
				limit = {
					SPR = {
						has_completed_focus = SPA_en_espana_amanece
					}
					check_variable ={
						right_side_spain_moffo_check = 6
					}
				}
				add_to_variable = {
					SPR_RIGHT_industry_consumer_goods_factor = 0.007
				}
				set_variable = {
					right_death_side_spain_moffo_check = 2
				}
			}		
			if = {
				limit = {
					SPR = {
						has_completed_focus = SPA_en_espana_amanece
					}
					check_variable ={
						right_side_spain_moffo_check = 7
					}
				}
				add_to_variable = {
					SPR_RIGHT_industry_consumer_goods_factor = 0.008
				}
				set_variable = {
					right_death_side_spain_moffo_check = 3
				}
			}	
			if = {
				limit = {
					SPR = {
						has_completed_focus = SPA_en_espana_amanece
					}
					check_variable ={
						right_side_spain_moffo_check = 8
					}
				}
				add_to_variable = {
					SPR_RIGHT_industry_consumer_goods_factor = 0.009
				}
				set_variable = {
					right_death_side_spain_moffo_check = 3
				}
			}
			if = {
				limit = {
					SPR = {
						has_completed_focus = SPA_en_espana_amanece
					}
					check_variable ={
						right_side_spain_moffo_check = 9
					}
				}
				add_to_variable = {
					SPR_RIGHT_industry_consumer_goods_factor = 0.01
				}
				set_variable = {
					right_death_side_spain_moffo_check = 4
				}
			}
		} 
	}		
}
on_actions = {
	on_monthly_SPR= { 
		effect = { 
			if = {
				limit = {
					check_variable ={
						right_side_spain_moffo_check > 9
					}
				}
				set_variable = {
					right_side_spain_moffo_check = 9
				}
			}	
		} 
	}		
}


on_actions = {
	on_monthly_SPR= { 
		effect = { 
			if = {
				limit = {
					SPR = {
						has_idea_with_trait = spr_banker_affaris_left
						NOT = {
							has_idea_with_trait = spr_cic_theories
						}
					}
				}
				add_cic = 6000
			}
			if = {
				limit = {
					SPR = {
						has_idea_with_trait = spr_cic_theories
						NOT = {
							has_idea_with_trait = spr_banker_affaris_left
						}
					}
				}
				add_cic = 6000
			}
			if = {
				limit = {
					SPR = {
						has_idea_with_trait = spr_cic_theories
						has_idea_with_trait = spr_banker_affaris_left
					}
				}
				add_cic = 12000
			}
		} 
	}		
}
on_actions = {
	on_monthly_SPR= { 
		effect = { 
			if = {
				limit = {
					SPR = {
						has_idea_with_trait = spr_financial_expert
						NOT = {
							has_idea_with_trait = spr_internal_affaris
						}
					}
				}
				add_cic = 3000
			}
			if = {
				limit = {
					SPR = {
						has_idea_with_trait = spr_internal_affaris
						NOT = {
							has_idea_with_trait = spr_financial_expert
						}
					}
				}
				add_cic = 3000
			}
			if = {
				limit = {
					SPR = {
						has_idea_with_trait = spr_financial_expert
						has_idea_with_trait = spr_internal_affaris
					}
				}
				add_cic = 6000
			}
		} 
	}		
}

on_actions = {
	on_monthly_SPR= { 
		effect = { 
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization = 0
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.005
					tooltip = industrial_capacity_factory_tooltip
				}
			}
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization = 1
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.006
					tooltip = industrial_capacity_factory_tooltip
				}
			}
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization = 2
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.007
					tooltip = industrial_capacity_factory_tooltip
				}
			}
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization = 3
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.008
					tooltip = industrial_capacity_factory_tooltip
				}
			}
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization = 4
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.009
					tooltip = industrial_capacity_factory_tooltip
				}
			}
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization = 5
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.01
					tooltip = industrial_capacity_factory_tooltip
				}
			}
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization = 6
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.011
					tooltip = industrial_capacity_factory_tooltip
				}
			}
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization = 7
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.012
					tooltip = industrial_capacity_factory_tooltip
				}
			}
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization = 8
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.013
					tooltip = industrial_capacity_factory_tooltip
				}
			}
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization = 9
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.014
					tooltip = industrial_capacity_factory_tooltip
				}
			}
			if = {
				limit = {
					has_completed_focus = SPA_arsenal_of_the_old_wrold
					check_variable = {
						export_specialization > 9
					}
				}
				add_to_variable = {
					var = SPR_LEFT_industry_industrial_capacity_factory
					value = 0.015
					tooltip = industrial_capacity_factory_tooltip
				}
			}

		} 
	}		
}

on_actions = {
	on_monthly_SPR= { 
		effect = { 
			if = {
                limit = {
                    SPR = {
                        has_idea_with_trait = spr_internal_affaris
						NOT = {
							has_idea_with_trait = spr_financial_expert
						}
                    }
                }
                random_list = {
                    1 = {
                       country_event = {
                            id = spain.1111
                            random_days = 20
                        }
                    }
                    9 = {
                    }
                }
            }

			if = {
				limit = { 
					has_idea_with_trait = spr_internal_affaris
					NOT = {
						has_idea_with_trait = spr_financial_expert
					}
				}
				random_list = {
					1 = {
                       country_event = {
                            id = spain.1111
                            random_days = 20
                        }
                    }
                    9 = {
                    }
				}
			}	
			if = {
				limit = { 
					has_idea_with_trait = spr_financial_expert
					has_idea_with_trait = spr_internal_affaris
				}
				random_list = {
					2 = {
                       country_event = {
                            id = spain.1111
                            random_days = 20
                        }
                    }
                    8 = {
                    }
				}
			}
		} 
	}		
}
on_actions = {
	on_monthly_SPR= { 
		effect = { 
			if = {
                limit = {
                    SPR = {
                        has_idea_with_trait = spr_fiscal_expert
						NOT = {
							has_idea_with_trait = spr_banker_affaris
						}
                    }
                }
                random_list = {
                    1 = {
                       country_event = {
                            id = spain.1112
                            random_days = 20
                        }
                    }
                    9 = {
                    }
                }
            }

			if = {
				limit = { 
                      has_idea_with_trait = spr_banker_affaris
					NOT = {
						has_idea_with_trait = spr_fiscal_expert
					}
				}
				random_list = {
					1 = {
                       country_event = {
                            id = spain.1112
                            random_days = 20
                        }
                    }
                    9 = {
                    }
				}
			}	
			if = {
				limit = { 
					has_idea_with_trait = spr_fiscal_expert
					has_idea_with_trait = spr_banker_affaris
				}
				random_list = {
					2 = {
                       country_event = {
                            id = spain.1112
                            random_days = 20
                        }
                    }
                    8 = {
                    }
				}
			}
		} 
	}		
}


on_actions = {
	on_monthly_SPR = { 
		effect = { 
			if = {
				limit = {
					SPR = {
                            has_completed_focus = SPA_the_overnight_modernisation 
                        		
					}
                }
                random_owned_state = {
                    limit = {
                        industrial_complex > 1
                        is_controlled_by = ROOT
					    is_core_of = ROOT
                    }
                    remove_building = {
                        type = industrial_complex
                        level = 1
                    }
                }
                random_owned_state = {
                    limit = {
                        is_controlled_by = ROOT
                        is_core_of = ROOT
                    }
                    add_extra_state_shared_building_slots = 1
                    add_building_construction = {
                        type = arms_factory
                        level = 1
                        instant_build = yes
                    }
			    }
            }
		} 
	}		
}

on_actions = {
	on_monthly_SPN = { 
		effect = { 
			if = {
				limit = {
					SPN = {
						has_global_flag = spanish_civil_war
					}	
				}
				add_to_variable = { var = SPA_rep_army_attack_factor_var value = -0.005 }
				add_to_variable = { var = SPA_rep_army_defence_factor_var value = -0.005 }
				add_to_variable = { var = SPA_rep_industry_industrial_capacity_factory value = -0.005 }
			}	
			if = {
				limit = {
					SPN = {
						has_completed_focus = SPR_soviet_small_giver
					}	
				}
				add_to_variable = { var = SPA_rep_army_attack_factor_var value = 0.001 }
				add_to_variable = { var = SPA_rep_industry_industrial_capacity_factory value = -0.005 }
			}
			if = {
				limit = {
					SPN = {
						has_completed_focus = SPR_mountaineer_aids
					}	
				}
				add_to_variable = { var = SPA_rep_army_attack_factor_var value = 0.0015 }
			}
			if = {
				limit = {
					SPN = {
						has_completed_focus = SPR_republic_army
					}	
				}
				add_to_variable = { var = SPA_rep_army_defence_factor_var value = 0.001 }
			}
			if = {
				limit = {
					SPN = {
						has_completed_focus = SPR_the_new_republic_army
					}	
				}
				add_to_variable = { var = SPA_rep_army_defence_factor_var value = 0.0015 }
			}
		} 
	}		
}