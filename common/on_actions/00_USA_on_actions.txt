on_actions = {
    on_startup = { #Bonuses will be given through focus instead
        effect = {
            
           
            every_state = {
                limit = {
                    OR = {
                        state = 373
                        state = 395 
                        state = 392 
                        state = 391
                        state = 384
                        state = 383
                        state = 374 
                        state = 382 
                        state = 381 
                        state = 390
                    }
                }
                add_dynamic_modifier = {
					modifier = USA_dust_bowl_modifier
				}
                set_state_flag = USA_dust_bowl_states 
            }
        }
    }
	on_monthly_USA = { 

		effect = { 
            if = {
                limit = {
                    has_completed_focus = USA_never_at_a_disadvantage
                }
                if = {
                    limit = {
                        naval_strength_comparison = {
                            other = JAP
                            #tooltip = my_loc_key_tt
                            ratio < 0.9
                            sub_unit_def_weights = {
                                battleship = 4
                                battle_cruiser = 3
                                carrier = 4
                                light_cruiser = 2
                                heavy_cruiser = 2
                                destroyer = 1
                                submarine = 0
                            }
                        }
                        naval_strength_comparison = {
                            other = JAP
                            #tooltip = my_loc_key_tt
                            ratio > 0.8
                            sub_unit_def_weights = {
                                battleship = 4
                                battle_cruiser = 3
                                carrier = 4
                                light_cruiser = 2
                                heavy_cruiser = 2
                                destroyer = 1
                                submarine = 0
                            }
                        }
                    }
                    add_to_variable = { var = USA_industrial_capacity_dockyard_var2 value =  0.01 }
                }
                else_if = {
                    limit = {
                        naval_strength_comparison = {
                            other = JAP
                            #tooltip = my_loc_key_tt
                            ratio < 0.8
                            sub_unit_def_weights = {
                                battleship = 4
                                battle_cruiser = 3
                                carrier = 4
                                light_cruiser = 2
                                heavy_cruiser = 2
                                destroyer = 1
                                submarine = 0
                            }
                        }
                        naval_strength_comparison = {
                            other = JAP
                            #tooltip = my_loc_key_tt
                            ratio > 0.7
                            sub_unit_def_weights = {
                                battleship = 4
                                battle_cruiser = 3
                                carrier = 4
                                light_cruiser = 2
                                heavy_cruiser = 2
                                destroyer = 1
                                submarine = 0
                            }
                        }
                    }
                    add_to_variable = { var = USA_industrial_capacity_dockyard_var2 value =  0.02 }
                }
                else_if = {
                    limit = {
                        naval_strength_comparison = {
                            other = JAP
                            #tooltip = my_loc_key_tt
                            ratio < 0.7
                            sub_unit_def_weights = {
                                battleship = 4
                                battle_cruiser = 3
                                carrier = 4
                                light_cruiser = 2
                                heavy_cruiser = 2
                                destroyer = 1
                                submarine = 0
                            }
                        }
                        naval_strength_comparison = {
                            other = JAP
                            #tooltip = my_loc_key_tt
                            ratio > 0.6
                            sub_unit_def_weights = {
                                battleship = 4
                                battle_cruiser = 3
                                carrier = 4
                                light_cruiser = 2
                                heavy_cruiser = 2
                                destroyer = 1
                                submarine = 0
                            }
                        }
                    }
                    add_to_variable = { var = USA_industrial_capacity_dockyard_var2 value =  0.03 }
                }
                else_if = {
                    limit = {
                        naval_strength_comparison = {
                            other = JAP
                            #tooltip = my_loc_key_tt
                            ratio < 0.6
                            sub_unit_def_weights = {
                                battleship = 4
                                battle_cruiser = 3
                                carrier = 4
                                light_cruiser = 2
                                heavy_cruiser = 2
                                destroyer = 1
                                submarine = 0
                            }
                        }
                        naval_strength_comparison = {
                            other = JAP
                            #tooltip = my_loc_key_tt
                            ratio > 0.5
                            sub_unit_def_weights = {
                                battleship = 4
                                battle_cruiser = 3
                                carrier = 4
                                light_cruiser = 2
                                heavy_cruiser = 2
                                destroyer = 1
                                submarine = 0
                            }
                        }
                    }
                    add_to_variable = { var = USA_industrial_capacity_dockyard_var2 value =  0.04 }
                }
                else_if = {
                    limit = {
                        naval_strength_comparison = {
                            other = JAP
                            #tooltip = my_loc_key_tt
                            ratio < 0.5
                            sub_unit_def_weights = {
                                battleship = 4
                                battle_cruiser = 3
                                carrier = 4
                                light_cruiser = 2
                                heavy_cruiser = 2
                                destroyer = 1
                                submarine = 0
                            }
                        }
                    }
                    add_to_variable = { var = USA_industrial_capacity_dockyard_var2 value =  0.05 }
                }
            }
            if = {
                limit = {
                    has_completed_focus = USA_increase_ONI_funding
                    check_variable = {
                        var = USA_decryption_power_var
                        value = 50 
                        compare = less_than
                    }
                }
                add_to_variable = { 
                    var = USA_decryption_power_var 
                    value = 1
                  
                }
            }
            if = {
                limit = {
                    has_completed_focus = USA_cut_funding_to_the_fleet
                    NOT = {
                        has_war_with = JAP 
                        has_war_with = GER 
                    }
                }
                if = {
                    limit = {
                        check_variable = {
                            var = admiral_counter_var
                            value = 5
                            compare = equals
                        }
                    }
                    set_variable = {
                        var = admiral_counter_var
                        value = 0
                    }
                }
                add_to_variable = {
                    var = admiral_counter_var
                    value = 1
                }
            }
            if = {
                limit = {
                    has_completed_focus = USA_cut_funding_to_the_fleet
                    check_variable = {
                        var = admiral_counter_var
                        value = 5
                        compare = equals
                    }
                    NOT = {
                        has_war_with = JAP 
                        has_war_with = GER 
                    }
                   
                }
               
                random_list = {
                    10 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = seawolf
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = seawolf
                                }
                            }
                            
                            #set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_seawolf_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    10 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = fleet_protector
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = fleet_protector
                                }
                            }
                            
                            set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_protector_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    10 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = blockade_runner
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = blockade_runner
                                }
                            }
                            
                            #set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_blockade_runner_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    10 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = superior_tactician
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = superior_tactician
                                }
                            }
                            
                            set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_superior_tactician_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    10 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = spotter
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = spotter
                                }
                            }
                            
                            #set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_spotter_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    10 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = fly_swatter
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = fly_swatter
                                }
                            }
                            
                            set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_fly_swatter_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                     10 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = ironside
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = ironside
                                }
                            }
                            
                            set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_ironside_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                     10 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = air_controller
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = air_controller
                                }
                            }
                            
                            set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_air_controller_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                     10 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = inshore_fighter
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = inshore_fighter
                                }
                            }
                            
                            set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_inshore_fighter_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    10 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = blue_water_expert
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = blue_water_expert
                                }
                            }
                            
                            set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_fly_blue_water_expert_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    10 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = green_water_expert
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = green_water_expert
                                }
                            }
                            
                            set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_fly_green_water_expert_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    
                    15 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                OR = {
                                    has_character_flag = good_admiral_flag
                                     has_character_flag = realgood_admiral_flag
                                }
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                NOT = {
                                    has_character_flag = good_admiral_flag
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                }
                            }
                            
                            set_character_flag = good_admiral_flag
                            set_character_flag = {
                                flag = current_xp_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    6 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = seawolf
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                             limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = seawolf
                                }
                            }
                            
                            #set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_seawolf_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    6 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = fleet_protector
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                     has_trait = fleet_protector
                                }
                            }
                            
                            set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_protector_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    6 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = blockade_runner
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                     has_trait = blockade_runner
                                }
                            }
                            
                            #set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_blockade_runner_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    6 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = superior_tactician
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                     has_trait = superior_tactician
                                }
                            }
                            
                            set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_superior_tactician_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    6 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = spotter
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                             limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                     has_trait = spotter
                                }
                            }
                            
                            #set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_spotter_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    6 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = fly_swatter
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                             limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                     has_trait = fly_swatter
                                }
                            }
                            
                            set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_fly_swatter_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                     6 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = ironside
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                     has_trait = ironside
                                }
                            }
                            
                            set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_ironside_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                     6 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = air_controller
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = air_controller
                                }
                            }
                            
                            set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_air_controller_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                     6 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = inshore_fighter
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                             limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                     has_trait = inshore_fighter
                                }
                            }
                            
                            set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_inshore_fighter_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    6 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = blue_water_expert
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                     has_trait = blue_water_expert
                                }
                            }
                            
                            set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_fly_blue_water_expert_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    6 = {
                         modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = green_water_expert
                            }
                        }
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_character_flag = realgood_admiral_flag
                            }
                        }
                        random_navy_leader = {
                             limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                     has_trait = green_water_expert
                                }
                            }
                            
                            set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_fly_green_water_expert_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    
                    11 = {
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
                                NOT = {
                                    has_character_flag = realgood_admiral_flag
                                    has_character_flag = hellnah_admiral_flag
                                }
                            }
                            
                            set_character_flag = realgood_admiral_flag
                            set_character_flag = {
                                flag = current_xp_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = seawolf
                            }
                        }
                        random_navy_leader = {
                             limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = seawolf
                                }
                            }
                            
                           #set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_seawolf_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = fleet_protector
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = fleet_protector
                                }
                            }
                            
                            set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_protector_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = blockade_runner
                            }
                        }
                        random_navy_leader = {
                           limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = blockade_runner
                                }
                            }
                            
                           # set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_blockade_runner_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = superior_tactician
                            }
                        }
                        random_navy_leader = {
                           limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = superior_tactician
                                }
                            }
                            
                            set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_superior_tactician_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = spotter
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = spotter
                                }
                            }
                            
                           # set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_spotter_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = fly_swatter
                            }
                        }
                        random_navy_leader = {
                             limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = fly_swatter
                                }
                            }
                            
                            set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_fly_swatter_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                     4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = ironside
                            }
                        }
                        random_navy_leader = {
                           limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = ironside
                                }
                            }
                            
                            set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_ironside_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                     4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = air_controller
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = air_controller
                                }
                            }
                            
                            set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_air_controller_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                     4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = inshore_fighter
                            }
                        }
                        random_navy_leader = {
                             limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = inshore_fighter
                                }
                            }
                            
                            set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_inshore_fighter_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = blue_water_expert
                            }
                        }
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = blue_water_expert
                                }
                            }
                            
                            set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_fly_blue_water_expert_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    4 = {
                        modifier = {
                            factor = 0
                            all_navy_leader = {
                                has_trait = green_water_expert
                            }
                        }
                        random_navy_leader = {
                             limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    has_trait = green_water_expert
                                }
                            }
                            
                            set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_fly_green_water_expert_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    
                    9 = {
                        
                        random_navy_leader = {
                            limit = {
                                has_character_flag = good_admiral_flag
								has_character_flag = realgood_admiral_flag
                                NOT = {
                                    has_character_flag = hellnah_admiral_flag
                                    
                                }
                            }
                            
                            set_character_flag = hellnah_admiral_flag
                            set_character_flag = {
                                flag = current_xp_flag
                                days = 10
                                value = 1
                            }


                        }
                       
                    }
                    
                   
                }
                  country_event = { id = usa.449 } 
                
            }
                add_to_variable = { var = USA_industrial_capacity_factory_var2 value =  0.013 }
                add_to_variable = { var = USA_industrial_capacity_dockyard_var2 value =  0.013 }
                add_to_variable = { var = USA_production_factory_max_efficiency_factor_var2 value =  0.002 }
                if = {
                    limit = {
                        AND = {
                            check_variable = { var = USA_production_speed_naval_facility_factor_var value = 0  compare = less_than }
                        }
                    }
                    add_to_variable = { var = USA_production_speed_naval_facility_factor_var value =  0.01 } 
                }
                if = {
                    limit = {
                        AND = {
                            check_variable = { var = USA_production_speed_land_facility_factor_var value = 0  compare = less_than }
                        }
                    }
                    add_to_variable = { var = USA_production_speed_land_facility_factor_var value =  0.01 } 
                }
                if = {
                    limit = {
                        AND = {
                            check_variable = { var = USA_production_speed_air_facility_factor_var value = 0  compare = less_than }
                        }
                    }
                    add_to_variable = { var = USA_production_speed_air_facility_factor_var value =  0.01 } 
                }
                if = {
                    limit = {
                        AND = {
                            check_variable = { var = USA_production_speed_nuclear_facility_factor_var value = 0  compare = less_than }
                        }
                    }
                    add_to_variable = { var = USA_production_speed_nuclear_facility_factor_var value =  0.01 } 
                }
                if = {
                    limit = {
                        AND = {
                            check_variable = { var = USA_production_cost_synthetic_rubber_refinery_factor_var value = 0 compare = greater_than }
                            date > 1941.9.1
                        }
                    }
                    USA = {
                        add_to_variable = { var = USA_production_cost_synthetic_rubber_refinery_factor_var value =  -0.2 }
                        add_to_variable = { var = USA_production_cost_synthetic_refinery_factor_var value =  -0.2 }
                    }
                    ENG = {
                        add_to_variable = { var = ENG_production_speed_synthetic_refinery_factor_var value =  -0.2 }
                        add_to_variable = { var = ENG_production_speed_synthetic_rubber_refinery_factor_var value =  -0.2 }
                    }
                    
                }

            if = {
                limit = {
                    USA = {
                        has_idea = USA_eleanor_roosevelt
                    }
                }
                random_list = {
                    3.4 = {
                       country_event = {
                            id = usa.446
                            random_days = 20
                        }
                    }
                    10 = {
                    }
                }
            }
            if = {
                limit = {
                    USA = {
                        has_idea = USA_cordell_hull
                    }
                }
               random_list = {
                    10 = {
                       add_resource = {
                            type = steel
                            amount = 1
                            state = 126
                        }
                        add_resource = {
                            type = aluminium
                            amount = 1
                            state = 126
                        }
                    }
                    10 = {
                        add_resource = {
                            type = steel
                            amount = 1
                            state = 285
                        }
                         add_resource = {
                            type = chromium
                            amount = 1
                            state = 285
                        }
                    }
                    10 = {
                       add_resource = {
                            type = steel
                            amount = 1
                            state = 681
                        }
                        add_resource = {
                            type = tungsten
                            amount = 1
                            state = 681
                        }
                    }
                    10 = {
                        add_resource = {
                            type = steel
                            amount = 1
                            state = 468
                        }
                        add_resource = {
                            type = chromium
                            amount = 1
                            state = 468
                        }
                    }
                    10 = {
                        add_resource = {
                            type = steel
                            amount = 1
                            state = 433
                        }
                        add_resource = {
                            type = rubber
                            amount = 1
                            state = 433
                        }
                    }
                    10 = {
                        add_resource = {
                            type = steel
                            amount = 1
                            state = 539
                        }
                        add_resource = {
                            type = chromium
                            amount = 1
                            state = 539
                        }
                    }
                }
            }
            if = {
                limit = {
                    USA = {
                        has_idea = USA_leon_handerson_theorist_production2
                    }
                }
                set_temp_variable = {
                    var = all_states_by_4
                    value = USA_succesful_WPA_program_var
                }
                divide_temp_variable = { all_states_by_4 = 4 }
                for_loop_effect = {
				    end = all_states_by_4
                    random_owned_controlled_state = {
                        limit = {
                            has_state_flag = USA_finished_ABC_project
                            industrial_complex > 0
                        }
                        remove_building = {
                            type = industrial_complex
                            level = 1
                        }
                        add_extra_state_shared_building_slots = 2
                        add_building_construction = {
                            type = arms_factory
                            level = 2
                            instant_build = yes
                        }
                    }
                }

            }
			if = {
				limit = {
					USA = {
                        OR = {
                            has_idea = USA_great_depression_1_law
                            has_idea = USA_great_depression_2_law
                            has_idea = USA_great_depression_3_law
                            has_idea = USA_great_depression_4_law
                            has_idea = USA_great_depression_5_law
                            has_idea = USA_great_depression_6_law
                            has_idea = USA_great_depression_7_law
                            has_idea = USA_great_depression_8_law
                            has_idea = USA_great_depression_9_law
                            has_idea = USA_great_depression_10_law
                        }
					}	
				}
				add_to_variable = { var = USA_consumer_goods_factor_var value = USA_monthly_consumer_goods_increase }
			}	
		} 
	}		
}
