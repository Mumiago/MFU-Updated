### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}
### search_filters = {FOCUS_FILTER_PROPAGANDA}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
### search_filters = {FOCUS_FILTER_ITA_MISSIOLINI}
### search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}
# Reminder that focus filters prio has to be handled in the generic focus file :)



focus_tree = {
	id = italian_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = ITA
		}
	}
	
	default = no

	continuous_focus_position = { x = 500 y = 1320 }

	initial_show_position = {
		x = 0
		y = 0
	}



	focus = {
		id = ITA_march_of_the_iron_will
		icon = GFX_focus_ITA_aerial_legion
		#mutually_exclusive = { focus = ITA_victory_by_any_means }
		#relative_position_id = ITA_victoryinETH
		x = 22
		y = 0

		cost = 5

		ai_will_do = {
			factor = 4000
		}

		bypass = {
			OR = {
				owns_state = 271
				ETH = { is_puppet_of = ITA }
			}
		}

		available = {
			has_war_with = ETH
			
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
            add_political_power =75
			army_experience = 150
		}
	}

	focus = {
		id = ITA_victoryinETH
		icon = GFX_focus_ITA_bold_fascism
		prerequisite = { focus = ITA_march_of_the_iron_will }

		x = 10
		y = 1

		cost = 5

		ai_will_do = {
			factor = 4000
		}

		bypass = {
		}

		available = {
		OR = {
				owns_state = 271
				ETH = { is_puppet_of = ITA }
				ETH = { is_ai = no }
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			ITA_bop_low_increase_effect = yes
			add_popularity = { ideology = fascism popularity = 0.05 }
			add_war_support = 0.1
			add_stability = 0.05
			add_political_power = 150
			add_ideas = impero_di_argilla

			country_event = { hours = 6 id = news.347 }
		}
	}

	focus = {
		id = ITA_Hitler_visits_Rome
		icon = GFX_goal_ita_pact_of_steel
		prerequisite = { focus = ITA_victoryinETH }
		relative_position_id = ITA_victoryinETH
		x = -2
		y = 1
		cost = 2
		ai_will_do = {
			factor = 80
		}

		available_if_capitulated = yes

		bypass = {
			
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 2 }
					add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
			}
			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro

			add_to_variable = { 
				var = ITA_industry_consumer_goods_modifier 
				value = -0.02
				tooltip = consumer_goods_tooltip
			}	

			custom_effect_tooltip = ITA_modify_military_industry_dynamic_modifier_ns_intro
			add_to_variable = {
				var = ITA_military_industry_dm_industrial_capacity_factory
				value = 0.05 
				tooltip = industrial_capacity_factory_tooltip
			}
			add_to_variable = {
				var = ITA_military_industry_dm_factory_max_efficiency_factor
				value = 0.05
				tooltip = production_factory_max_efficiency_tooltip
			}
				#add_ideas = ITA_iron_alliance
			GER = {
				add_ideas = GER_iron_alliance
			}
		}
	}

	focus = {
		id = ITA_aid_the_caudillo
		icon = GFX_focus_intervention_spain_nationalists
		prerequisite = { focus = ITA_Hitler_visits_Rome }
		mutually_exclusive = { focus = ITA_force_a_nationalist_victory }
		x = -1
		y = 1
		relative_position_id = ITA_Hitler_visits_Rome
		cost = 5
		ai_will_do = {
			factor = 60
		}


		icon = GFX_FRA_token_support

		available = {
			has_global_flag = spanish_civil_war
			NOT = {
				has_global_flag = scw_over
			}
			ITA = {
				has_equipment = {
					infantry_equipment > 4999
				}
			}
		}

		bypass = {
			has_global_flag = scw_over
		}

		available_if_capitulated = yes	
		
		completion_reward = {
			ITA_bop_very_low_increase_effect = yes
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 140
			}
			else = {
				army_experience = 250
			}
			air_experience = 150
			add_political_power = 100
			add_war_support = 0.05

			add_timed_idea = {
				idea = ITA_helping_spain
				days = 365
			}
			hidden_effect = {
				ITA = {
					add_equipment_to_stockpile = { type = infantry_equipment amount = -5000 producer = ITA }
				}
				add_manpower = -100000
			}

			if = {
				limit = {
					SPR = { 
						OR = { 
							has_government = fascism 
							has_government = neutrality 
						}
					}	
				}			
				SPR = {
					add_manpower = 100000
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 5000 producer = ITA }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2000 producer = ITA }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 300 producer = ITA }
					add_equipment_to_stockpile = { type = radio_equipment_1 amount = 300 producer = ITA }
					add_equipment_to_stockpile = { type = motorized_equipment amount = 200 producer = ITA }
					add_equipment_to_stockpile = { type = horse_equipment amount = 500 producer = ITA }
					add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 500 producer = ITA }
					add_equipment_to_stockpile = { type = fighter_equipment_1934 amount = 150 producer = ITA }
					add_equipment_to_stockpile = { type = tac_bomber_equipment_1934 amount = 50 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1936 amount = 100 producer = ITA }
				}
			}
		}
	}

	focus = {
		id = ITA_force_a_nationalist_victory
		icon = GFX_FRA_support_spain
		prerequisite = { focus = ITA_Hitler_visits_Rome  }
		mutually_exclusive = { focus = ITA_aid_the_caudillo }
		x = 1
		y = 1
		relative_position_id = ITA_Hitler_visits_Rome
		cost = 5
		available = {
			has_global_flag = spanish_civil_war
			NOT = {
				has_global_flag = scw_over
			}
			ITA = {
				has_equipment = {
					infantry_equipment > 9999
				}
			}
		}
		ai_will_do = {
			factor = 40
		}

		bypass = {
			has_global_flag = scw_over
		}
		available_if_capitulated = yes	
		
		completion_reward = {
			ITA_bop_low_increase_effect = yes
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 205
			}
			else = {
				army_experience = 375
			}
			air_experience = 200
			add_political_power = 200
			add_war_support = 0.1
			hidden_effect = {
				ITA = {
					add_equipment_to_stockpile = { type = infantry_equipment amount = -10000 producer = ITA }
				}
				add_manpower = -150000
			}
		#	if = {
		#		limit = {
		#			NOT = { has_dlc = "La Resistance" }
		#		}
		#		random_other_country = {
		#			limit = {
		#				original_tag = SPR
		#				has_government = fascism
		#			}
		#			add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war }
		#		}
		#	}
		#	if = {
		#		limit = {
			#		has_dlc = "La Resistance"
			#	}
			#	SPA = { add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war } }
			#}

			add_timed_idea = {
				idea = ITA_helping_spain_2
				days = 365
			}

		#	custom_effect_tooltip = ITA_aviazione_legionaria_tt
		#	hidden_effect = {
		#		if ={
		#			limit = {
		#				has_dlc = "By Blood Alone"
		#			}
		#			load_oob = "ITA_aviazione_legionaria_bba"
		#		}
		#		else = {
		#			load_oob = "ITA_aviazione_legionaria_legacy"
		#		}
		#	}
			if = {
				limit = {
					SPR = { 
						OR = { 
							has_government = fascism 
							has_government = neutrality 
						}
					}	
				}			
				SPR = {
					add_manpower = 150000
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 10000 producer = ITA }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4000 producer = ITA }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 600 producer = ITA }
					add_equipment_to_stockpile = { type = radio_equipment_1 amount = 600 producer = ITA }
					add_equipment_to_stockpile = { type = motorized_equipment amount = 400 producer = ITA }
					add_equipment_to_stockpile = { type = horse_equipment amount = 1000 producer = ITA }
					add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 1000 producer = ITA }
					add_equipment_to_stockpile = { type = fighter_equipment_1934 amount = 250 producer = ITA }
					add_equipment_to_stockpile = { type = tac_bomber_equipment_1934 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1934 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1936 amount = 100 producer = ITA }

				}
			}
			
		}
	}
	focus = {
		id = ITA_pact_of_steel
		icon = GFX_goal_further_military_cooperation
		prerequisite = { focus = ITA_force_a_nationalist_victory focus = ITA_aid_the_caudillo }
		relative_position_id = ITA_Hitler_visits_Rome
		available = {
			has_government = fascism
			NOT = { has_war_with = GER }
			GER = { 
				has_government = fascism 
				country_exists = GER
			}
		}
		x = 0
		y = 2
		cost = 2.2
		ai_will_do = {
			factor = 240

			modifier = {
				factor = 0.5
				ai_irrationality > 20
			}

			modifier = {
				factor = 0.5
				ai_irrationality > 25
			}

			modifier = {
				factor = 0.1
				ai_irrationality > 30
			}
		}
		completion_reward = {
			add_resource = {
				type = steel
				amount = 15
				state = 159
			}
			add_resource = {
				type = chromium
				amount = 10
				state = 159
			}
			GER = {
				add_opinion_modifier = { target = ITA modifier = pact_of_steel_opinion }
			}
			GER = {
				add_opinion_modifier = { target = SWE modifier = pact_of_steel_opinion }
			}
			ITA = {
				add_opinion_modifier = { target = GER modifier = pact_of_steel_opinion }
			}
			ITA = {
				add_opinion_modifier = { target = SWE modifier = pact_of_steel_opinion }
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.184 }
			}
		}
	}

	focus = {
		id = ITA_culto_del_duce
		icon = GFX_focus_ITA_muss_greatness
		prerequisite = { focus = ITA_victoryinETH }

		allow_branch = {
		}

		x = 0
		y = 1
		relative_position_id = ITA_victoryinETH
		cost = 2.9

		ai_will_do = {
			factor = 4000
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			ITA_bop_low_increase_effect = yes
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_giuseppe_bottai
		}
	}
	focus = {
		id = ITA_Minculpop
		icon = GFX_goal_ITA_ministero_cultura_popolare
		prerequisite = { focus = ITA_victoryinETH }
		relative_position_id = ITA_victoryinETH
		x = 2
		y = 1
		cost = 5
		ai_will_do = {
			factor = 320
		}

		available_if_capitulated = yes

		bypass = {
			
		}

		completion_reward = {
			ITA_bop_low_increase_effect = yes
			add_political_power = 50
			add_popularity = { ideology = fascism popularity = 0.05 }
			add_war_support = 0.1

			#custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro

			#add_to_variable = {
			#	var = ITA_re_conscription_factor
			#	value = 0.05
			#	tooltip = recruitable_population_factor_tooltip
			#}
 
			#custom_effect_tooltip = ITA_OAK_modify_regio_esercito_dynamic_modifier_ns_intro

			#add_to_variable = {
			#	var = army_morale_factor
			#	value = 0.05
			#	tooltip = army_morale_factor_tooltip
			#}
			#custom_effect_tooltip = ITA_bop_unlock_decisions

			#unlock_decision_tooltip = ITA_prioritize_machine_tools_for_construction
			#unlock_decision_tooltip = ITA_prioritize_machine_tools_for_military
			#unlock_decision_tooltip = ITA_convert_industrial_complexes
			#unlock_decision_tooltip = ITA_convert_military_complexes
			#unlock_decision_tooltip = ITA_war_building_slot
		}
	}	

	focus = {
		id = ITA_la_battaglia_del_grano
		icon = GFX_focus_SOV_breadbasket_of_the_union
		prerequisite = { focus = ITA_Minculpop }
		mutually_exclusive = { focus = ITA_la_battaglia_per_la_terra }
		x = -1
		y = 1
		relative_position_id = ITA_Minculpop
		cost = 5
		ai_will_do = {
			factor = 180
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = ITA_battaglia_del_grano days = 730 }


		}
	}

	focus = {
		id = ITA_la_battaglia_per_la_terra
		icon = GFX_focus_generic_land_reclamation
		prerequisite = { focus = ITA_Minculpop }
		mutually_exclusive = { focus = ITA_la_battaglia_del_grano }
		x = 1
		y = 1
		relative_position_id = ITA_Minculpop
		cost = 5

		ai_will_do = {
			factor = 40
		}
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

		completion_reward = {
			if = { #Latium
				limit = {
					2 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				2 = {
					add_extra_state_shared_building_slots = 5
				}
			}
			if = { #Campania
				limit = {
					117 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				117 = {
					add_extra_state_shared_building_slots = 5
				}
			}

			if = { #Tuscany
				limit = {
					162 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				162 = {
					add_extra_state_shared_building_slots = 5
				}
			}
			add_timed_idea = { idea = ITA_battaglia_per_la_terra days = 730 }


		}
	}	
	focus = {
		id = ITA_trains_on_time
		icon = GFX_focus_ITA_muss_trains
		prerequisite = { focus = ITA_la_battaglia_per_la_terra focus = ITA_la_battaglia_del_grano }
		relative_position_id = ITA_Minculpop
		x = 0
		y = 2
		cost = 2.9
		ai_will_do = {
			factor = 80
		}

		available_if_capitulated = yes

		completion_reward = {
			#add_stability = 0.05
			ITA_bop_very_low_increase_effect = yes
			add_equipment_to_stockpile = { 
				type = train_equipment 
				amount = 100 
				producer = ITA 
			} 
			add_timed_idea = { 
				idea = trains_on_time
				days = 365
			}
	 	}
	}





	focus = {
		id = ITA_by_blood_alone
		icon = GFX_focus_ITA_by_blood_alone
		prerequisite = { focus = ITA_trains_on_time }
		prerequisite = { focus = ITA_culto_del_duce }
		prerequisite = { focus = ITA_pact_of_steel }

		x = -2
		y = 1
		relative_position_id = ITA_trains_on_time
		cost = 5

		ai_will_do = {
			factor = 4000
		}
		

		available = {
			country_exists = EFR
		}

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			hidden_effect = {
				sound_effect = sp_ita_waronallies
				set_global_flag = GER_sealion_fix
			}
			custom_effect_tooltip = salo_warning_2
			custom_effect_tooltip = salo_warning

			#add_stability = -0.1

			

			add_ideas = ITA_rules_the_waves
			custom_effect_tooltip = salo_warning_3
			custom_effect_tooltip = ITA_modify_military_industry_dynamic_modifier_ns_intro
			
			add_to_variable = {
				var = ITA_military_industry_dm_industrial_capacity_factory
				value = 0.1
				tooltip = industrial_capacity_factory_tooltip
			}
			add_to_variable = {
				var = ITA_military_industry_dm_industrial_capacity_dockyard
				value = 0.1
				tooltip = industrial_dockyard_capacity_factory_tooltip
			}
			

			custom_effect_tooltip = ITA_by_blood_alonearmy_tt
			
			add_to_variable = { ITA_re_experience_gain_factor = -0.35 }
			
			ITA = {
				declare_war_on = {
					target = ENG
					type = annex_everything
				}
			}	
			hidden_effect = {
				ITA = { 
					add_to_war = { 
						targeted_alliance = GER
						enemy = ENG
					}
				}
				ETH = { 
					add_to_war = { 
						targeted_alliance = GER
						enemy = ENG
					}
				}
				if = {
					limit = {
						country_exists = SAF
					}
					SAF = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						country_exists = AST
					}
					AST = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						country_exists = CAN
					}
					CAN = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						country_exists = NZL
					}
					NZL = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						country_exists = RAJ
					}
					RAJ = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						country_exists = FRA
					}
					FRA = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						country_exists = POL
					}
					POL = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						IRE = {
							is_in_faction_with = ENG
						}	
					}	
					IRE = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						MEX = {
							is_in_faction_with = ENG
						}	
					}	
					MEX = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						BRA = {
							is_in_faction_with = ENG
						}
					}
					BRA = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
			}
		}
	}


	focus = {
		id = ITA_german_military_cooperation
		icon = GFX_focus_ITA_pact_of_steel
		prerequisite = { focus = ITA_pact_of_steel }
		prerequisite = { focus = ITA_by_blood_alone }

		x = 0
		y = 2
		relative_position_id = ITA_pact_of_steel
		cost = 10

		ai_will_do = {
			factor = 260
		}

		available = {
			NOT = { has_war_with = GER }
			is_in_faction_with = GER 
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			GER = {
				country_event = { id = italy.5 days = 1 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_tech_bonus = {
					name = ITA_treaty_with_germany
					bonus = 0.5
					uses = 1
					category = support_tech
				}
				add_tech_bonus = {
					name = armor_bonus
					bonus = 0.5
					uses = 1
					category = cat_heavy_armor
					category = cat_medium_armor
					category = cat_light_armor
					name = ITA_treaty_with_germany
				}
			}
			custom_effect_tooltip = ITA_OAK_german_cooperation_ra_tt
			custom_effect_tooltip = ITA_OAK_german_cooperation_re_tt
			
			add_to_variable = { ITA_re_land_doctrine_cost_factor = -0.1 }

			add_to_variable = { ITA_ra_air_doctrine_cost_factor = -0.1 }

			add_research_slot = 1
		}
	}
	focus = {
		id = ITA_learn_from_the_luftwaffe
		icon = GFX_goal_GER_luftwaffe
		prerequisite = { focus = ITA_german_military_cooperation }
		x = 2
		y = 1
		relative_position_id = ITA_german_military_cooperation
		
		cost = 5
		ai_will_do = {
			factor = 30
		}


		available = {
			country_exists = EFR 
			OR = {
				has_tech = fighter_1940
				has_tech = heavy_fighter_1940
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			
			#custom_effect_tooltip = ITA_learn_from_the_luftwaffe_modifier_add_tt

			if = { 
				limit = {
					NOT = {
						has_tech = fighter_1940
					}
				}
				custom_effect_tooltip = ITA_fighter_get 
			}
			if = { 
				limit = {
					NOT = {
						has_tech = heavy_fighter_1940
					}
				}
				custom_effect_tooltip = ITA_heavy_fighter_get 
			}
			if = { 
				limit = {
					has_tech = fighter_1940
				}
				add_equipment_to_stockpile = { type = small_plane_airframe  amount = 300 producer = ITA }
			}
			if = { 
				limit = {
					has_tech = heavy_fighter_1940
					
				}
				add_equipment_to_stockpile = { type = medium_plane_fighter_airframe  amount = 200 producer = ITA }
			}
			#hidden_effect = {
			#	add_ideas = ITA_fighter_production
			#}
			add_tech_bonus = {
				name = air_CAS
				bonus = 0.5
				uses = 2
					category = cas_bomber
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			air_experience = 25	
		}
	}
	focus = {
		id = ITA_learn_from_wehrmacht
		icon = GFX_focus_ger_oppose_hitler
		prerequisite = { focus = ITA_german_military_cooperation }
		x = -2
		y = 1
		relative_position_id = ITA_german_military_cooperation
		cost = 2.2

		ai_will_do = {
			factor = 30
		}
  
		bypass = {

		}
		available_if_capitulated = no

		available = {
		  
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 161 }
					add_extra_state_shared_building_slots = 3 
						add_building_construction = {
							type = arms_factory
							level = 3 
							instant_build = yes
						}
			}
			custom_effect_tooltip = ITA_Divisione_corazzata_unit_tt
			hidden_effect = {
				if = {
					limit = {
						has_tech = ita_1940_heavy_tank_chassis
					}	
					if = {
						limit = {
							ITA = {
								NOT = {
									OR = {
										has_tech = large_front_operations
										has_tech = peoples_army
									}
								}
							}
						}
						division_template = {
							name = "Divisione Corazzata Heavy"

							division_names_group = ITA_ARM_01			
							
							regiments = {
								heavy_armor = { x = 0 y = 0 }
								heavy_armor = { x = 0 y = 1 }
								heavy_armor = { x = 0 y = 2 }
								heavy_armor = { x = 0 y = 3 }
								
								heavy_armor = { x = 1 y = 0 }
								heavy_armor = { x = 1 y = 1 }
								heavy_armor = { x = 1 y = 2 }
								heavy_armor = { x = 1 y = 3 }

								motorized = { x = 2 y = 0 }
								motorized = { x = 2 y = 1 }
								motorized = { x = 2 y = 2 }
								motorized = { x = 2 y = 3 }	

								motorized = { x = 3 y = 0 }

								heavy_armor = { x = 4 y = 0 }
								heavy_armor = { x = 4 y = 1 }	
							}
							support = {
								artillery = { x = 0 y = 0 }
								engineer = { x = 1 y = 0 }
								logistics_company_mot = { x = 0 y = 1 }
								maintenance_company = { x = 1 y = 1 }
								recon_ac = { x = 0 y = 2 }
								military_police = { x = 1 y = 2 } 
								signal_company = { x = 0 y = 3 } 
								
							}
							priority = 2
						}
					}
					else = {
						division_template = {
							name = "Divisione Corazzata Heavy"

							division_names_group = ITA_ARM_01			
							
							regiments = {
								heavy_armor = { x = 0 y = 0 }
								heavy_armor = { x = 0 y = 1 }
								heavy_armor = { x = 0 y = 2 }
								heavy_armor = { x = 0 y = 3 }
								
								heavy_armor = { x = 1 y = 0 }
								heavy_armor = { x = 1 y = 1 }
								heavy_armor = { x = 1 y = 2 }
								heavy_armor = { x = 1 y = 3 }

								motorized = { x = 2 y = 0 }
								motorized = { x = 2 y = 1 }
								motorized = { x = 2 y = 2 }
								motorized = { x = 2 y = 3 }	

								motorized = { x = 3 y = 0 }

								heavy_armor = { x = 4 y = 0 }
								heavy_armor = { x = 4 y = 1 }	
								heavy_armor = { x = 4 y = 2 }
							}
							support = {
								artillery = { x = 0 y = 0 }
								engineer = { x = 1 y = 0 }
								logistics_company_mot = { x = 0 y = 1 }
								maintenance_company = { x = 1 y = 1 }
								recon_ac = { x = 0 y = 2 }
								military_police = { x = 1 y = 2 } 
								signal_company = { x = 0 y = 3 } 
								
							}
							priority = 2
						}
					}
					every_state = {
						limit = { state = 2 }

						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Heavy\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}   
					}	
				}
				else_if = {
					limit = {
						has_tech = ita_1940_medium_tank_chassis
					}
					if = {
						limit = {
							ITA = {
								NOT = {
									OR = {
										has_tech = large_front_operations
										has_tech = peoples_army
									}
								}
							}
						}
						division_template = {
							name = "Divisione Corazzata Medium"

							division_names_group = ITA_ARM_01			
							
							regiments = {
								medium_armor = { x = 0 y = 0 }
								medium_armor = { x = 0 y = 1 }
								medium_armor = { x = 0 y = 2 }
								medium_armor = { x = 0 y = 3 }
								
								medium_armor = { x = 1 y = 0 }
								medium_armor = { x = 1 y = 1 }
								medium_armor = { x = 1 y = 2 }
								medium_armor = { x = 1 y = 3 }

								motorized = { x = 2 y = 0 }
								motorized = { x = 2 y = 1 }
								motorized = { x = 2 y = 2 }
								motorized = { x = 2 y = 3 }	

								motorized = { x = 3 y = 0 }

								medium_armor = { x = 4 y = 0 }
								medium_armor = { x = 4 y = 1 }	
							}
							support = {
								artillery = { x = 0 y = 0 }
								engineer = { x = 1 y = 0 }
								logistics_company_mot = { x = 0 y = 1 }
								maintenance_company = { x = 1 y = 1 }
								recon_ac = { x = 0 y = 2 }
								military_police = { x = 1 y = 2 } 
								signal_company = { x = 0 y = 3 } 
								
							}
							priority = 2
						}
					}
					else = {
						division_template = {
							name = "Divisione Corazzata Medium"

							division_names_group = ITA_ARM_01			
							
							regiments = {
								medium_armor = { x = 0 y = 0 }
								medium_armor = { x = 0 y = 1 }
								medium_armor = { x = 0 y = 2 }
								medium_armor = { x = 0 y = 3 }
								
								medium_armor = { x = 1 y = 0 }
								medium_armor = { x = 1 y = 1 }
								medium_armor = { x = 1 y = 2 }
								medium_armor = { x = 1 y = 3 }

								motorized = { x = 2 y = 0 }
								motorized = { x = 2 y = 1 }
								motorized = { x = 2 y = 2 }
								motorized = { x = 2 y = 3 }	

								motorized = { x = 3 y = 0 }

								medium_armor = { x = 4 y = 0 }
								medium_armor = { x = 4 y = 1 }	
								medium_armor = { x = 4 y = 2 }
							}
							support = {
								artillery = { x = 0 y = 0 }
								engineer = { x = 1 y = 0 }
								logistics_company_mot = { x = 0 y = 1 }
								maintenance_company = { x = 1 y = 1 }
								recon_ac = { x = 0 y = 2 }
								military_police = { x = 1 y = 2 } 
								signal_company = { x = 0 y = 3 } 
								
							}
							priority = 2
						}
					}

					every_state = {
						limit = { state = 2 }

						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Medium\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}   
						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Medium\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}		
					}	
				}
				else_if = {
					if = {
						limit = {
							ITA = {
								NOT = {
									OR = {
										has_tech = large_front_operations
										has_tech = peoples_army
									}
								}
							}
						}
						division_template = {
							name = "Divisione Corazzata Light"

							division_names_group = ITA_ARM_01			
							
							regiments = {
								light_armor = { x = 0 y = 0 }
								light_armor = { x = 0 y = 1 }
								light_armor = { x = 0 y = 2 }
								light_armor = { x = 0 y = 3 }
								
								light_armor = { x = 1 y = 0 }
								light_armor = { x = 1 y = 1 }
								light_armor = { x = 1 y = 2 }
								light_armor = { x = 1 y = 3 }

								motorized = { x = 2 y = 0 }
								motorized = { x = 2 y = 1 }
								motorized = { x = 2 y = 2 }
								motorized = { x = 2 y = 3 }	

								motorized = { x = 3 y = 0 }

								light_armor = { x = 4 y = 0 }
								light_armor = { x = 4 y = 1 }	
							}
							support = {
								artillery = { x = 0 y = 0 }
								engineer = { x = 1 y = 0 }
								logistics_company_mot = { x = 0 y = 1 }
								maintenance_company = { x = 1 y = 1 }
								recon_ac = { x = 0 y = 2 }
								military_police = { x = 1 y = 2 } 
								signal_company = { x = 0 y = 3 } 
								
							}
							priority = 2
						}
					}
					else = {
						division_template = {
							name = "Divisione Corazzata Light"

							division_names_group = ITA_ARM_01			
							
							regiments = {
								light_armor = { x = 0 y = 0 }
								light_armor = { x = 0 y = 1 }
								light_armor = { x = 0 y = 2 }
								light_armor = { x = 0 y = 3 }
								
								light_armor = { x = 1 y = 0 }
								light_armor = { x = 1 y = 1 }
								light_armor = { x = 1 y = 2 }
								light_armor = { x = 1 y = 3 }

								motorized = { x = 2 y = 0 }
								motorized = { x = 2 y = 1 }
								motorized = { x = 2 y = 2 }
								motorized = { x = 2 y = 3 }	

								motorized = { x = 3 y = 0 }

								light_armor = { x = 4 y = 0 }
								light_armor = { x = 4 y = 1 }	
								light_armor = { x = 4 y = 2 }
							}
							support = {
								artillery = { x = 0 y = 0 }
								engineer = { x = 1 y = 0 }
								logistics_company_mot = { x = 0 y = 1 }
								maintenance_company = { x = 1 y = 1 }
								recon_ac = { x = 0 y = 2 }
								military_police = { x = 1 y = 2 } 
								signal_company = { x = 0 y = 3 } 
								
							}
							priority = 2
						}
					}
					every_state = {
						limit = { state = 2 }
						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Light\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}   
						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Light\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Light\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}		
					}	
				}
			}	
		}
	}
	focus = {
		id = ITA_afrikakorps
		icon = GFX_GER_rommel_time_icon
		prerequisite = { focus = ITA_german_military_cooperation }

		x = 0
		y = 1
		relative_position_id = ITA_german_military_cooperation
		cost = 5
		ai_will_do = {
			factor = 30
		}

		available = {
			OR = {
				ITA = { controls_state= 663}
				ITA = { controls_state= 451}
				ITA = { controls_state= 450}
				ITA = { controls_state= 448}
				OR = {
					ITA = {
						controls_state = 458
					}
					any_other_country = {
						is_in_faction_with = ITA
						controls_state = 458
					}
				}
			}
			date > 1942.01.01
		}
		
		search_filters = {FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = ITA_go_thorugh_iran_tt
			if = {
				limit = {
					
					446 = {
						OR = {
							is_controlled_by = ITA
							is_controlled_by = GER
							is_controlled_by = EFR
							is_controlled_by = ROM
							is_controlled_by = HUN
							is_controlled_by = BUL
							is_controlled_by = SLO 
							is_controlled_by = SPR 
						}
					}
				

					ENG = {
						NOT = {
							has_decision = ENG_operation_countenance
							has_country_flag = ENG_countenance_flag
						}
					}
				}
				ENG = {
					activate_decision = ENG_operation_countenance
				}
			}
			add_timed_idea = {
				idea = ITA_afrikakorps_idea
				days = 60
			}
			GER = {
				unlock_decision_tooltip = GER_send_rommel
			}
			create_corps_commander = {
				name ="Albert Kesselring"
				picture = "Portrait_Germany_Albert_Kesselring.dds"
				traits={ trait_cautious logistics_wizard camouflage_expert infantry_leader }
				skill=4
				attack_skill=3
				defense_skill=6
				planning_skill=4
				logistics_skill=4
				legacy_id=32
			}	
			GER = {
				remove_unit_leader = 32
			}
			custom_effect_tooltip = GER_afrikakorps_tt
			if = {
				limit = { 
				GER = { 
					has_tech = ger_CAS_1935
					NOT = { has_tech = ger_CAS_1937	}
				}
			}
				add_equipment_to_stockpile = { type = CAS_equipment_1935 amount = 200 producer = GER }   
			}
			if = {
				limit = { 
				GER = { 
					has_tech = ger_CAS_1937
					NOT = { has_tech = ger_CAS_1939	}
				}
			}
				add_equipment_to_stockpile = { type = CAS_equipment_1937 amount = 200 producer = GER }   
			}
			if = {
				limit = { 
				GER = { 
					has_tech = ger_CAS_1939
				}
			}	
				add_equipment_to_stockpile = { type = CAS_equipment_1939 amount = 200 producer = GER }   
			}
			
			if = {
				limit = { 
				GER = { 
					has_tech = ger_fighter_1944
					
				}
			}
				add_equipment_to_stockpile = { type = fighter_equipment_1944 amount = 2000 producer = GER }   
			}
			else_if = {
				limit = { 
				GER = { 
					has_tech = ger_fighter_1943
				}
			}
				add_equipment_to_stockpile = { type = fighter_equipment_1943 amount = 2000 producer = GER }   
			}
			else_if = {
				limit = { 
				GER = { 
					has_tech = ger_fighter_1942
				
				}
			}
				add_equipment_to_stockpile = { type = fighter_equipment_1942 amount = 2000 producer = GER }   
			}
			else_if = {
				limit = { 
				GER = { 
					has_tech = ger_fighter_1941
					
				}
			}
				add_equipment_to_stockpile = { type = fighter_equipment_1941 amount = 2000 producer = GER }   
			}
			else_if = {
				limit = { 
				GER = { 
					has_tech = ger_fighter_1940
				
				}
			}
				add_equipment_to_stockpile = { type = fighter_equipment_1940 amount = 2000 producer = GER }   
			}
			else_if = {
				limit = { 
				GER = { 
					has_tech = ger_fighter_1938
				
				}
			}
				add_equipment_to_stockpile = { type = fighter_equipment_1938 amount = 2000 producer = GER }   
			}
			hidden_effect = {
				GER = {
					if = {
						limit = {
							NOT = {
								has_tech = ger_1940_medium_tank_chassis
							}
						}
						set_technology = {
							ger_1940_medium_tank_chassis = 1
						}
					}
					create_equipment_variant = {
						name = "Panzer III Ausf.J"
						type = medium_tank_chassis_1940
						parent_version = 0
						modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_torsion_bar_suspension
						armor_type_slot = tank_welded_armor
						armor_sloping_slot = unsloped_armor
						engine_type_slot = tank_gasoline_engine
						radio_slot = tank_radio_2
						special_type_slot_1 = basket
						special_type_slot_2 = cupola
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 6
						}
						icon = "gfx/interface/technologies/land/ger/3long.tga"
				
					}
					if = {
						limit = {
							NOT = {
								has_tech = ger_1939_medium_tank_chassis
							}
						}
						set_technology = {
							ger_1939_medium_tank_chassis = 1
						}
					}
					create_equipment_variant = {
						name = "Panzer IV Ausf.F2"
						type = medium_tank_chassis_1946
						parent_version = 0
						modules = {
						main_armament_slot = tank_medium_cannon_2
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						armor_sloping_slot = unsloped_armor
						engine_type_slot = tank_gasoline_engine
						radio_slot = tank_radio_1
						special_type_slot_1 = basket
						special_type_slot_2 = extra_ammo_storage
						special_type_slot_3 = cupola
						}
						upgrades = {
							tank_nsb_engine_upgrade = 10
							tank_nsb_armor_upgrade = 3
						}
						icon = "gfx/interface/technologies/land/ger/4j.tga"
						
					}
				}
				add_equipment_to_stockpile = { type = medium_tank_chassis_1940 amount = 300 producer = GER variant_name = "Panzer III Ausf.J" }
				add_equipment_to_stockpile = { type = medium_tank_chassis_1946 amount = 150 producer = GER variant_name = "Panzer IV Ausf.F2" }
				if = {
					limit = {
						ITA = {
							NOT = {
								OR = {
									has_tech = large_front_operations
									has_tech = peoples_army
								}
							}
						}
					}
					division_template = {
						name = "Deutsches Afrikakorps Special Forces"	
						priority = 2	
						division_names_group = ITA_INF_01 
						regiments = {
							mountaineers = { x = 0 y = 0 }	
							mountaineers = { x = 0 y = 1 }
							mountaineers = { x = 0 y = 2 }
							
							mountaineers = { x = 1 y = 0 }
							mountaineers = { x = 1 y = 1 }
							mountaineers = { x = 1 y = 2 }	
							
							mountaineers = { x = 2 y = 0 }	
							mountaineers = { x = 2 y = 1 }	
							mountaineers = { x = 2 y = 2 }	
							
							artillery_brigade = { x = 3 y = 0 }
							artillery_brigade = { x = 3 y = 1 }	
							artillery_brigade = { x = 3 y = 2 }
							artillery_brigade = { x = 3 y = 3 }

							anti_air = { x = 4 y = 0 }
							anti_tank_brigade = { x = 4 y = 1 }	
						}
						support = {
							artillery = { x = 0 y = 0 } 
							engineer = { x = 0 y = 1 } 		
							recon = { x = 0 y = 2 }
							pack_artillery = { x = 0 y = 3 }
							logistics_company = { x = 1 y = 0 }
							anti_air_company = { x = 1 y = 1 }
							field_gun_support = { x = 1 y = 2 }
							field_hospital = { x = 1 y = 3 }
							military_police = { x = 1 y = 4 }
						}
					}
					division_template = {
						name = "Deutsches Afrikakorps"	
						priority = 2	
						division_names_group = ITA_INF_01 
						regiments = {
							truck_infantry = { x = 0 y = 0 }
							truck_infantry = { x = 0 y = 1 }
							truck_infantry = { x = 0 y = 2 }
							truck_infantry = { x = 0 y = 3 }

							truck_infantry = { x = 1 y = 0 }
							truck_infantry = { x = 1 y = 1 }
							truck_infantry = { x = 1 y = 2 }
							truck_infantry = { x = 1 y = 3 }

							truck_infantry = { x = 2 y = 0 } 

							artillery_brigade = { x = 3 y = 0 }
							artillery_brigade = { x = 3 y = 1 }
							artillery_brigade = { x = 3 y = 2 }
							
							artillery_brigade = { x = 3 y = 3 }

							anti_tank_brigade = { x = 4 y = 0 }
							anti_air = { x = 4 y = 1 }
						}
						support = {
							artillery = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
							maintenance_company = { x = 1 y = 0 }
							logistics_company = { x = 1 y = 1 }
							field_hospital = { x = 1 y = 2 }
						}
					}
				}
				if = {
					limit = {
						ITA = {
							OR = {
								has_tech = large_front_operations
								has_tech = peoples_army
							}
						
						}
					}
					division_template = {
						name = "Deutsches Afrikakorps Special Forces"	
						priority = 2	
						division_names_group = ITA_INF_01 
						regiments = {
							mountaineers = { x = 0 y = 0 }	
							mountaineers = { x = 0 y = 1 }
							mountaineers = { x = 0 y = 2 }
							mountaineers = { x = 0 y = 3 }
							
							mountaineers = { x = 1 y = 0 }
							mountaineers = { x = 1 y = 1 }
							mountaineers = { x = 1 y = 2 }	
							mountaineers = { x = 1 y = 3 }	
							
							mountaineers = { x = 2 y = 0 }	
							mountaineers = { x = 2 y = 1 }	
							mountaineers = { x = 2 y = 2 }	
							mountaineers = { x = 2 y = 3 }	
							
							artillery_brigade = { x = 3 y = 0 }
							artillery_brigade = { x = 3 y = 1 }	
							artillery_brigade = { x = 3 y = 2 }
							artillery_brigade = { x = 3 y = 3 }

							anti_air = { x = 4 y = 0 }
							anti_tank_brigade = { x = 4 y = 1 }	
						}
						support = {
							artillery = { x = 0 y = 0 } 
							engineer = { x = 0 y = 1 } 		
							recon = { x = 0 y = 2 }
							pack_artillery = { x = 0 y = 3 }
							logistics_company = { x = 1 y = 0 }
							anti_air_company = { x = 1 y = 1 }
							field_gun_support = { x = 1 y = 2 }
							field_hospital = { x = 1 y = 3 }
							military_police = { x = 1 y = 4 }
						}
					}
					division_template = {
						name = "Deutsches Afrikakorps"	
						priority = 2	
						division_names_group = ITA_INF_01 
						regiments = {
							truck_infantry = { x = 0 y = 0 }
							truck_infantry = { x = 0 y = 1 }
							truck_infantry = { x = 0 y = 2 }
							truck_infantry = { x = 0 y = 3 }

							truck_infantry = { x = 1 y = 0 }
							truck_infantry = { x = 1 y = 1 }
							truck_infantry = { x = 1 y = 2 }
							truck_infantry = { x = 1 y = 3 }

							truck_infantry = { x = 2 y = 0 }
							truck_infantry = { x = 2 y = 1 } 
							truck_infantry = { x = 2 y = 2 } 
							truck_infantry = { x = 2 y = 3 } 

							artillery_brigade = { x = 3 y = 0 }
							artillery_brigade = { x = 3 y = 1 }
							artillery_brigade = { x = 3 y = 2 }
							
							artillery_brigade = { x = 3 y = 3 }

							anti_tank_brigade = { x = 4 y = 0 }
							anti_air = { x = 4 y = 1 }
						}
						support = {
							artillery = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
							maintenance_company = { x = 1 y = 0 }
							logistics_company = { x = 1 y = 1 }
							field_hospital = { x = 1 y = 2 }
						}
					}
				}
				
				every_state = {
					limit = { state = 458 }
					
				}
				
				
				if = {
					limit = {
						OR = {
							ROOT = {
								controls_state = 458
							}
							any_other_country = {
								is_in_faction_with = GER
								controls_state = 458
							}
						}
					}
					458 = {
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						} 
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}	
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						} 
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
					}
				}
				else = {
					159 = {
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps Special Forces\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
							create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						} 
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}	
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						} 
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}   
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
							}  
						create_unit = {
							division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}
					}

				}
				
			}
		}
	}

	focus = {
		id = ITA_ARMIR
		icon = GFX_ITA_armir
		prerequisite = {  focus = ITA_learn_from_the_luftwaffe focus = ITA_learn_from_wehrmacht}

		x = 0
		y = 2
		relative_position_id = ITA_german_military_cooperation
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			army_experience = 30

			custom_effect_tooltip = ITA_OAK_armir_re_tt

			add_to_variable = { ITA_re_special_forces_out_of_supply_factor = 0.05 }
			add_to_variable = { ITA_re_command_power_gain_mult = 0.15 }
			add_to_variable = { ITA_re_army_morale_factor = 0.05 }


			if = { 
				limit = {
					NOT = {
						has_tech = fighter_1940
					}
				}
				custom_effect_tooltip = ITA_fighter_get 
			}
			if = { 
				limit = {
					NOT = {
						has_tech = heavy_fighter_1940
					}
				}
				custom_effect_tooltip = ITA_heavy_fighter_get 
			}
			if = { 
				limit = {
					has_tech = fighter_1940
				}
				add_equipment_to_stockpile = { type = small_plane_airframe  amount = 300 producer = ITA }
			}
			if = { 
				limit = {
					has_tech = heavy_fighter_1940
					
				}
				add_equipment_to_stockpile = { type = medium_plane_fighter_airframe  amount = 200 producer = ITA }
			}
		
			add_equipment_to_stockpile = { type = special_equipment_1  amount = 600 producer = ITA }
		}
	}
	focus = {
		id = ITA_Secure_African_Fuel
		icon = GFX_GER_romanian_oil
		bypass = {
		}
		prerequisite = { focus = ITA_ARMIR  }
		available = {
			date > 1942.3.1
		}
		x = 0
		y = 1
		relative_position_id = ITA_ARMIR
		cost = 1

		ai_will_do = {
			factor = 80
		}

		completion_reward = {
			custom_effect_tooltip = "The amount of African resources moved to Europe depends on how much of Africa we still hold. Oil expansions are taken into account."
			if = {
				limit = {
					461 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = chromium
					amount = 4
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = chromium
						amount = -4
						state = 461
					}

				}
				
			}
			if = {
				limit = {
					459 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = steel
					amount = 7
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = steel
						amount = -7
						state = 459
					}

				}
				
			}
			if = {
				limit = {
					458 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = oil
					amount = 6
					state = 159
				}
				add_resource = {
					type = chromium
					amount = 5
					state = 159
				}
				add_resource = {
					type = tungsten
					amount = 8
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -6
						state = 458
					}
					add_resource = {
						type = chromium
						amount = -5
						state = 458
					}
					add_resource = {
						type = tungsten
						amount = -8
						state = 458
					}

				}
				
			}
			if = {
				limit = {
					448 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = rubber
					amount = 4
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = rubber
						amount = -4
						state = 448
					}

				}
				
			}
			if = {
				limit = {
					449 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = rubber
					amount = 4
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = rubber
						amount = -4
						state = 449
					}

				}
			}
			if = {
				limit = {
					662 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = rubber
					amount = 2
					state = 159
				}
				add_resource = {
					type = oil
					amount = 6
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = rubber
						amount = -2
						state = 662
					}
					add_resource = {
						type = oil
						amount = -6
						state = 662
					}

				}
			}
			if = {
				limit = {
					661 = {
						is_controlled_by_ROOT_or_ally = yes 	
					}
					ITA = {
						has_country_flag = tripolitania_1
						NOT = {
							has_country_flag = tripolitania_2
							has_country_flag = tripolitania_3
						}
					}
				}
				add_resource = {
					type = oil
					amount = 2
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -2
						state = 661
					}
				}
			}
			if = {
				limit = {
					661 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
					}
					ITA = {
							has_country_flag = tripolitania_2
							NOT = {
								has_country_flag = tripolitania_3
							}
						}
				}
				add_resource = {
					type = oil
					amount = 7
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -7
						state = 661
					}
				}
			}
			if = {
				limit = {
					661 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
					}
					ITA = {
							has_country_flag = tripolitania_3
						}
				}
				add_resource = {
					type = oil
					amount = 14
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -14
						state = 661
					}
				}
			}
			if = {
				limit = {
					450 = {
						is_controlled_by_ROOT_or_ally = yes 
						
					}
				}
				add_resource = {
					type = rubber
					amount = 4
					state = 159
				}
				add_resource = {
					type = tungsten
					amount = 5
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = rubber
						amount = -4
						state = 450
					}
					add_resource = {
						type = tungsten
						amount = -5
						state = 450
					}
				}
			}
			if = {
				limit = {
					450 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
					}
					ITA = {
							has_country_flag = bengasi_1
							NOT = {
								has_country_flag = bengasi_2
								has_country_flag = bengasi_3
							}
						}
				}
				add_resource = {
					type = oil
					amount = 2
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -2
						state = 450
					}
				}
			}
			if = {
				limit = {
					450 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
						
					}
					ITA = {
							has_country_flag = bengasi_2
							NOT = {
								has_country_flag = bengasi_3
							}
						}
				}
				add_resource = {
					type = oil
					amount = 6
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -6
						state = 450
					}
				}
			}
			if = {
				limit = {
					450 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
					}
					ITA = {
							has_country_flag = bengasi_3
						}
				}
				add_resource = {
					type = oil
					amount = 10
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -10
						state = 450
					}
				}
			}
			if = {
				limit = {
					663 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = rubber
					amount = 2
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = rubber
						amount = -2
						state = 663
					}
				}
			}
			if = {
				limit = {
					663 = {
						is_controlled_by_ROOT_or_ally = yes 
						
					}
					ITA = {
							has_country_flag = cyrenaica_1
							NOT = {
								has_country_flag = cyrenaica_2
								has_country_flag = cyrenaica_3
							}
						}
						
						
				}
				add_resource = {
					type = oil
					amount = 2
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -2
						state = 663
					}
				}
			}
			if = {
				limit = {
					663 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
					}
					ITA = {
							has_country_flag = cyrenaica_2
							NOT = {
								has_country_flag = cyrenaica_3
							}
						}
						
				}
				add_resource = {
					type = oil
					amount = 4
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -4
						state = 663
					}
				}
			}
			if = {
				limit = {
					663 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
					}
					ITA = {
							has_country_flag = cyrenaica_3
						}
				}
				add_resource = {
					type = oil
					amount = 8
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -8
						state = 663
					}
				}
			}
			if = {
				limit = {
					451 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = rubber
					amount = 2
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = rubber
						amount = -2
						state = 451
					}
				}
			}
			if = {
				limit = {
					452 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = oil
					amount = 5
					state = 159
				}
				add_resource = {
					type = tungsten
					amount = 5
					state = 159
				}
				add_resource = {
					type = steel
					amount = 8
					state = 159
				}
				add_resource = {
					type = chromium
					amount = 5
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -5
						state = 452
					}
					add_resource = {
						type = tungsten
						amount = -5
						state = 452
					}
					add_resource = {
						type = steel
						amount = -8
						state = 452
					}
					add_resource = {
						type = chromium
						amount = -5
						state = 452
					}
				}
			}
			if = {
				limit = {
					825 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = oil
					amount = 5
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -5
						state = 825
					}
					
				}
			}
			if = {
				limit = {
					447 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = oil
					amount = 6
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -6
						state = 447
					}
					
				}
			}
			if = {
				limit = {
					446 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = steel
					amount = 8
					state = 159
				}
				add_resource = {
					type = tungsten
					amount = 5
					state = 159
				}
				add_resource = {
					type = chromium
					amount = 5
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = steel
						amount = -8
						state = 446
					}
					add_resource = {
						type = tungsten
						amount = -5
						state = 446
					}
					add_resource = {
						type = chromium
						amount = -5
						state = 446
					}
					
				}
			}
			if = {
				limit = {
					183 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = chromium
					amount = 6
					state = 159
				}
				hidden_effect = {
					
					add_resource = {
						type = chromium
						amount = -6
						state = 183
					}
					
				}
			}
			if = {
				limit = {
					677 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = chromium
					amount = 6
					state = 159
				}
				hidden_effect = {
					
					add_resource = {
						type = chromium
						amount = -6
						state = 677
					}
					
				}
			}
			if = {
				limit = {
					291 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
					}
					ITA = {
							NOT = {
								has_country_flag = iraqi_oil_drill_1
							}

						}
				}
				add_resource = {
					type = oil
					amount = 21
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -9
						state = 291
					}
					add_resource = {
						type = oil
						amount = -15
						state = 413
					}
					
				}
			}
			if = {
				limit = {
					291 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
						
					}
					ITA = {
							has_country_flag = iraqi_oil_drill_1
						}
				}
				add_resource = {
					type = oil
					amount = 26
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -11
						state = 291
					}
					add_resource = {
						type = oil
						amount = -15
						state = 413
					}
					
				}
			}
			if = {
				limit = {
					676 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
					}
					ITA = {
							NOT = {
								has_country_flag = iraqi_oil_drill_1
							}

						}
				}
				add_resource = {
					type = oil
					amount = 12
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -5
						state = 676
					}
					add_resource = {
						type = oil
						amount = -7
						state = 411
					}
					
				}
			}
			if = {
				limit = {
					676 = {
						is_controlled_by_ROOT_or_ally = yes
						
						
						
					}
					ITA = {
						has_country_flag = iraqi_oil_drill_1
					}
				}
				add_resource = {
					type = oil
					amount = 13
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -6
						state = 676
					}
					add_resource = {
						type = oil
						amount = -7
						state = 411
					}
					
				}
			}
			if = {
				limit = {
					656 = {
						is_controlled_by_ROOT_or_ally = yes 
						
				
						
					}
					ITA = {
						NOT = {
							has_country_flag = iraqi_oil_drill_1
						}
					}
				}
				add_resource = {
					type = oil
					amount = 6
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -6
						state = 412
					}
					
				}
			}
			if = {
				limit = {
					656 = {
						is_controlled_by_ROOT_or_ally = yes 
						
						
					}
					ITA = {
						has_country_flag = iraqi_oil_drill_1
					}
				}
				add_resource = {
					type = oil
					amount = 9
					state = 159
				}
				hidden_effect = {
					add_resource = {
						type = oil
						amount = -3
						state = 656
					}
					add_resource = {
						type = oil
						amount = -6
						state = 412
					}
					
				}
			}
		}
	}



########EMPIRE

	focus = {
		id = ITA_ministry_of_italian_africa
		icon = GFX_focus_ITA_ministry_of_italian_africa
		prerequisite = { focus = ITA_victoryinETH}

		x = 8
		y = 1
		relative_position_id = ITA_victoryinETH
		cost = 5
		available = {
			OR = {
				any_owned_state = { is_on_continent = africa }
				any_subject_country = { capital_scope = { is_on_continent = africa } }
			}
		}

		ai_will_do = {
			factor = 80
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			custom_effect_tooltip = ITA_ministry_of_italian_africa_occupation_law_tt
			show_ideas_tooltip = ITA_fake_colonial_police_law

			add_resource = {
				type = rubber
				amount = 16
				state = 271
			}

			hidden_effect = {
				country_event = BBA_italy_colonial_management.1
			}
		}
	}

	focus = {
		id = ITA_massive_colonial_investments
		icon = GFX_goal_italy_colonial_investments
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = 0
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 5

		ai_will_do = {
			factor = 80
		}
		available = {
			OR = {
				any_controlled_state = {
					is_core_of = ETH
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = ETH
						is_fully_controlled_by = PREV
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			#add_timed_idea = {
			#	idea = ITA_spent_budget
			#	days = 365
			#}
		    add_research_slot = 1
			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_industry_consumer_goods_modifier 
				value = 0.05
				tooltip = consumer_goods_tooltip
			}
			add_to_variable = { 
				var = ITA_iri_production_speed_infrastructure_factor 
				value = 0.05 
				tooltip = infrastructure_build_speed_factor_tooltip
			}
			add_to_variable = { 
				var = ITA_iri_production_speed_buildings_factor 
				value = 0.05 
				tooltip = buildings_build_speed_factor_tooltip
			}
			
			271 = {
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
						}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 10
					add_compliance = 20
				add_dynamic_modifier = {
					modifier = ITA_state_development_africa
					days = 365
				}
				
				
			}
			550 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
						}

					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 5
					add_compliance = 10
				add_dynamic_modifier = {
					modifier = ITA_state_development_africa
					days = 365
				}
				

			}
			559 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
						}

					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 4
					add_compliance = 10
				add_dynamic_modifier = {
					modifier = ITA_state_development_africa
					days = 365
				}
				
			}
			448 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 7
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 9
					add_compliance = 5
				set_state_category = large_town
				add_dynamic_modifier = {
					modifier = ITA_state_development_africa
					days = 365
				}
			}
			450 = {
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
						}

					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 2
					add_compliance = 5
				set_state_category = large_town
				add_dynamic_modifier = {
					modifier = ITA_state_development_africa
					days = 365
				}
			}
			451 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
					}
				set_state_category = large_town
				add_compliance = 5
				add_dynamic_modifier = {
					modifier = ITA_state_development_africa
					days = 365
				}
			}
		}
     }
	focus = {
		id = ITA_immigration_ethiopia
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = ITA_massive_colonial_investments  }

		x = 2
		y = 1
		relative_position_id = ITA_massive_colonial_investments
		cost = 7.145
		ai_will_do = {
			factor = 10
		}
		available = { 
			271 = {
				CONTROLLER = {
					OR = {
						tag = ITA
						is_subject_of = ITA
					}
				}
			}
		}

		completion_reward = {
			if = {
				limit = { has_idea = impero_di_argilla_2 }
				swap_ideas = { 
					remove_idea = impero_di_argilla_2
					add_idea = impero_di_argilla_3
				}	
			}
			if = {
				limit = { has_idea = impero_di_argilla }
				swap_ideas = { 
					remove_idea = impero_di_argilla
					add_idea = impero_di_argilla_2
				}	
			}
			271 = {
				add_compliance = 15
			}
			550 = {
				add_compliance = 15
			}
			559 = {
				add_compliance = 15
			}
		}		
	}
	focus = {
		id = ITA_spirito_fascista
		icon = GFX_USA_reorganize_the_army_departments
		prerequisite = { focus = ITA_immigration_ethiopia  }

		x = 0
		y = 1
		relative_position_id = ITA_immigration_ethiopia
		cost = 2.2
		ai_will_do = {
			factor = 10
		}
		available = { 
			271 = {
				CONTROLLER = {
					OR = {
						tag = ITA
						is_subject_of = ITA
					}
				}
			}
		}

		bypass = {
			
		}

		completion_reward = {
			271 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_compliance = 10
			}
			550 = {
				add_compliance = 10
			}
			559 = {
				add_compliance = 10
			}
		}		
	}
	focus = {
		id = ITA_empire_of_work
		icon = GFX_focus_ITA_workhouse
		prerequisite = { focus = ITA_massive_colonial_investments  }

		x = 0
		y = 1
		relative_position_id = ITA_massive_colonial_investments
		cost = 7.145
		ai_will_do = {
			factor = 10
		}
		available = { 
			271 = {
				CONTROLLER = {
					OR = {
						tag = ITA
						is_subject_of = ITA
					}
				}
			}
		}

		completion_reward = {
			if = {
				limit = { has_idea = impero_di_argilla_2 }
				swap_ideas = { 
					remove_idea = impero_di_argilla_2
					add_idea = impero_di_argilla_3
				}	
			}
			if = {
				limit = { has_idea = impero_di_argilla }
				swap_ideas = { 
					remove_idea = impero_di_argilla
					add_idea = impero_di_argilla_2
				}	
			}
			
			271 = {
				add_compliance = 20
			}
			550 = {
				add_compliance = 20
			}
			559 = {
				add_compliance = 20
			}			
		}		
	}
	focus = {
		id = ITA_exploit_the_empire
		icon = GFX_goal_ITA_exploit_empire
		prerequisite = { focus = ITA_empire_of_work  }

		x = 0
		y = 1
		relative_position_id = ITA_empire_of_work
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
         }
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			#Makes previous Colonial Police law hidden (Both old and new version need to cohexist so that the previous can fallback to the next one)
			#set_country_flag = ITA_colonial_police_improved_flag

			


			every_state = {
				limit = {
					is_on_continent = africa
					is_controlled_by = ITA 
					NOT = {
						state = 273 
						state = 552 
					}
				}
				add_dynamic_modifier = {
					modifier = ITA_cooperatives_for_intensive_exploitation_dm
				}
				add_dynamic_modifier = {
					modifier = ITA_anti_colonialism_sentiment
				}
			}
			add_resource = {
				type = tungsten 
				amount = 10 
				state = 450 
			}
		}
	}

	focus = {
		id = ITA_import_oil_drilling_equipment
		icon = GFX_goal_ITA_fondo_nazionale_carburante
		prerequisite = { focus = ITA_exploit_the_empire }

		x = 1
		y = 1
		relative_position_id = ITA_exploit_the_empire
		cost = 2.9
		ai_will_do = {
			factor = 40
		}

		bypass = {
			662 = {
				has_state_flag = sirte_oil_developed
			}
		}

		available = {
		NOT= {ITA = { has_war_with = ENG }}
			662 = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			custom_effect_tooltip = explore_libyan_oil_tt

		}
	}
	focus = {
		id = ITA_saiga
		prerequisite = { focus = ITA_exploit_the_empire }
		icon = GFX_goal_ita_saiga

		x = -1
		y = 1
		relative_position_id = ITA_exploit_the_empire
		cost = 4.4
		ai_will_do = {
			factor = 40
		}
		#prerequisite = { focus = ITA_ardito_desio }

		available_if_capitulated = yes

		completion_reward = {
			add_resource = {
				type = rubber
				amount = 4
				state = 449
			}	
			add_resource = {
				type = rubber
				amount = 4
				state = 663
			}
			add_resource = {
				type = rubber
				amount = 4
				state = 448
			}
			add_resource = {
				type = rubber
				amount = 4
				state = 662
			}
			add_resource = {
				type = rubber
				amount = 4
				state = 450
			}
		}
	}
	focus = {
		id = ITA_via_balbia
		icon = GFX_goal_ita_via_balbia
		prerequisite = { focus = ITA_massive_colonial_investments}

		x = -2
		y = 1
		relative_position_id = ITA_massive_colonial_investments
		cost = 2.9
		ai_will_do = {
			factor = 25
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			448 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = rubber 
					amount = 4 
				}
				add_dynamic_modifier = { modifier = ITA_libyan_railway_modifier days = 730 scope = ITA }
			}
			449 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = rubber 
					amount = 4 
				}
				add_dynamic_modifier = { modifier = ITA_libyan_railway_modifier days = 730 scope = ITA }
			}
			450 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = rubber 
					amount = 4 
				}
				add_dynamic_modifier = { modifier = ITA_libyan_railway_modifier days = 730 scope = ITA }
			}
			451 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = rubber 
					amount = 4 
				}
				add_dynamic_modifier = { modifier = ITA_libyan_railway_modifier days = 730 scope = ITA }
			}
		}
	}

	focus = {
		id = ITA_via_della_vittoria
		icon = GFX_ITA_ob_sud
		prerequisite = { focus = ITA_via_balbia }

		x = 0
		y = 1
		relative_position_id = ITA_via_balbia
		cost = 2.9
		ai_will_do = {
			factor = 25
		}
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			451 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_dynamic_modifier = {
					modifier = ITA_state_development_africa
					days = 180 
				}
				if = {
					limit = {
						has_resistance = yes
					}
					add_compliance = 5
				}
			}
			#LIBYA
			if = {
				limit = {
					450 = { #BENGHASI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				450 = { #BENGHASI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					449 = { #EL AGHELIA
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				449 = { #EL AGHELIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					448 = { #TRIPOLI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				448 = { #TRIPOLI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#TUNISIA
			if = {
				limit = {
					665 = { #GABES
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				665 = { #GABES
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					458 = { #TUNISIA
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				458 = { #TUNISIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			#ALGERIA
			if = {
				limit = {
					460 = { #CONSTANTINE
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				460 = { #CONSTANTINE
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					459 = { #ALGIERS
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				459 = { #ALGIERS
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#MOROCCO
			if = {
				limit = {
					461 = { #CASABLANCA
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				461 = { #CASABLANCA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					290 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				290 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#EGYPT
			if = {
				limit = {
					447 = { #ALEXANDRIA
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				447 = { #ALEXANDRIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					446 = { #CAIRO
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				446 = { #CAIRO
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					453 = { #SINAI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				453 = { #SINAI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
		}
	}
	###################################################################################
	################AFRICA VICTORY + MORE  ############################################
	###################################################################################
	focus = {
		id = ITA_bend_the_bars
		icon = GFX_focus_ITA_bend_the_bars
		prerequisite = { focus = ITA_via_della_vittoria }
		prerequisite = { focus = ITA_by_blood_alone }
		mutually_exclusive = { focus = ITA_castello_di_sabbia }
		x = -4
		y = 1
		relative_position_id = ITA_via_della_vittoria
		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {	
		AND = {
			GER = {
				has_completed_focus = GER_arbeitseinsatz
			}
			OR = {
				ROOT = {
					controls_province = 11967
				}
				any_other_country = {
					is_in_faction_with = GER
					controls_province = 11967
				}	
				AND = {
					ITA = {
						OR = {
							controls_state = 458 
							controls_state = 448 
							controls_state = 449 
							controls_state = 450 
							controls_state = 451 
						}
					}
					date > 1941.1.1
				}
			}
		}
		}


		completion_reward = {
			custom_effect_tooltip = "Will also spawn some resources if Marsa Matruh is held by Italy or its allies."
			if = {
				limit = {
					452 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = steel
					amount = 15
					state = 452
				}
				add_resource = {
					type = chromium
					amount = 10
					state = 452
				}
				add_resource = {
					type = tungsten
					amount = 10
					state = 452
				}
			}
			
			#ITA_bop_low_increase_effect = yes
			every_state = {
				limit = {
					OR = {
						state = 116
						state = 183
						state = 182
						state = 164
					}
					is_controlled_by_ROOT_or_ally = no 

				}
				add_dynamic_modifier = { modifier = malta_offensive days = 365 }
			}
			random_owned_controlled_state = {
				prioritize = { 161 }
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 159 }
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			GER = {
				custom_effect_tooltip = GER_elalamein_tt
				add_to_variable = {
					GER_arbeitseinsatz_industrial_capacity_factory = 0.1
				}
				random_owned_controlled_state = {
					prioritize = { 65 }
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					prioritize = { 66 }
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
				}	
			}
		}
	}

 	focus = { #Forts in Egypt 
 		id = ITA_castello_di_sabbia
 		icon = GFX_focus_generic_coastal_fort
 		prerequisite = { focus = ITA_via_della_vittoria }
		prerequisite = { focus = ITA_by_blood_alone }
		mutually_exclusive = { focus = ITA_bend_the_bars }
 		x = -2
 		y = 1
 		relative_position_id = ITA_via_della_vittoria
 		cost = 5

		 ai_will_do = {
			factor = 40
		}

		available = {	
		AND = {
			GER = {
				has_completed_focus = GER_arbeitseinsatz
			}
			OR = {
				ROOT = {
					controls_province = 11967
				}
				any_other_country = {
					is_in_faction_with = GER
					controls_province = 11967
				}	
				AND = {
					ITA = {
						OR = {
							controls_state = 458 
							controls_state = 448 
							controls_state = 449 
							controls_state = 450 
							controls_state = 451 
						}
					}
					date > 1941.1.1
				}
			}
		}
		}

 		search_filters = {}

 		completion_reward = {
			custom_effect_tooltip = "Will also spawn some resources if Marsa Matruh is held by Italy or its allies."
			if = {
				limit = {
					452 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = steel
					amount = 15
					state = 452
				}
				add_resource = {
					type = chromium
					amount = 10
					state = 452
				}
				add_resource = {
					type = tungsten
					amount = 10
					state = 452
				}
			}
			
			ITA_bop_medium_increase_effect = yes
			random_owned_controlled_state = {
				prioritize = { 161 }
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 159 }
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			GER = {
				custom_effect_tooltip = GER_elalamein_tt
				add_to_variable = {
					GER_arbeitseinsatz_industrial_capacity_factory = 0.1
				}
				random_owned_controlled_state = {
					prioritize = { 65 }
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					prioritize = { 66 }
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
				}	
			}
 		}
 	}
	focus = {
 		id = ITA_battle_of_gazala
 		icon = GFX_focus_gazala
 		prerequisite = { focus = ITA_castello_di_sabbia focus = ITA_bend_the_bars }
 		x = 0
 		y = 1
 		relative_position_id = ITA_castello_di_sabbia
 		cost = 2
		 ai_will_do = {
			factor = 80
		}
 		available = {
			GER = {
				has_war_with = SOV
			}
			OR = {
				458 = { is_controlled_by_ROOT_or_ally = yes }
				448 = { is_controlled_by_ROOT_or_ally = yes }
				450 = { is_controlled_by_ROOT_or_ally = yes }
				451 = { is_controlled_by_ROOT_or_ally = yes }
			}
			NOT = {
				OR = {
					ROOT = {
						controls_state = 446
					}
					any_other_country = {
						is_in_faction_with = GER
						controls_state = 446
					}
				}
			}
			
			
			
			
			
 		}

 		search_filters = {}

 		completion_reward = {
			every_country = {
				limit = {
					OR = {
						is_in_faction_with =  GER
						tag = GER 
						tag = EFR
						tag = ITA
					}
				}
				add_timed_idea = {
					idea = ITA_battle_of_gazala
					days = 90
				}
			}
			hidden_effect = {
				every_country = {
					limit = {
						OR = {
							is_in_faction_with =  GER
							tag = GER 
							tag = EFR
							tag = ITA
						}
					}
					add_timed_idea = {
						idea = ITA_battle_of_gazala2
						days = 90
					}
				}
			}
 		}
 	}
 	focus = {
 		id = ITA_victory_in_the_desert
 		icon = GFX_focus_ITA_mare_nostrum
 		prerequisite = { focus = ITA_castello_di_sabbia focus = ITA_bend_the_bars }
 		x = -2
 		y = 1
 		relative_position_id = ITA_castello_di_sabbia
 		cost = 5
		ai_will_do = {
			factor = 4000
		}
 		available = {
			OR = {
				AND = {
					ENG = {
						casualties < 100000
					}
					OR = {
						ROOT = {
							controls_state = 446 
						}
						any_other_country = {
							is_in_faction_with = GER
							controls_state = 446
						}	
					}
				}
				AND = {
					date > 1941.1.1
					OR = {
						ROOT = {
							controls_state = 446 
						}
						any_other_country = {
							is_in_faction_with = GER
							controls_state = 446
						}	
					}
				}
				AND = {
					date > 1941.6.1
					OR = {
						ROOT = {
							controls_state = 452 
						}
						any_other_country = {
							is_in_faction_with = GER
							controls_state = 452
						}	
					}
				}
				AND = {
					ITA = {
						OR = {
							controls_state = 458 
							controls_state = 448 
							controls_state = 449 
							controls_state = 450 
							controls_state = 451 
						}
					}
					date > 1942.1.1
				}
			}
		}
		completion_reward = {
			custom_effect_tooltip = "Will also spawn some resources if Cairo is held by Italy or its allies."
			if = {
				limit = {
					446 = {
						is_controlled_by_ROOT_or_ally = yes 
					}
				}
				add_resource = {
					type = steel
					amount = 15
					state = 446
				}
				add_resource = {
					type = chromium
					amount = 10
					state = 446
				}
				add_resource = {
					type = tungsten
					amount = 10
					state = 446
				}
			}
			
			ITA_bop_low_increase_effect = yes

			random_owned_controlled_state = {
				prioritize = { 161 }
				add_extra_state_shared_building_slots = 10
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 5
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 159 }
				add_extra_state_shared_building_slots = 10
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 5
					instant_build = yes
				}
			}
			GER = {
				custom_effect_tooltip = GER_elalamein_tt
				add_to_variable = {
					GER_arbeitseinsatz_industrial_capacity_factory = 0.1
				}
				random_owned_controlled_state = {
					prioritize = { 52 }
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					prioritize = { 53 }
					add_extra_state_shared_building_slots = 5
					add_building_construction = {
						type = arms_factory
						level = 5
						instant_build = yes
					}
				}
			}
		}
	}
 	focus = {
 		id = ITA_the_king_of_egypt 
 		icon = GFX_focus_ITA_islam
 		prerequisite = { focus = ITA_victory_in_the_desert }
 		x = 1
 		y = 1
 		relative_position_id = ITA_victory_in_the_desert
 		cost = 5
		 ai_will_do = {
			factor = 80
		}
 		available = {
			OR = {
				OR = {
					ROOT = {
						controls_state = 456 
					}
					any_other_country = {
						is_in_faction_with = GER
						controls_state = 456 
					}			
				}
				AND = {
					OR = {
						ROOT = {
							controls_state = 446 
						}
						any_other_country = {
							is_in_faction_with = GER
							controls_state = 446 
						}			
					}
					date > 1941.7.1
				}
				AND = {
					ITA = {
						OR = {
							controls_state = 458 
							controls_state = 448 
							controls_state = 449 
							controls_state = 450 
							controls_state = 451 
						}
					}
					date > 1942.1.1
				}

			}
			
		}

 		search_filters = {}

 		completion_reward = {	

			show_unit_leaders_tooltip = ITA_gamel_abdel_nasser

			custom_effect_tooltip = ITA_modify_military_industry_dynamic_modifier_ns_intro

			add_to_variable = {
				var = ITA_military_industry_dm_industrial_capacity_factory
				value = 0.1 
				tooltip = industrial_capacity_factory_tooltip
			}
			add_to_variable = {
				var = ITA_military_industry_dm_factory_max_efficiency_factor
				value = 0.02 
				tooltip = production_factory_max_efficiency_tooltip
			}

			custom_effect_tooltip = ITA_the_king_of_egypt_tt

			if = {
				limit = {
					452 = { 
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				452 = { 
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 50
					}
				}
			}
			if = {
				limit = {
					447 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				447 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 50
					}
				}
			}

			#EGYPT
			if = {
				limit = {
					446 = { 
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				446 = { #ALEXANDRIA
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 50
					}
				}
			}
			if = {
				limit = {
					446 = { #CAIRO
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				446 = { #CAIRO
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					453 = { #SINAI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				453 = { #SINAI
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					454 = { #SINAI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				454 = { #SINAI
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					455 = { #SINAI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				455 = { #SINAI
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
 		}
 	}
	

 	focus = {
 		id = ITA_return_to_ethiopia 
 		icon = GFX_focus_ITA_italy_first
 		prerequisite = { focus = ITA_victory_in_the_desert }
 		x = -1
 		y = 1
 		relative_position_id = ITA_victory_in_the_desert
 		cost = 5
		 ai_will_do = {
			factor = 80
		}
 		available = {

			271 = { is_controlled_by_ROOT_or_ally = yes }
			
			
 		}

 		search_filters = {}

 		completion_reward = {
			custom_effect_tooltip = ITA_modify_military_industry_dynamic_modifier_ns_intro

			add_to_variable = {
				var = ITA_military_industry_dm_industrial_capacity_factory
				value = 0.1
				tooltip = industrial_capacity_factory_tooltip
			}
			custom_effect_tooltip = ITA_OAK_modify_regio_esercito_dynamic_modifier_ns_intro
			add_to_variable = {
				var = ITA_re_army_core_defence_factor
				value = 0.1
				tooltip = core_defense_increase_tt
			}
			add_to_variable = {
				var = ITA_re_army_core_attack_factor
				value = 0.1 
				tooltip = core_attack_increase_tt
			}
			
			

			every_controlled_state = {
				limit = {
					OR = {
						state = 551
						state = 812 
						state = 456
						state = 457 
						state = 271 
					}
				}
				add_compliance = 50 
			}

			random_owned_controlled_state = {
				prioritize = { 2 }
				add_extra_state_shared_building_slots = 5 
				add_building_construction = {
					type = arms_factory
					level = 5 
					instant_build = yes 
				}
			}
 		}
 	}
	focus = {
		id = ITA_viva_il_duce
		icon = GFX_focus_ITA_to_live_as_a_lion
		prerequisite = { focus = ITA_return_to_ethiopia focus = ITA_the_king_of_egypt }
		relative_position_id = ITA_victory_in_the_desert
		x = 0
		y = 2
		cost = 10
		ai_will_do = {
			factor = 180
		}
		available = {
				
				OR = {
					ITA = { controls_state = 115 }
					any_other_country = {
						is_in_faction_with = ITA
						controls_state = 115
					}
				}
				OR = {
					ITA = { controls_state = 2 }
					any_other_country = {
						is_in_faction_with = ITA
						controls_state = 2
					}
				}
				OR = {
					ITA = { controls_state = 451 }
					any_other_country = {
						is_in_faction_with = ITA
						controls_state = 451
					}
				}
		}
		completion_reward = {
		ITA_bop_low_increase_effect = yes
		add_political_power = 200
		custom_effect_tooltip = ITA_modify_military_industry_dynamic_modifier_ns_intro
		add_to_variable = {
			var = ITA_military_industry_dm_industrial_capacity_factory
			value = 0.10
			tooltip = industrial_capacity_factory_tooltip
		}
		add_to_variable = {
			var = ITA_military_industry_dm_industrial_capacity_dockyard
			value = 0.15
			tooltip = industrial_dockyard_capacity_factory_tooltip
		}
		#add_ideas = mare_nostrum
		}
	}





#########ECONOMY
	focus = {
		id = ITA_avtarkia
		icon = GFX_goal_ITA_autarchia
		x = -9
		y = 1
		relative_position_id = ITA_victoryinETH
		prerequisite = { focus = ITA_victoryinETH }
		cost = 5
		ai_will_do = {
			factor = 160
		}
		available_if_capitulated = yes

		completion_reward = {		
			#ITA_bop_very_low_increase_effect = yes

			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_political_power_gain_modifier 
				value = -0.15 
				tooltip = political_power_gain_daily_tooltip
			}
			add_to_variable = { 
				var = ITA_iri_local_resources_factor 
				value = 0.05 
				tooltip = local_resources_factor_tooltip
			}
			#add_to_variable = { 
			#	var = ITA_industry_consumer_goods_modifier 
			#	value = -0.03 
			#	tooltip = consumer_goods_tooltip
			#}

			#custom_effect_tooltip = ITA_modify_military_industry_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_production_speed_synthetic_rubber_refinery_factor_var 
				value = 0.1
				tooltip = synthetic_rubber_refinery_factor_tooltip
			}
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = excavation_tech
			}
			#add_timed_idea = { idea = ITA_devaluated_lira days = 165 }
		}
	}
	
	focus = {
		id = ITA_iri_ente_permanente
		mutually_exclusive = { focus = ITA_privatize_iri }
		icon = GFX_goal_ita_statilize_iri
		x = -3
		y = 1
		
		cost = 5
		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_avtarkia }
		relative_position_id = ITA_avtarkia
		available_if_capitulated = yes
	#	mutually_exclusive = { focus = ITA_end_fiat_ansaldo_duopoly }

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_renato_ricci
			set_country_flag = ITA_stat_iri
			add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 10000 producer = ITA }
			add_equipment_to_stockpile = { type = special_equipment_1 amount = 2000 producer = ITA }
			custom_effect_tooltip = ITA_unlock_iri_programs
		}
	}
	focus = {
		id = ITA_continue_puricellis_work
		icon = GFX_ITA_italian_highways
		x = 1
		y = 1
		relative_position_id = ITA_iri_ente_permanente
		prerequisite = { focus = ITA_iri_ente_permanente }
		cost = 5

		ai_will_do = {
			factor = 20
		}

		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = construction_tech
			}
			every_state = {
				limit = {
					OR = {
						state = 2 
						state = 117 	
						state = 117 	
						state = 156			
						state = 157
						state = 117 		
						state = 156			
						state = 157
						state = 158
						state = 159
						state = 160
					}
				}
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 4
			}

		}
	}
	focus = {
		id = ITA_ilva
		icon = GFX_goal_ita_ilva
		x = -1
		y = 1
		relative_position_id = ITA_iri_ente_permanente
		prerequisite = { focus = ITA_iri_ente_permanente }
		cost = 5
		ai_will_do = {
			factor = 80
		}
		available_if_capitulated = yes

		completion_reward = {
		add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 2
				category = industry
			}
			#158 = {
			#	add_building_construction  = {
			#		type = industrial_complex
			#		level = 2
			#		instant_build = yes
			#	}
			#	add_building_construction  = {
			#		type = arms_factory
			#		level = 1
			#		instant_build = yes
			#	}
			#	add_extra_state_shared_building_slots = 3
			#}
			add_resource = {
				type = steel
				amount = 20
				state = 158
			}
			add_resource = {
				type = tungsten
				amount = 6
				state = 158
			}
			add_resource = {
				type = chromium
				amount = 12
				state = 158
			}
			
			
		}
	}
	focus = {
		id = ITA_agip
		icon = GFX_goal_ita_agip
		x = 0
		y = 2
		relative_position_id = ITA_iri_ente_permanente
		prerequisite = { focus = ITA_ilva focus = ITA_continue_puricellis_work }
		cost = 5
		ai_will_do = {
			factor = 20
		}
		prerequisite = { focus = ITA_ilva focus = ITA_continue_puricellis_work }

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = ITA_agip
			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro

			add_to_variable = {
				var = ITA_iri_local_resources_factor
				value = 0.1 
				tooltip = local_resources_factor_tooltip
			}

			add_tech_bonus = {
				name = ITA_industria_della_gomma_sintetica
				bonus = 0.5
				uses = 2
				category = synth_resources
			}
		}
	}
	focus = {
		id = ITA_privatize_iri
		icon = GFX_goal_ita_privatize_iri
		mutually_exclusive = { focus = ITA_iri_ente_permanente }
		x = 3
		y = 1
		cost = 5
		ai_will_do = {
			factor = 60
		}
		prerequisite = { focus = ITA_avtarkia }
		relative_position_id = ITA_avtarkia
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_guido_jung

			159 = {
				add_building_construction  = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			158 = {
				add_building_construction  = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			160 = {
				add_building_construction  = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}

		}
	}
	focus = {
		id = ITA_deregulation
		icon = GFX_goal_ITA_cut_bureaucracy
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_privatize_iri }
		relative_position_id = ITA_privatize_iri
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_iri_production_speed_buildings_factor 
				value = 0.15 
				tooltip = buildings_build_speed_factor_tooltip
			}
			add_to_variable = { 
				var = ITA_iri_production_speed_arms_factory_factor 
				value = -0.15
				tooltip = arms_factory_build_speed_factor_tooltip
			}
		}
	}
###cq to import new techs
	focus = {
		id = ITA_modernize_construction_and_production
		icon = GFX_goal_ITA_foreign_construction
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 40
		}
		prerequisite = { focus = ITA_privatize_iri }
		relative_position_id = ITA_privatize_iri
		available_if_capitulated = yes

		completion_reward = {
		
			add_tech_bonus = {
				bonus = 2
				uses = 2
				category = construction_tech
			}
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = industry
			}
		}
	}
	focus = {
		id = ITA_joint_industrial_development
		icon = GFX_goal_ITA_joint_industrial_dev
		x = 0
		y = 2
		cost = 5
		ai_will_do = {
			factor = 40
		}
		prerequisite = { focus = ITA_modernize_construction_and_production focus = ITA_deregulation}
		relative_position_id = ITA_privatize_iri
		available_if_capitulated = yes

		completion_reward = {
			add_offsite_building = { type = industrial_complex level = 5 }
		
			every_state = {
				limit = {
					OR = {
						state = 2 
						state = 117 	
						state = 156			
						state = 157
						state = 158
						state = 159
						state = 160
						state = 161
						state = 162
					}
				}
				add_extra_state_shared_building_slots = 5
				set_building_level = {
					type = infrastructure
					level = 8
					instant_build = yes
				}
			}
			GER = {
				52 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			HUN = {
				43 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			ROM = {
				46 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			BUL = {
				48 = {
					add_extra_state_shared_building_slots = 4
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					FIN = {
						is_ai = no
					}
				}
				FIN = {
					111 = {
						add_extra_state_shared_building_slots = 4
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_redirect_alfa_romeo_production
		icon = GFX_focus_ITA_redirect_alfa_romeo_production

		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_avtarkia }
		relative_position_id = ITA_avtarkia

		x = 0
		y =  2
		cost = 5
		available = {
			GER = {
				has_completed_focus = GER_anschluss
			}

		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = ITA_alfa_romeo

			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 158 160 852 736 39 } #PIEMONTE as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_redirect_alfa_romeo_production
				bonus = 0.50
				uses = 2
				category = motorized_equipment
				category = light_air
			}
		}
	}

	focus = {
		id = ITA_end_fiat_ansaldo_duopoly
		icon = GFX_focus_ITA_fiat_ansaldo_duopoly
		prerequisite = { focus = ITA_redirect_alfa_romeo_production }
		mutually_exclusive = { focus = ITA_modernize_ansaldo_facilities }
		x = -1
		y = 1
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 5

		ai_will_do = {
			factor = 10
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_production_lack_of_resource_penalty_factor = -0.1 }
			add_to_variable = { ITA_military_industry_dm_production_factory_efficiency_gain_factor = 0.2 }
			add_to_variable = { ITA_military_industry_dm_line_change_production_efficiency_factor = 0.1 }
		
			custom_effect_tooltip = ITA_end_fiat_ansaldo_duopoly_military_industry_tt

			random_core_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 3
						include_locked = yes
					}
				}
				prioritize = { 162 161 157 } 
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}
			random_core_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 3
						include_locked = yes
					}
				}
				prioritize = { 162 161 157 } 
				add_extra_state_shared_building_slots = 5
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
			}

		}
	}

	focus = {
		id = ITA_modernize_ansaldo_facilities
		icon = GFX_focus_ITA_modernize_ansaldo_facilities
		prerequisite = { focus = ITA_redirect_alfa_romeo_production }
		mutually_exclusive = { focus = ITA_end_fiat_ansaldo_duopoly }
		x = 1
		y = 1
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 5
		ai_will_do = {
			factor = 20
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_factory = 0.1 }
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_dockyard = 0.1 }
			custom_effect_tooltip = ITA_modernize_ansaldo_facilities_military_industry_tt

			
			#random_core_state = {
			#	limit = {
			#		is_controlled_by = ROOT
			#		free_building_slots = {
			#			building = arms_factory
			#			size > 1
			#			include_locked = yes
			#		}
			#	}
			#	prioritize = { 162 161 157 } 
			#	add_extra_state_shared_building_slots = 2
			#	add_building_construction = {
			#		type = arms_factory
			#		level = 2
			#		instant_build = yes
			#	}
			#}

			
		}
	}

	focus = {
		id = ITA_economia_armata
		icon = GFX_ITA_The_industrial_triangle
		prerequisite = { focus = ITA_end_fiat_ansaldo_duopoly focus = ITA_modernize_ansaldo_facilities }
		prerequisite = { focus = ITA_joint_industrial_development focus = ITA_agip }

		x = 0
		y = 2
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 5

		ai_will_do = {
			factor = 4000
		}

		available = { 
			has_war_with = ENG 		
		}
	
		completion_reward = { 
			#ITA_bop_low_increase_effect = yes
			add_stability = -0.2
			if = {
				limit = {
					has_completed_focus = ITA_iri_ente_permanente
				}
				custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro
				add_to_variable = { 
					var = ITA_iri_production_speed_arms_factory_factor 
					value = 0.3
					tooltip = arms_factory_build_speed_factor_tooltip
				}
				add_to_variable = { 
					var = ITA_global_building_slots_factor_var 
					value = 0.3
					tooltip = global_building_slots_factor_tooltip
				}
			}
			else_if = {
				limit = {
					has_completed_focus = ITA_privatize_iri
				}
				custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro
				add_to_variable = { 
					var = ITA_iri_production_speed_arms_factory_factor 
					value = 0.45
					tooltip = arms_factory_build_speed_factor_tooltip
				}
				add_to_variable = { 
					var = ITA_global_building_slots_factor_var 
					value = 0.5
					tooltip = global_building_slots_factor_tooltip
				}
			}
			else = {
				custom_effect_tooltip = ITA_late_game_bonus_tt
			}
			
			
		}
	}
	focus = { 
		id = ITA_great_army
		icon = GFX_ITA_Regio_Esercito 
		prerequisite = { focus = ITA_economia_armata }
		mutually_exclusive = { focus = ITA_great_airforce focus = ITA_great_navy }
		relative_position_id = ITA_redirect_alfa_romeo_production
		x = -2
		y = 3

		ai_will_do = {
			factor = 80
		}

		cost = 7.145
		available = { 
			arms_factory > 99
			has_army_manpower = { size > 1000000 }			
		}
	
		completion_reward = { 
			ITA_bop_low_increase_effect = yes
			army_experience = 50	
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = industry
			}	
			add_tech_bonus = {
				bonus = 0.5
				ahead_reduction = 0.5
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				ahead_reduction = 0.5
				category = artillery
			}
			
		if = {
				limit = { 
					has_tech = infantry_weapons1
					NOT = { has_tech = improved_infantry_weapons	}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 15000 producer = ITA }   
			}
			if = {
				limit = { 
					has_tech = improved_infantry_weapons
					NOT = { has_tech = advanced_infantry_weapons	}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 15000 producer = ITA }   
			}
			if = {
				limit = { 
					has_tech = advanced_infantry_weapons
					NOT = { has_tech = modern_infantry_weapons	}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 15000 producer = ITA }	  
		}
		if = {
				limit = { 
					has_tech = modern_infantry_weapons
				}
				add_equipment_to_stockpile = { type = infantry_equipment_4 amount = 15000 producer = ITA }	  
		}	
		}
	}
	focus = { 
		id = ITA_great_airforce
		icon = GFX_goal_ITA_regia_aeronautica
		prerequisite = { focus = ITA_economia_armata }
		mutually_exclusive = { focus = ITA_great_army focus = ITA_great_navy }
		relative_position_id = ITA_redirect_alfa_romeo_production
		x = 0
		y = 3
		cost = 7.145

		ai_will_do = {
			factor = 20
		}

		available = {
			arms_factory > 99
			has_deployed_air_force_size = {
				size > 329
				type = naval_bomber
			} 
			has_deployed_air_force_size = {
				size > 1329
				type = fighter
			} 
		}
		
		completion_reward = {
			ITA_bop_low_increase_effect = yes
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = industry
			}	
			add_tech_bonus = {
				bonus = 0.5
				ahead_reduction = 1
				uses = 2
				category = all_air
			}
			
		set_technology = {
			jet_engines = 1
			experimental_rockets = 1
			rocket_engines = 1
		  }		
		}
	}
	focus = { 
		id = ITA_great_navy
		icon = GFX_ITA_regia_marina
		prerequisite = { focus = ITA_economia_armata }
		mutually_exclusive = { focus = ITA_great_airforce focus = ITA_great_army }
		relative_position_id = ITA_redirect_alfa_romeo_production
		x = 2
		y = 3
		cost = 7.145

		ai_will_do = {
			factor = 40
		}

		available = { 
			dockyard > 59

	
		}
	
		completion_reward = { 
			ITA_bop_low_increase_effect = yes
			navy_experience = 150
			add_resource = {
				type = chromium
				amount = 10
				state = 161
			}
			add_resource = {
				type = steel
				amount = 15
				state = 160
			}
			add_resource = {
				type = steel
				amount = 10
				state = 39
			}
		  add_tech_bonus = {
				bonus = 1
				uses = 1
				category = industry
			}
			
			add_tech_bonus = {
				bonus = 1
				ahead_reduction = 1
				uses = 2
				category = naval_equipment
			}
		hidden_effect = {
		if = {

			limit = {
				has_dlc = "Man the Guns"
			}

		create_equipment_variant = {
			name = "Littorio Class"
			type = ship_hull_heavy_2
			name_group = ITA_BB_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_heavy_battery_2
				fixed_ship_anti_air_slot = ship_anti_air_1
				fixed_ship_fire_control_system_slot = ship_fire_control_system_0
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = heavy_ship_engine_2
				fixed_ship_secondaries_slot = ship_secondaries_2
				fixed_ship_armor_slot = ship_armor_bb_2
				front_1_custom_slot = ship_heavy_battery_2
				mid_1_custom_slot = ship_secondaries_2
				mid_2_custom_slot = ship_airplane_launcher_2
				rear_1_custom_slot = ship_heavy_battery_2
			}
		}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA" 
						version_name = "Littorio Class"
					}
					requested_factories = 4
					progress = 0.8
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA" 
						version_name = "Littorio Class"
					}
					requested_factories = 4
					progress = 0.8
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA" 
						version_name = "Littorio Class"
					}
					requested_factories = 4
					progress = 0.8
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA" 
						version_name = "Littorio Class"
					}
					requested_factories = 4
					progress = 0.8
					amount = 1
				}
			}
		}
		custom_effect_tooltip = "Adds 4 Littorio Class Battleships into production at 80% building progress"		
			
		}
	}










########  ########  ######   ####  #######     ########  ######  ######## ########   ######  #### ########  #######  
##     ## ##       ##    ##   ##  ##     ##    ##       ##    ## ##       ##     ## ##    ##  ##     ##    ##     ## 
##     ## ##       ##         ##  ##     ##    ##       ##       ##       ##     ## ##        ##     ##    ##     ## 
########  ######   ##   ####  ##  ##     ##    ######    ######  ######   ########  ##        ##     ##    ##     ## 
##   ##   ##       ##    ##   ##  ##     ##    ##             ## ##       ##   ##   ##        ##     ##    ##     ## 
##    ##  ##       ##    ##   ##  ##     ##    ##       ##    ## ##       ##    ##  ##    ##  ##     ##    ##     ## 
##     ## ########  ######   ####  #######     ########  ######  ######## ##     ##  ######  ####    ##     #######  

	focus = {
		id = ITA_the_results_of_the_ethiopian_war
		icon = GFX_goal_ITA_question_the_high_command
		relative_position_id = ITA_victoryinETH
		prerequisite = { focus = ITA_march_of_the_iron_will }
		x = 22
		y = 0
		cost = 2.2
		ai_will_do = {
			factor = 320
		}
		available_if_capitulated = yes
		available = {
		OR = {
				owns_state = 271
				ETH = { is_puppet_of = ITA }
				ETH = { is_ai = no }
			}
		}
		completion_reward = {
			
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		id = ITA_a_new_caliber
		icon = GFX_new_caliber
		prerequisite = { focus = ITA_the_results_of_the_ethiopian_war }

		x = 0
		y = 2
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		cost = 2.2

		ai_will_do = {
			factor = 10
		}

		available = {
				NOT= {ITA = { has_war_with = ENG }}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = {
				idea = ITA_carcano_mass_production
				days = 730
			}
			#custom_effect_tooltip =  ITA_gun_tt
			add_tech_bonus = {
				name = ITA_breda
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 736 852 } #LITORALE as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	

	
	focus = {
		id = ITA_the_backbone_of_the_party
		icon = GFX_goal_ita_badoglio
		mutually_exclusive = {
			focus = ITA_question_the_high_command
		}
		prerequisite = { focus = ITA_the_results_of_the_ethiopian_war }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = -2
		y = 3
		cost = 2.9
		ai_will_do = {
			factor = 40
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			
			add_stability = 0.1
			add_political_power = 75
			#if = {
			#	limit = {
			#		has_global_flag = scw_over
			#	}
			#	army_experience = 30
			#}
			#else = {
		 #		army_experience = 60
		 #	}
		}
	}
	focus = {
		id = ITA_orgoglio_degli_italiani
		icon = GFX_goal_italy_focus_on_mass_mobilization
		prerequisite = { focus = ITA_the_backbone_of_the_party }
		relative_position_id = ITA_the_backbone_of_the_party
		x = -1
		y = 1
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = ITA_tank_bonus
				bonus = 0.75
				uses = 1
				category = armor
			}
			custom_effect_tooltip = available_officer_spirit_of_army
			show_ideas_tooltip = mussolini_ideological_loyalty_spirit	
			
		}
	}	

	
	focus = {
		id = ITA_expand_the_comando_supremo_role
		icon = GFX_focus_ITA_sifar
		prerequisite = { focus = ITA_the_backbone_of_the_party }
		relative_position_id = ITA_the_backbone_of_the_party
		x = 1
		y = 1
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 1
				category = artillery
			}
			add_to_variable = { ITA_re_max_planning = 0.30 }
			add_to_variable = { ITA_re_planning_speed = -0.1 }
			custom_effect_tooltip = ITA_expand_the_comando_supremo_role_tt
		}
	}
	

	
	focus = {
		id = ITA_a_loyal_army
		icon = GFX_focus_ITA_bella_italia
		prerequisite = { focus = ITA_expand_the_comando_supremo_role }
		prerequisite = { focus = ITA_orgoglio_degli_italiani }
		relative_position_id = ITA_the_backbone_of_the_party
		x = 0
		y = 2
		cost = 5
		ai_will_do = {
			factor = 20
		}
		available = {

		}

		available_if_capitulated = yes

		completion_reward = {
			ITA_bop_high_increase_effect = yes
			every_army_leader = {
				add_defense = 1
				add_planning = 1
			}
			#if = {
			#	limit = {
			#		has_global_flag = scw_over
			#	}
			#	army_experience = 30
			#}
			#else = {
			#	army_experience = 60
			#}

		}
	}

	
	focus = {
		id = ITA_question_the_high_command
		icon = GFX_goal_italy_messe_plan
		mutually_exclusive = {
			focus = ITA_the_backbone_of_the_party
		}
		prerequisite = { focus = ITA_the_results_of_the_ethiopian_war }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = 2
		y = 3
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		available = {
	
			#has_army_experience > 50
		}

		available_if_capitulated = yes

		completion_reward = {
			#army_experience  = -50
		custom_effect_tooltip = remove_military_high_command
		retire_character = ITA_pietro_badoglio
		retire_character = ITA_emilio_de_bono
		}
	}
	
	focus = {
		id = ITA_break_the_three_army_independence
		icon = GFX_goal_ITA_unify_the_branches
		prerequisite = { focus = ITA_question_the_high_command }
		relative_position_id = ITA_question_the_high_command
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 40
		}
		available = {
			
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = ITA_tank_bonus
				bonus = 0.75
				uses = 1
				category = armor
			}
		#	custom_effect_tooltip = ITA_break_the_three_army_independence_tt_air
		custom_effect_tooltip = ITA_break_the_three_army_independence_tt
			add_to_variable = { ITA_ra_ground_attack_factor = 0.05 }
			
			add_to_variable = { ITA_re_armor_attack = 0.05 }
			add_to_variable = { ITA_re_motorized_attack = 0.05 }
			add_to_variable = { ITA_re_mechanized_attack = 0.05 }
			add_to_variable = { ITA_re_artillery_attack_factor = 0.05 }
			
		}
	}
	
	focus = {
		id = ITA_fight_corruption
		icon = GFX_goal_ITA_fight_corruption
		prerequisite = { focus = ITA_question_the_high_command }
		relative_position_id = ITA_question_the_high_command
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 40
		}
		available = {
			
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 1
				category = artillery
			}
         	# ITA_bop_low_decrease_effect = yes
			
			add_to_variable = { ITA_re_army_attack_factor = 0.07 }
			add_to_variable = { ITA_re_army_defence_factor = 0.07 }
			custom_effect_tooltip = ITA_fight_corruption_tt
			
		}
	}

	
	focus = {
		id = ITA_a_reformed_army
		icon = GFX_focus_ITA_army_primacy
		prerequisite = { focus = ITA_fight_corruption }
		prerequisite = { focus = ITA_break_the_three_army_independence }
		relative_position_id = ITA_question_the_high_command
		x = 0
		y = 2
		cost = 10
		ai_will_do = {
			factor = 80
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			
			#add_doctrine_cost_reduction = {
			#	name = land_doc_bonus
			#	cost_reduction = 0.5
			#	uses = 2
			#	category = land_doctrine
			#}
			every_army_leader = {
				add_attack = 1
				add_logistics = 1
				
			}
			custom_effect_tooltip = ITA_fight_corruption_tt2
			add_to_variable = { ITA_re_max_planning = 0.25 }
			add_to_variable = { ITA_re_planning_speed = 0.25 }	
		}
	}
	
	
	focus = {
		id = ITA_guerra_a_rapido_corso
		icon = GFX_goal_ITA_pariani_reform
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = -1
		y = 1
		cost = 2.2
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = ITA_the_results_of_the_ethiopian_war
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ITA_guerra_a_rapido_corso_tt
			
			add_to_variable = { ITA_re_army_speed_factor = 0.05 }
			add_to_variable = { ITA_re_supply_consumption_factor = 0.05 }
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = ITA_alberto_pariani
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = support_tech
			}
		}
	}
# In 1937, traditional three-regiment tertiary divisions began to change to two-regiment binary divisions, as part of a ten-year plan to reorganise the standing army into 24 binary, 24 triangular, twelve mountain, three motorised and three armoured divisions.	
	focus = {
		id = ITA_restructure_the_divisions
		icon = GFX_goal_italy_restructure_the_divisions
		prerequisite = { focus = ITA_the_results_of_the_ethiopian_war }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = 1
		y = 1
		cost = 2.2
		ai_will_do = {
			factor = 15
		}
		available = {
			NOT= {ITA = { has_war_with = ENG }}
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = ITA_rearm_the_army
			add_tech_bonus = {
				name = arty_radio_bonus
				bonus = 1
				uses = 1
				technology = artillery_radio 
			}
			add_tech_bonus = {
				name = arty_radio_bonus
				bonus = 1
				uses = 1
				technology = tank_radio
			}
		}
	}
	focus = {
		id = ITA_8_Million_Bayonets
		icon = GFX_focus_ITA_oath
		mutually_exclusive = { focus = ITA_an_army_of_cannons  }
		prerequisite = { focus = ITA_guerra_a_rapido_corso focus = ITA_restructure_the_divisions }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = -9
		y = 2
		cost = 5
		ai_will_do = {
			factor = 20
		}
		
		available = {
				  
		}

		available_if_capitulated = yes
		
		continue_if_invalid = yes

		completion_reward = {
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 50
			}
			else = {
				army_experience = 100
			}
			hidden_effect = {
				add_ideas = eight_million_idea
			}

			custom_effect_tooltip = ITA_8_million_bayonets_modify_tt

			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 8000 producer = ITA } 
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}	
	focus = {
		id = ITA_reshuffle_the_budget
		icon = GFX_ITA_dirigism
		prerequisite = { focus = ITA_8_Million_Bayonets }
		relative_position_id = ITA_8_Million_Bayonets
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 5
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ITA_reshuffle_the_budget_tt
			add_to_variable = { 
				var = ITA_iri_production_speed_industrial_complex_factor 
				value = -0.30 
			}
			add_to_variable = { 
				var = ITA_iri_production_speed_infrastructure_factor
				value = -0.3
			}

			157 = {
				add_building_construction  = {
					type = arms_factory
					level = 6
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 6
				remove_building = {
					type = industrial_complex
					level = 1
				}	
			}
		}
	}	
	focus = {
		id = ITA_empower_the_office_of_press_and_propaganda
		icon = GFX_ITA_Ultranationalism_2
		prerequisite = { focus = ITA_8_Million_Bayonets }
		relative_position_id = ITA_8_Million_Bayonets
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_political_power = 100
			ITA_bop_low_increase_effect = yes
			custom_effect_tooltip = ITA_empower_the_office_of_press_and_propaganda_tt
			
			add_to_variable = { ITA_re_conscription_factor = 0.05 }
			add_to_variable = { ITA_re_army_morale_factor = 0.05 }			
		}
	}	
####avgs will mod trust
	focus = {
		id = ITA_CC.NN_division_primacy
		icon = GFX_focus_ITA_blackshirts
		prerequisite = { focus = ITA_reshuffle_the_budget }
		prerequisite = { focus = ITA_empower_the_office_of_press_and_propaganda }
		relative_position_id = ITA_8_Million_Bayonets
		x = 0
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			#hidden_effect = {
			#	add_ideas = ITA_camicie_nere_strengthened
			#}

			custom_effect_tooltip = ITA_strengthen_the_blackshirts_tt
			hidden_effect = {
				set_division_template_cap = {  division_template = "Camicia Nera" division_cap = 24 }
				add_ideas = ITA_camicie_nere_strengthened
			}
			random_controlled_state = { #Create a few more Blackshirt Divs
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				prioritize = { 2 }
				custom_effect_tooltip = ITA_strengthen_the_blackshirts_spawn_divs_tt
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Camicia Nera\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 3
					}
				}
			}
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 70
			}
			else = {
				army_experience = 125
			}
		}
	}	
###balbos professional army
	focus = {
		id = ITA_an_army_of_cannons
		icon = GFX_goal_ITA_focus_on_artillery
		mutually_exclusive = { focus = ITA_8_Million_Bayonets  }
		prerequisite = { focus = ITA_guerra_a_rapido_corso focus = ITA_restructure_the_divisions }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = -5
		y = 2
		cost = 5
		ai_will_do = {
			factor = 20
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 50
			}
			else = {
				army_experience = 100
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = ITAarta_bonus_tt
			hidden_effect = {
				set_technology = {
					ITA_spg_bonus = 1
				}
			}
			add_to_variable = { sf_doctrine_discount_50_@THIS = 1 }
		}
	}
	
	focus = {
		id = ITA_armaguerra_mod39
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = ITA_an_army_of_cannons }
		relative_position_id = ITA_an_army_of_cannons
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			mio:ITA_armaguerra = {
				add_mio_funds = 600
			}
			#add_tech_bonus = {
			#	bonus = 0.5
			#	uses = 1
			#	category = infantry_weapons
			#}
			add_tech_bonus = {
				technology = advanced_infantry_weapons
				uses = 1
				bonus = 1
				name = ITA_armaguerra_mod39 
			}
		}
	}
	
	focus = {
		id = ITA_subsidise_oto
		icon = GFX_goal_ITA_more_cannons_for_the_army
		prerequisite = { focus = ITA_an_army_of_cannons }
		relative_position_id = ITA_armaguerra_mod39
		x = 2
		y = 0
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = artillery
			}
			add_tech_bonus = {
				technology = heavy_antiair_5 
				uses = 1
				bonus = 2
				name = ITA_subsidise_oto  
			}
		}
	}
#extra mot and mech attack, but they use special equipment 
	focus = {
		id = ITA_bersaglieri_divisions
		icon = GFX_focus_ITA_bersaglieri
		prerequisite = { focus = ITA_subsidise_oto }
		prerequisite = { focus = ITA_armaguerra_mod39 }
		relative_position_id = ITA_an_army_of_cannons
		x = 0
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ITA_turbo_bersaglieri_tt
			hidden_effect = {
				set_technology = {
					ITA_turbo_bersaglieri = 1
				}
			}
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 70
			}
			else = {
				army_experience = 125
			}
		}
	}	

	
	
	focus = {
		id = ITA_guerra_di_posizioni_e_decisioni
		icon = GFX_goal_ITA_guerra_di_posizioni_e_decisioni
		mutually_exclusive = { focus = ITA_expand_the_idea_of_rapido_corso  }
		prerequisite = { focus = ITA_guerra_a_rapido_corso focus = ITA_restructure_the_divisions }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = 5
		y = 2
		cost = 5
		ai_will_do = {
			factor = 20
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 50
			}
			else = {
				army_experience = 100
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = ITA_guerra_di_posizioni_e_decisionia_tt
			
			add_to_variable = { ITA_re_max_planning = 0.05 }
			add_to_variable = { ITA_re_army_max_dig_in_factor = 0.05 }			
		}
		
	}
	focus = {
		id = ITA_divisioni_alpine
		icon = GFX_focus_ITA_alpine_division
		prerequisite = { focus = ITA_guerra_di_posizioni_e_decisioni }
		x = 1
		y = 1
		relative_position_id = ITA_guerra_di_posizioni_e_decisioni
		cost = 5

		ai_will_do = {
			factor = 15
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
		
			custom_effect_tooltip = ITA_OAK_modify_regio_esercito_dynamic_modifier_ns_intro

			add_to_variable = { 
				var = ITA_re_special_forces_attack_factor 
				value = 0.05
				tooltip = ITA_alpine_tt
			}
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 25
			}
			else = {
				army_experience = 35
			}

			add_tech_bonus = {
				name = ITA_divisioni_alpine
				bonus = 0.5
				uses = 1
				category = special_tech
			}
			add_tech_bonus = {
				name = support_companies
				Bonus = 0.5
				uses = 2
				category = support_tech
			}
		}
	}

	focus = { 
		id = ITA_compagnie_auto_avio_sahariane
		icon = GFX_focus_generic_armored_air_support
		prerequisite = { focus = ITA_guerra_di_posizioni_e_decisioni }
		x = -1
		y = 1
		relative_position_id = ITA_guerra_di_posizioni_e_decisioni

		cost = 5

		ai_will_do = {
			factor = 15
		}


		available = {}
		
		search_filters = {}

		completion_reward = {
			add_to_variable = { ITA_ra_ground_attack_factor = 0.075 }
			#add_to_variable = { ITA_ra_air_interception = 0.05 }
			custom_effect_tooltip = ITA_compagnie_auto_avio_sahariane_ra_tt
			#add_to_variable = {  ITA_re_org_loss_when_moving = -0.1 }
			#add_to_variable = {  ITA_re_out_of_supply = -0.1 }
		    add_tech_bonus = {
				name = ITA_armored_car_bonus
				bonus = 0.5
				uses = 2
				technology = ita_nsb_tech_armored_cars2
				technology = ita_nsb_tech_armored_cars3
				technology = ita_nsb_tech_armored_cars4
			}
			add_tech_bonus = {
				name = ITA_bonus_tank
				bonus = 0.5
				uses = 1
				category = armor
			}

			add_tech_bonus = {
				name = ITA_recon_bonus
				bonus = 1
				uses = 2
				category = recon_tech
			}
		}
	}
	focus = {
		id = ITA_AVANTI
		icon = GFX_focus_ITA_moschettieri_del_duce
		prerequisite = { focus = ITA_compagnie_auto_avio_sahariane focus = ITA_divisioni_alpine }
		x = 0
		y = 2
		relative_position_id = ITA_guerra_di_posizioni_e_decisioni
		cost = 5

		ai_will_do = {
			factor = 15
		}


		available = {
		}

		search_filters = {}

		completion_reward = {
			custom_effect_tooltip = avanti_tt
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 50
			}
			else = {
				army_experience = 100
			}
		}
	}
	
	
	focus = {
		id = ITA_expand_the_idea_of_rapido_corso
		icon = GFX_goal_ITA_expand_rapido_corso
		mutually_exclusive = { focus = ITA_guerra_di_posizioni_e_decisioni  }
		prerequisite = { focus = ITA_guerra_a_rapido_corso focus = ITA_restructure_the_divisions }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = 9
		y = 2
		cost = 5
		ai_will_do = {
			factor = 20
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 50
			}
			else = {
				army_experience = 100
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_tech_bonus = {
				name = ITA_tank_bonus
				bonus = 0.75
				uses = 1
				category = armor
			}
		}
	}
	
	focus = {
		id = ITA_plug_the_automotive_gap
		icon = GFX_goal_ITA_solve_automotive_gap
		prerequisite = { focus = ITA_expand_the_idea_of_rapido_corso }
		relative_position_id = ITA_expand_the_idea_of_rapido_corso
		available = {

		}
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 500
				producer = ITA
			}
			add_to_variable = {  ITA_re_org_loss_when_moving = -0.1 }
			add_to_variable = {  ITA_re_out_of_supply = -0.1 }
			custom_effect_tooltip = ITA_compagnie_auto_avio_sahariane_re_tt
			add_tech_bonus = {				
				bonus = 1
				uses = 1
				technology = ita_mechanised_infantry1
				technology = ita_nsb_mechanised_infantry2
				name = ITA_mech
			}
		}
	}
	focus = {
		id = ITA_semoventi
		icon = GFX_focus_generic_self_propelled_gun
		prerequisite = { focus = ITA_expand_the_idea_of_rapido_corso }
		relative_position_id = ITA_expand_the_idea_of_rapido_corso
		x = 1
		y = 1
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {

			add_tech_bonus = {
				name = ITA_self_propelled_guns
				bonus = 0.5
				uses = 1
				category = artillery
			}	
			custom_effect_tooltip = GER_spg2_bonus_tt
			hidden_effect = {
				set_technology = {
					GER_spg2_bonus = 1
				}
			}
		}
	}	
	focus = {
		id = ITA_p_40
		icon = GFX_goal_ita_tank_focus
		prerequisite = { focus = ITA_semoventi focus = ITA_plug_the_automotive_gap }
		relative_position_id = ITA_expand_the_idea_of_rapido_corso
		x = 0
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = ITA_tank_bonus
				bonus = 0.75
				uses = 1
				category = armor
			}
			if = {
				limit = {
					has_global_flag = scw_over
				}
				army_experience = 50
			}
			else = {
				army_experience = 100
			}

			#custom_effect_tooltip = SOV_heavy_tank_template_tt	
			custom_effect_tooltip = ITA_Divisione_corazzata_unit_tt
				hidden_effect = {
					if = {
						limit = {
							has_tech = ita_1940_heavy_tank_chassis
						}	
						if = {
							limit = {
								ITA = {
									NOT = {
										OR = {
											has_tech = large_front_operations
											has_tech = peoples_army
										}
									}
								}
							}
							division_template = {
								name = "Divisione Corazzata Heavy"

								division_names_group = ITA_ARM_01			
								
								regiments = {
									heavy_armor = { x = 0 y = 0 }
									heavy_armor = { x = 0 y = 1 }
									heavy_armor = { x = 0 y = 2 }
									heavy_armor = { x = 0 y = 3 }
									
									heavy_armor = { x = 1 y = 0 }
									heavy_armor = { x = 1 y = 1 }
									heavy_armor = { x = 1 y = 2 }
									heavy_armor = { x = 1 y = 3 }

									motorized = { x = 2 y = 0 }
									motorized = { x = 2 y = 1 }
									motorized = { x = 2 y = 2 }
									motorized = { x = 2 y = 3 }	

									motorized = { x = 3 y = 0 }

									heavy_armor = { x = 4 y = 0 }
									heavy_armor = { x = 4 y = 1 }	
								}
								support = {
									artillery = { x = 0 y = 0 }
									engineer = { x = 1 y = 0 }
									logistics_company_mot = { x = 0 y = 1 }
									maintenance_company = { x = 1 y = 1 }
									recon_ac = { x = 0 y = 2 }
									military_police = { x = 1 y = 2 } 
									signal_company = { x = 0 y = 3 } 
									
								}
								priority = 2
							}
						}
						else = {
							division_template = {
								name = "Divisione Corazzata Heavy"

								division_names_group = ITA_ARM_01			
								
								regiments = {
									heavy_armor = { x = 0 y = 0 }
									heavy_armor = { x = 0 y = 1 }
									heavy_armor = { x = 0 y = 2 }
									heavy_armor = { x = 0 y = 3 }
									
									heavy_armor = { x = 1 y = 0 }
									heavy_armor = { x = 1 y = 1 }
									heavy_armor = { x = 1 y = 2 }
									heavy_armor = { x = 1 y = 3 }

									motorized = { x = 2 y = 0 }
									motorized = { x = 2 y = 1 }
									motorized = { x = 2 y = 2 }
									motorized = { x = 2 y = 3 }	

									motorized = { x = 3 y = 0 }

									heavy_armor = { x = 4 y = 0 }
									heavy_armor = { x = 4 y = 1 }	
									heavy_armor = { x = 4 y = 2 }
								}
								support = {
									artillery = { x = 0 y = 0 }
									engineer = { x = 1 y = 0 }
									logistics_company_mot = { x = 0 y = 1 }
									maintenance_company = { x = 1 y = 1 }
									recon_ac = { x = 0 y = 2 }
									military_police = { x = 1 y = 2 } 
									signal_company = { x = 0 y = 3 } 
									
								}
								priority = 2
							}
						}
						every_state = {
							limit = { state = 2 }
							create_unit = {
								division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Heavy\" start_experience_factor = 0.2 start_equipment_factor = 1" 
								owner = ITA
							}   
						}	
					}
					else_if = {
						limit = {
							has_tech = ita_1940_medium_tank_chassis
						}
						if = {
							limit = {
								ITA = {
									NOT = {
										OR = {
											has_tech = large_front_operations
											has_tech = peoples_army
										}
									}
								}
							}
							division_template = {
								name = "Divisione Corazzata Medium"

								division_names_group = ITA_ARM_01			
								
								regiments = {
									medium_armor = { x = 0 y = 0 }
									medium_armor = { x = 0 y = 1 }
									medium_armor = { x = 0 y = 2 }
									medium_armor = { x = 0 y = 3 }
									
									medium_armor = { x = 1 y = 0 }
									medium_armor = { x = 1 y = 1 }
									medium_armor = { x = 1 y = 2 }
									medium_armor = { x = 1 y = 3 }

									motorized = { x = 2 y = 0 }
									motorized = { x = 2 y = 1 }
									motorized = { x = 2 y = 2 }
									motorized = { x = 2 y = 3 }	

									motorized = { x = 3 y = 0 }

									medium_armor = { x = 4 y = 0 }
									medium_armor = { x = 4 y = 1 }	
								}
								support = {
									artillery = { x = 0 y = 0 }
									engineer = { x = 1 y = 0 }
									logistics_company_mot = { x = 0 y = 1 }
									maintenance_company = { x = 1 y = 1 }
									recon_ac = { x = 0 y = 2 }
									military_police = { x = 1 y = 2 } 
									signal_company = { x = 0 y = 3 } 
									
								}
								priority = 2
							}
						}
						else = {
							division_template = {
								name = "Divisione Corazzata Medium"

								division_names_group = ITA_ARM_01			
								
								regiments = {
									medium_armor = { x = 0 y = 0 }
									medium_armor = { x = 0 y = 1 }
									medium_armor = { x = 0 y = 2 }
									medium_armor = { x = 0 y = 3 }
									
									medium_armor = { x = 1 y = 0 }
									medium_armor = { x = 1 y = 1 }
									medium_armor = { x = 1 y = 2 }
									medium_armor = { x = 1 y = 3 }

									motorized = { x = 2 y = 0 }
									motorized = { x = 2 y = 1 }
									motorized = { x = 2 y = 2 }
									motorized = { x = 2 y = 3 }	

									motorized = { x = 3 y = 0 }

									medium_armor = { x = 4 y = 0 }
									medium_armor = { x = 4 y = 1 }	
									medium_armor = { x = 4 y = 2 }
								}
								support = {
									artillery = { x = 0 y = 0 }
									engineer = { x = 1 y = 0 }
									logistics_company_mot = { x = 0 y = 1 }
									maintenance_company = { x = 1 y = 1 }
									recon_ac = { x = 0 y = 2 }
									military_police = { x = 1 y = 2 } 
									signal_company = { x = 0 y = 3 } 
									
								}
								priority = 2
							}
						}

						every_state = {
							limit = { state = 2 }

							create_unit = {
								division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Medium\" start_experience_factor = 0.2 start_equipment_factor = 1" 
								owner = ITA
							}   
							create_unit = {
								division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Medium\" start_experience_factor = 0.2 start_equipment_factor = 1" 
								owner = ITA
							}		
						}	
					}
					else_if = {
						if = {
							limit = {
								ITA = {
									NOT = {
										OR = {
											has_tech = large_front_operations
											has_tech = peoples_army
										}
									}
								}
							}
							division_template = {
								name = "Divisione Corazzata Light"

								division_names_group = ITA_ARM_01			
								
								regiments = {
									light_armor = { x = 0 y = 0 }
									light_armor = { x = 0 y = 1 }
									light_armor = { x = 0 y = 2 }
									light_armor = { x = 0 y = 3 }
									
									light_armor = { x = 1 y = 0 }
									light_armor = { x = 1 y = 1 }
									light_armor = { x = 1 y = 2 }
									light_armor = { x = 1 y = 3 }

									motorized = { x = 2 y = 0 }
									motorized = { x = 2 y = 1 }
									motorized = { x = 2 y = 2 }
									motorized = { x = 2 y = 3 }	

									motorized = { x = 3 y = 0 }

									light_armor = { x = 4 y = 0 }
									light_armor = { x = 4 y = 1 }	
								}
								support = {
									artillery = { x = 0 y = 0 }
									engineer = { x = 1 y = 0 }
									logistics_company_mot = { x = 0 y = 1 }
									maintenance_company = { x = 1 y = 1 }
									recon_ac = { x = 0 y = 2 }
									military_police = { x = 1 y = 2 } 
									signal_company = { x = 0 y = 3 } 
									
								}
								priority = 2
							}
						}
						else = {
							division_template = {
								name = "Divisione Corazzata Light"

								division_names_group = ITA_ARM_01			
								
								regiments = {
									light_armor = { x = 0 y = 0 }
									light_armor = { x = 0 y = 1 }
									light_armor = { x = 0 y = 2 }
									light_armor = { x = 0 y = 3 }
									
									light_armor = { x = 1 y = 0 }
									light_armor = { x = 1 y = 1 }
									light_armor = { x = 1 y = 2 }
									light_armor = { x = 1 y = 3 }

									motorized = { x = 2 y = 0 }
									motorized = { x = 2 y = 1 }
									motorized = { x = 2 y = 2 }
									motorized = { x = 2 y = 3 }	

									motorized = { x = 3 y = 0 }

									light_armor = { x = 4 y = 0 }
									light_armor = { x = 4 y = 1 }	
									light_armor = { x = 4 y = 2 }
								}
								support = {
									artillery = { x = 0 y = 0 }
									engineer = { x = 1 y = 0 }
									logistics_company_mot = { x = 0 y = 1 }
									maintenance_company = { x = 1 y = 1 }
									recon_ac = { x = 0 y = 2 }
									military_police = { x = 1 y = 2 } 
									signal_company = { x = 0 y = 3 } 
									
								}
								priority = 2
							}
						}
						every_state = {
							limit = { state = 2 }
							create_unit = {
								division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Light\" start_experience_factor = 0.2 start_equipment_factor = 1" 
								owner = ITA
							}   
							create_unit = {
								division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Light\" start_experience_factor = 0.2 start_equipment_factor = 1" 
								owner = ITA
							}
							create_unit = {
								division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione Corazzata Light\" start_experience_factor = 0.2 start_equipment_factor = 1" 
								owner = ITA
							}		
						}	
					}
				}		
			}
		}	

	




	##################################################
	################AIR BRANCH########################
	##################################################


	focus = {
		id = ITA_programma_r
		icon = GFX_goal_ITA_programma_r
		x = 15
		y = -1
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		cost = 4.4
		ai_will_do = {
			factor = 20
		}
		available = {
			NOT = {
				has_war_with = ENG
			}
		}
		available_if_capitulated = yes

		completion_reward = {

			add_timed_idea = {
				idea = ITA_programma_R
				days = 365
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}
	focus = {
		id = ITA_combat_technological_backwardness
		icon = GFX_goal_research_silver_cooperation
		prerequisite = { focus = ITA_programma_r }
		relative_position_id = ITA_programma_r
		x = -2
		y = 1
		cost = 4.4
		ai_will_do = {
			factor = 20
		}

		available_if_capitulated = yes

		completion_reward = {	
			swap_ideas ={
				remove_idea = ITA_bad_engine_1
				add_idea = ITA_bad_engine_2
			}
			#custom_effect_tooltip = ITA_engine_tt			
			
		}

	}
###todo: -2.5% fighter ic cost
	focus = {
		id = ITA_domestic_engines
		icon = GFX_goal_ITA_domestic_engines
		x = -1
		y = 1
		cost = 3.6
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = ITA_combat_technological_backwardness
		}
		relative_position_id = ITA_combat_technological_backwardness
		mutually_exclusive = {
			focus = ITA_german_DB_engine
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = ITA_bad_engine_2
			#custom_effect_tooltip = ITA_engine_tt	
			add_ideas = ITA_good_engines
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = air_equipment
			}
			
		}
	}
	
	focus = {
		id = ITA_german_DB_engine
		icon = GFX_goal_ITA_DB_engine
		x = 1
		y = 1
		cost = 3.6
		ai_will_do = {
			factor = 40
		}
		available = {
			has_completed_focus = ITA_pact_of_steel
		}
		prerequisite = {
			focus = ITA_combat_technological_backwardness
		}
	    relative_position_id = ITA_combat_technological_backwardness
		mutually_exclusive = {
			focus = ITA_domestic_engines
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = ITA_bad_engine_2
			#custom_effect_tooltip = ITA_engine_tt
			custom_effect_tooltip = "Gives new models of fighters up to 1942 model"
			if = {
				limit = {
					NOT = {
						has_tech = fighter_1938
					}
				}
				set_technology = {
					fighter_1938  = 1
				}
			}
			else_if = {
				limit = {
			
					has_tech = fighter_1938
					NOT = {
						has_tech = fighter_1940
					}
					
				}
				set_technology = {
					fighter_1940 = 1
				}
			}
			else_if = {
				limit = {
			
					has_tech = fighter_1940
					
					
				}
				set_technology = {
					fighter_1942 = 1
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = heavy_fighter_1938
					}
				}
				set_technology = {
					heavy_fighter_1938  = 1
				}
			}
			
			
			else_if = {
				limit = {
					
					has_tech = heavy_fighter_1938
					NOT = {
						has_tech = heavy_fighter_1940
					}
					
				}
				set_technology = {
					heavy_fighter_1940 = 1
				}
			}
			else_if = {
				limit = {
			
					has_tech = heavy_fighter_1940
					
					
				}
				set_technology = {
					heavy_fighter_1942 = 1
				}
			}
			
			
		
		}
	}
####add oil development as requirement
	focus = {
		id = ITA_high_octane_fuel_plants
		icon = GFX_r56_goal_generic_industrial_planning
		prerequisite = { focus = ITA_reggiane_foc  focus = ITA_savoia_marchetti_foc }
		prerequisite = { focus =  ITA_mussolinis_fast_attack_force focus = ITA_Picchiatello}
		relative_position_id = ITA_combat_technological_backwardness
		x = 2
		y = 3
		available = {
			
		}
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
		custom_effect_tooltip = ITA_high_octane_fuel_plants_tt
		add_to_variable = { ITA_ra_air_maximum_speed_factor = 0.1	}	
		add_to_variable = { ITA_ra_air_agility_factor = 0.1	}
		
			450 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}	
		}
	}

	focus = {
		id = ITA_reggiane_foc
		icon = GFX_goal_ITA_reggiane
		prerequisite = { focus = ITA_german_DB_engine  focus = ITA_domestic_engines  }
		relative_position_id = ITA_combat_technological_backwardness
		x = -1
		y = 2
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		mutually_exclusive = {
			focus = ITA_savoia_marchetti_foc
		}
		available = {
			#NOT = {
			#	has_idea = ITA_outdated_air_engines
			#}
		}


		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 1
				category = light_fighter
			}
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = ITA_regiane_organization
			set_country_flag = ITA_reggiane_done
		}
	}
	
	focus = {
		id = ITA_savoia_marchetti_foc
		icon = GFX_goal_ITA_piaggio
		prerequisite = { focus = ITA_german_DB_engine  focus = ITA_domestic_engines  }
		relative_position_id = ITA_combat_technological_backwardness
		x = 1
		y = 2
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		mutually_exclusive = {
			focus = ITA_reggiane_foc
		}
		available = {
			#NOT = {
			#	has_idea = ITA_outdated_air_engines
			#}
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				bonus = 0.75
				uses = 1
				category = cat_heavy_fighter
			}
			
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = ITA_savoia_marchetti_organization
			set_country_flag = ITA_savoia_marchetti_done
		}
	}
	focus = {
		id = ITA_reorganize_the_regia_aereonautica
		icon = GFX_goal_ITA_regia_aeronautica
		relative_position_id = ITA_programma_r
		prerequisite = { focus = ITA_programma_r }
		x = 2
		y = 1
		cost = 4.4
		ai_will_do = {
			factor = 10
		}

		available = {
			
		}

		available_if_capitulated = yes

		completion_reward = {

			#add_to_variable = { ITA_ra_experience_gain_air = 0.05 }
			add_to_variable = { ITA_ra_air_mission_xp_gain_factor = 0.1 }
			add_to_variable = { ITA_ra_air_training_xp_gain_factor = 0.2 }
			add_to_variable = { ITA_ra_army_bonus_air_superiority_factor = 0.10 }
			add_to_variable = { ITA_ra_air_superiority_efficiency = 0.05 }
			add_to_variable = { ITA_ra_air_ace_generation_chance_factor = 0.25 }
			add_to_variable = { ITA_ra_air_cas_present_factor = 0.1	}	

			custom_effect_tooltip = ITA_OAK_air_innovation_tt	
		
			#custom_effect_tooltip = available_chief_of_airforce
			#show_ideas_tooltip = ITA_francesco_pricolo
		}
	}
	focus = {
		id = ITA_embrace_douhets_ideas
		icon = GFX_focus_ITA_douhet_doctrine
		prerequisite = { focus = ITA_reorganize_the_regia_aereonautica }
		relative_position_id = ITA_programma_r
		x = 1
		y = 2
		cost = 4.4
		ai_will_do = {
			factor = 20
		}
		mutually_exclusive = {
			focus = ITA_amedeo_mecozzis_assault_wings
		}

		available_if_capitulated = yes

		completion_reward = {
		custom_effect_tooltip = ITA_embrace_douhets_ideas_tt
			add_to_variable = { ITA_ra_air_strategic_bomber_bombing_factor = 0.2 }
			add_to_variable = { ITA_ra_air_superiority_bonus_in_combat = 0.05	}
			air_experience  = 75
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = cat_strategic_bomber 
			}
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = tactical_bomber 
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
		}
	}
	focus = {
		id = ITA_mussolinis_fast_attack_force
		icon = GFX_goal_ita_savoia_marchetti_sm_79
		prerequisite = { focus = ITA_embrace_douhets_ideas }
		relative_position_id = ITA_programma_r
		x = 1
		y = 3
		cost = 4.4
		ai_will_do = {
			factor = 10
		}

		available = {
			has_tech = strategic_bomber_1937
		}
		available_if_capitulated = yes

		completion_reward = {
			air_experience = 75
			custom_effect_tooltip = ITA_strategic_bomber_tt

			hidden_effect = {  	
			if = {
				limit = { 
					has_tech = strategic_bomber_1937 
					NOT = { has_tech = strategic_bomber_1939 	}
				}
				add_equipment_to_stockpile = { type = strat_bomber_equipment_1937 amount = 100 producer = ITA }   
			}
			if = {
				limit = { 
					has_tech = strategic_bomber_1939 
				}
				add_equipment_to_stockpile = { type = strat_bomber_equipment_1939 amount = 100 producer = ITA }   
			}				
			}
		}
	}
	focus = {
		id = ITA_amedeo_mecozzis_assault_wings
		icon = GFX_goal_ITA_air_land_coordination
		prerequisite = { focus = ITA_reorganize_the_regia_aereonautica }
		relative_position_id = ITA_programma_r
		x = 3
		y = 2
		mutually_exclusive = {
			focus = ITA_embrace_douhets_ideas
		}
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {

			add_to_variable = { ITA_ra_ground_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_compagnie_auto_avio_sahariane_ra2_tt
			custom_effect_tooltip = ITA_diving_bombers_dynamic_modifier_add_tt
			air_experience  = 75
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = cas_bomber 
			}
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = naval_air 
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
			hidden_effect = {
				add_ideas = german_dive_bombing
			}		
		}
	}
#amedeo mecozzis assault wings


	focus = {
		id = ITA_Picchiatello
		icon = GFX_goal_ita_breda_ba_65
		prerequisite = { focus = ITA_amedeo_mecozzis_assault_wings }
		relative_position_id = ITA_programma_r
		x = 3
		y = 3
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 75
			custom_effect_tooltip = ITA_dive_bomber_tt

			hidden_effect = {
			}
			if = {
				limit = { 
					ITA = { 
						has_tech = CAS_1937 
						NOT = { has_tech = CAS_1939	}
					}
				}
				add_equipment_to_stockpile = { type = CAS_equipment_1937 amount = 200 producer = ITA }   
			}
			if = {
				limit = { 
					ITA = { 
						has_tech = CAS_1939
					}
				}	
				add_equipment_to_stockpile = { type = CAS_equipment_1939 amount = 200 producer = ITA }   
			}		
		}
	}
	
	focus = {
		id = ITA_prioritize_the_immediate_threat
		icon = GFX_goal_ITA_reach_the_french_capitals
		x = 9
		y = 0
		cost = 2.5
		relative_position_id = ITA_programma_r
		ai_will_do = {
			factor = 15
		}
		#prerequisite = {
		#	focus = ITA_anglo_italian_crisis
		#}
		mutually_exclusive = {
			focus = ITA_challenge_the_royal_navy
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 100
			unlock_decision_tooltip = { decision = ITA_dockyard_early show_effect_tooltip = no }
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
				
			}
			add_to_variable = { fb_doctrine_discount_50_@THIS = 2 }
		}
	}
	focus = {
		id = ITA_challenge_the_royal_navy
		icon = GFX_goal_ITA_challenge_the_royal_navy
		x = 11
		y = 0
		cost = 2.5
		relative_position_id = ITA_programma_r
		ai_will_do = {
			factor = 5
		}
		#prerequisite = {
		#	focus = ITA_anglo_italian_crisis
		#}
		mutually_exclusive = {
			focus = ITA_prioritize_the_immediate_threat
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 100
			unlock_decision_tooltip = { decision = ITA_dockyard_speed_bonus show_effect_tooltip = no }

			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
			add_to_variable = { bs_doctrine_discount_50_@THIS = 2 }
		}
	}	
	focus = {
		id = ITA_a_top_heavy_fleet
		icon = GFX_goal_ITA_littorio_class
		x = 1
		y = 1
		relative_position_id = ITA_prioritize_the_immediate_threat
		prerequisite = {
			focus = ITA_challenge_the_royal_navy focus = ITA_prioritize_the_immediate_threat
		}
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 25
			add_timed_idea = {
				idea = ITA_fleet_modernization
				days = 365
			}
			set_technology = {
				improved_heavy_battery = 1
			}

			create_equipment_variant = {
			name = "Roma Class"
			type = ship_hull_heavy_2
			name_group = ITA_BB_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_heavy_battery_2
				fixed_ship_anti_air_slot = ship_anti_air_2
				fixed_ship_fire_control_system_slot = ship_fire_control_system_2
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = heavy_ship_engine_2
				fixed_ship_secondaries_slot = ship_secondaries_2
				fixed_ship_armor_slot = ship_armor_bb_2
				front_1_custom_slot = ship_anti_air_2
				mid_1_custom_slot = dp_ship_secondaries_2
				mid_2_custom_slot = ship_airplane_launcher_2
				rear_1_custom_slot = ship_heavy_battery_2
				}
	     	}
			add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA" 
						version_name = "Roma Class"
					}
					requested_factories = 4
					name = "RN Roma"
					progress = 0.5
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA" 
						version_name = "Roma Class"
						
					}
					requested_factories = 4
					name = "RN Italia"
					progress = 0.3
					amount = 1
				}
			
		}	
	}
	focus = {
		id = ITA_remove_ciano_from_the_naval_committee
		icon = GFX_goal_ITA_kick_ciano
		x = -1
		y = 1
		relative_position_id = ITA_a_top_heavy_fleet
		prerequisite = {
			focus = ITA_a_top_heavy_fleet 
		}
		cost = 5.8
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = IITA_remove_ciano_from_the_naval_committee_tt
			add_to_variable = { ITA_production_speed_dockyard_factor2_var = 0.15 }
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = ITA_crda_organization
			custom_effect_tooltip = available_mio_tt
			show_mio_tooltip = ITA_harland_wolff_organization 
		}
	}	
	focus = {
		id = ITA_retire_cavagnari
		icon = GFX_goal_italy_cavagnari
		x = 1
		y = 1
		relative_position_id = ITA_a_top_heavy_fleet
		prerequisite = {
			focus = ITA_a_top_heavy_fleet 
		}
		cost = 5.8
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		
		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = domenico_cavagnari
			custom_effect_tooltip = available_chief_of_navy
			show_ideas_tooltip = arturo_riccardi
			show_ideas_tooltip = inigo_campioni

		}
	}	
	focus = {
		id = ITA_rush_order_carriers
		icon = GFX_goal_ITA_rn_aquila
		x = 1
		y = 1
		cost = 5.8
		relative_position_id = ITA_retire_cavagnari
		ai_will_do = {
			factor = 40
		}
		available = {
			
		}
		prerequisite = {
			focus = ITA_retire_cavagnari focus = ITA_challenge_the_royal_navy 
		}

		available = {
			has_tech = basic_ship_hull_carrier
		}
		
		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = ITA_proper_carriers
				bonus = 1.0
				uses = 1
				category = cv_tech
			}

			create_equipment_variant = {
					name = "Aquila Class"
					type = ship_hull_carrier_1
					name_group = ITA_CV_HISTORICAL
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						front_1_custom_slot = ship_deck_space
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_1
						creator = "ITA"
						version_name = "Aquila Class"
					}
					name = "Aquila"
					requested_factories = 2
					progress = 0.45
					amount = 1
				}
			


				#Equipment Variant
				create_equipment_variant = {
					name = "Conte di Savoia Class - Converted Liner"
					type = ship_hull_carrier_conversion_ca
					name_group = ITA_CV_HISTORICAL #TODO_Manu: Namelist (Conte di Savoia, Rex, Neptunia, Oceania, Conte Rosso, Conte Grande, Saturnia, Vulcania, Conte Biancamo, Duilio, Conte verde, Giulio Cesare, Colombo, Tel Aviv) Excluded Roma (Aquila) and Augustus (Sparviero)
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_1
						fixed_ship_secondaries_slot = ship_secondaries_1
					}
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_conversion_ca
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					name = "Conte di Savoia"
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_conversion_ca
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					name = "Rex"
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
			}
		}
	    focus = {
		id = ITA_counter_the_british_battleline
		icon = GFX_goal_ITA_light_ships_production
		x = 4
		y = 1
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		available = {
			has_tech = ship_hull_super_heavy
		}
		prerequisite = {
			focus = ITA_challenge_the_royal_navy
		}
        relative_position_id = ITA_challenge_the_royal_navy
		

		available_if_capitulated = yes

		completion_reward = {
				create_equipment_variant = {
					name = "Romulus Class"
					type = ship_hull_super_heavy_1
					parent_version = 0
					modules = {
					fixed_ship_battery_slot = ship_super_heavy_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_2
					fixed_ship_fire_control_system_slot = ship_fire_control_system_2
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = heavy_ship_engine_2
					fixed_ship_secondaries_slot = ship_secondaries_2
					fixed_ship_armor_slot = ship_armor_shbb
					front_1_custom_slot = ship_super_heavy_battery_1
					front_2_custom_slot = ship_super_heavy_battery_1
					mid_1_custom_slot = ship_anti_air_2
					mid_2_custom_slot = ship_anti_air_2
					mid_3_custom_slot = ship_anti_air_2
					rear_1_custom_slot = ship_super_heavy_battery_1
					rear_2_custom_slot = ship_airplane_launcher_2
					}
					
				}
				
				add_equipment_production = {
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "ITA"
						version_name = "Romulus Class"
					}
					name = "RN Romulus"
					requested_factories = 1
					progress = 0.80
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "ITA"
						version_name = "Romulus Class"
					}
					name = "RN Remus"
					requested_factories = 1
					progress = 0.80
					amount = 1
				}
			
		}
	}
	focus = {
		id = ITA_decima_flottiglia_mas
		icon = GFX_focus_ITA_decima_flottiglia_mas
		x = 4
		y = 1
		relative_position_id = ITA_prioritize_the_immediate_threat
		prerequisite = {
			focus = ITA_challenge_the_royal_navy focus = ITA_prioritize_the_immediate_threat
		}
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			
			show_unit_leaders_tooltip = ITA_junio_valerio_borghese
			custom_effect_tooltip = ITA_OAK_modify_regia_marina_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_rm_naval_torpedo_screen_penetration_factor 
				value = 0.1
				tooltip = torpedo_screen_pen_tt
			}
			add_to_variable = { 
				var = ITA_rm_amphibious_invasion 
				value = 0.1
				tooltip = amphb_invasion_speed_tt
			}
			add_tech_bonus = {
				bonus = 0.8
				uses = 2
				category = marine_tech
			}
			add_tech_bonus = {
				bonus = 1.0
				uses = 1
				category = tp_tech
			}
		
			navy_experience = 25
		}
	}
	focus = {
		id = ITA_fast_cruisers
		icon = GFX_goal_ITA_heavy_ships_production
		x = -4
		y = 1
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		available = {
		}
		prerequisite = {
			focus = ITA_prioritize_the_immediate_threat
		}
        relative_position_id = ITA_prioritize_the_immediate_threat
		

		available_if_capitulated = yes

		completion_reward = {
		navy_experience = 100
			add_tech_bonus = {
				bonus = 2.0
				uses = 1
				category = cl_tech	
				category = ca_tech
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ITA
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = ITA_intensify_torpedo_manufacturing
		icon = GFX_focus_generic_torpedo_production
		prerequisite = { focus = ITA_fast_cruisers  }
		prerequisite = { focus = ITA_submarine_mass_production }
		x = 1
		y = 1
		relative_position_id = ITA_fast_cruisers
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			#custom_effect_tooltip = ITA_OAK_modify_regia_marina_dynamic_modifier_ns_intro
			add_to_variable = { ITA_rm_convoy_raiding_efficiency_factor = 0.05 }
			add_to_variable = { ITA_rm_naval_strike_attack_factor = 0.05 }
			add_to_variable = { ITA_rm_navy_submarine_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_intensify_torpedo_manufacturing_rm_tt

			add_tech_bonus = {
				name = ITA_intensify_torpedo_manufacturing
				bonus = 1.0
				uses = 2
				technology = magnetic_detonator
				technology = homing_torpedo
				technology = electric_torpedo
				technology = improved_ship_torpedo_launcher
				technology = advanced_ship_torpedo_launcher
				technology = modern_ship_torpedo_launcher
			}
		}
	}	
	focus = {
		id = ITA_submarine_mass_production
		icon = GFX_GER_modular_construction
		x = -2
		y = 1
		relative_position_id = ITA_prioritize_the_immediate_threat
		prerequisite = {
			focus = ITA_challenge_the_royal_navy focus = ITA_prioritize_the_immediate_threat
		}
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			115 = {
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes	
				}
				add_extra_state_shared_building_slots = 3
			}
			add_tech_bonus = {
				name = GER_anti_submarine_training_school
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				technology = convoy_interdiction_ti
				technology = unrestricted_submarine_warfare
				technology = wolfpacks
				technology = advanced_submarine_warfare
				technology = combined_operations_raiding
			}
			

		}
	}
	
	

	focus = {
		id = ITA_flotta_d_evasione
		icon = GFX_focus_ITA_new_horizons

		prerequisite = { focus = ITA_decima_flottiglia_mas }
		prerequisite = { focus = ITA_counter_the_british_battleline }
		x = 1
		y = 1
		relative_position_id = ITA_decima_flottiglia_mas

		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = { 
			navy_experience = 150

			add_tech_bonus = {
				bonus = 1
				ahead_reduction = 1
				uses = 2
				category = naval_equipment
			}
		}
	}	
	focus = {
		id = ITA_reopen_the_triest_closed_dockyards
		icon = GFX_goal_ITA_reopen_trieste_dockyards
		x = -1
		y = 1
		cost = 5.8
		relative_position_id = ITA_remove_ciano_from_the_naval_committee
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		prerequisite = {
           focus = ITA_remove_ciano_from_the_naval_committee  focus = ITA_prioritize_the_immediate_threat	
		}
		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 25
			736 = {
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes	
				}
				add_extra_state_shared_building_slots = 3
			}
		}
	}	

	focus = {
		id = ITA_naval_air_coordination
		icon = GFX_focus_ITA_carrier_italy
		x = 1
		y = 1
		cost = 5.8
		relative_position_id = ITA_remove_ciano_from_the_naval_committee
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		prerequisite = {
           focus = ITA_remove_ciano_from_the_naval_committee  focus = ITA_retire_cavagnari	
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			
			add_to_variable = { ITA_ra_air_nav_efficiency = 0.1 }
			add_to_variable = { ITA_rm_spotting_chance = 0.05 }
			add_to_variable = { ITA_rm_sortie_efficiency = 0.1 }
			custom_effect_tooltip = ITA_OAK_naval_air_coordination_rm_tt

			air_experience = 50
			if = {
				limit = {
					NOT = {
						has_tech = naval_bomber_1938
					}
				}
				set_technology = { naval_bomber_1938 = 1}
			}
			else = {
				add_tech_bonus = {
					name = ITA_Modern_naval_bomber_effort
					bonus = 0.5
					uses = 1
					category = naval_bomber
				}
			}
			add_equipment_to_stockpile = { type = nav_bomber_equipment_1938 amount = 100 producer = ITA }   
		
			add_tech_bonus = {
				name = ITA_Modern_naval_bomber_effort
				bonus = 0.5
				uses = 1
				category = naval_bomber
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = all_air
			}				

			add_ace = {
				type = "support_unique"
				name = "Giulio" #MM: Real name Giulio Cesare Graziani but art won't hook-in with double name :D
				surname = "Graziani"
				callsign = "Torpedo Twin"
			}
			add_ace = {
				type = "support_good"
				name = "Carlo"
				surname = "Faggioni"
				callsign = "Torpedo Twin"
			}
			add_resource = {
				type = chromium
				amount = 5
				state = 158
			}
			add_resource = {
				type = steel
				amount = 5
				state = 158
			}
		}
	}




}