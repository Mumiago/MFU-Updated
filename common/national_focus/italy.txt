### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}
### search_filters = {FOCUS_FILTER_PROPAGANDA}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
### search_filters = {FOCUS_FILTER_ITA_MISSIOLINI}
### search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}
# Reminder that focus filters prio has to be handled in the generic focus file :)



focus_tree = {
	id = italian_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = ITA
		}
	}
	
	default = no

	continuous_focus_position = { x = 3500 y = 1500 }

	initial_show_position = {
		x = 0
		y = 0
	}

	focus = {
		id = ITA_the_new_emperor_of_ethiopia
		icon = GFX_focus_ITA_the_new_emperor_of_ethiopia

		x = 3
		y = 0
		cost = 5
		available = {
		}

		bypass = {
			550 = { NOT = { is_owned_and_controlled_by = ITA } }
		}

		search_filters = {FOCUS_FILTER_STABILITY}

		completion_reward = {
			# The king is an idea
			if = {
				limit = {
					has_idea = vittorio_emanuele
				}
				swap_ideas = {
					remove_idea = vittorio_emanuele
					add_idea = vittorio_emanuele_emperor_of_ethiopia
				}
			}
			else_if = {
				limit = {
					has_idea = vittorio_emanuele_king_of_albania
				}
				swap_ideas = {
					remove_idea = vittorio_emanuele_king_of_albania
					add_idea = vittorio_emanuele_albania_ethiopia
				}
			}
			every_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_core_of = ETH
				}
				add_compliance = 5
			}

			if = { limit = { 550 = { is_owned_and_controlled_by = ITA } }
				550 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				550 = {
					add_building_construction = {
						type = naval_base
						level = 3
						province = 12766
						instant_build = yes
					}
				}
			}

			if = { limit = { 559 = { is_owned_and_controlled_by = ITA } }
				559 = {
						add_building_construction = {
							type = infrastructure
							level = 3
							instant_build = yes
						}
				}
				559 = {
					add_building_construction = {
						type = naval_base
						level = 4
						province = 12941
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_italian_highways_bba
		icon = GFX_focus_generic_truck
		x = 5
		y = 0
		relative_position_id = ITA_the_new_emperor_of_ethiopia
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 2 
						state = 117 
						state = 156			
						state = 157
						state = 158
						state = 159
						state = 160
						state = 161
						state = 162
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 4
			}
			every_owned_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				add_dynamic_modifier = {
					modifier = ITA_italian_highways_modifier
					scope = ITA
					days = 365
				}
			}		
		}
	}

	focus = {
		id = ITA_ministry_of_italian_africa
		icon = GFX_focus_ITA_ministry_of_italian_africa
		prerequisite = { focus = ITA_italian_highways_bba }
		prerequisite = { focus = ITA_the_new_emperor_of_ethiopia }

		x = -5
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			OR = {
				any_owned_state = { is_on_continent = africa }
				any_subject_country = { capital_scope = { is_on_continent = africa } }
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 75
			custom_effect_tooltip = ITA_ministry_of_italian_africa_occupation_law_tt
			show_ideas_tooltip = ITA_fake_colonial_police_law

			unlock_decision_category_tooltip = ITA_colonial_management_dec_cat

			add_resource = {
				type = rubber
				amount = 16
				state = 271
			}

			hidden_effect = {
				country_event = BBA_italy_colonial_management.1
			}
		}
	}

	focus = {
		id = ITA_develop_ethiopia
		icon = GFX_focus_generic_develop_ethiopia
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = -3
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 5
		available = {
			OR = {
				any_controlled_state = {
					is_core_of = ETH
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = ETH
						is_fully_controlled_by = PREV
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
						}
						any_subject_country = { #FOR PUPPETS
							any_controlled_state = {
								is_core_of = ETH
								is_fully_controlled_by = PREV
							}
						}
					}
				}
				custom_effect_tooltip = ITA_develop_ethiopia_tt
			}

			if = {
				limit = {
					271 = { #SHEWA (Addis Ababa)
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				271 = { #SHEWA (Addis Ababa)
					set_state_flag = ITA_improved_infrastructure_in_state_flag
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 835 } #HARARGHE
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						prioritize = { 835 } #HARARGHE
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			if = {
				limit = {
					843 = { #WELLO
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				843 = { #WELLO
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 837 } #SIDAMO
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 837 } #SIDAMO
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			if = {
				limit = {
					842 = { #TIGRAY
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				842 = { #TIGRAY
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 841 } #BEGEMDER
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #BEGEMDER
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			every_controlled_state = {
				limit = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_core_of = ETH
					has_resistance = yes
				}
				add_compliance = 5
			}
		}
	}

	focus = {
		id = ITA_develop_libya
		icon = GFX_focus_generic_develop_libya
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = -1
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 5
		available = {
			OR = {
				any_controlled_state = {
					is_core_of = LBA
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = LBA
						is_fully_controlled_by = PREV
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
						any_subject_country = { #FOR PUPPETS
							any_controlled_state = {
								is_core_of = LBA
								is_fully_controlled_by = PREV
							}
						}
					}
				}
				custom_effect_tooltip = ITA_develop_libya_tt
			}

			if = {
				limit = {
					448 = { #TRIPOLI
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				448 = { #TRIPOLI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #HARARGHE
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			if = {
				limit = {
					450 = { #BENGHALI
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				450 = { #BENGHALI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #HARARGHE
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			if = {
				limit = {
					451 = { #DERNA
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				451 = { #DERNA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #HARARGHE
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
		}
	}

	focus = {
		id = ITA_develop_eritrea
		icon = GFX_focus_generic_develop_eritrea
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = 1
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 5
		available = {
			OR = {
				550 = {	is_fully_controlled_by = ROOT }
				any_subject_country = {
					has_full_control_of_state = 550
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			550 = { #ERITREA
				set_state_flag = ITA_improved_infrastructure_in_state_flag
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = ITA_develop_somaliland
		icon = GFX_focus_generic_develop_somaliland
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = 3
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 5
		available = {
			OR = {
				559 = { is_fully_controlled_by = ROOT }
				any_subject_country = {
					has_full_control_of_state = 559
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			559 = { #SOMALILAND
				set_state_flag = ITA_improved_infrastructure_in_state_flag
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			if = {
				limit = {
					844 = { #JUBALAND
						OR = {
							is_fully_controlled_by = ROOT
							any_other_country = {
								is_subject_of = ROOT
								has_full_control_of_state = 559
							}
						}
					}
				}
				844 = { #JUBALAND
					set_state_flag = ITA_improved_infrastructure_in_state_flag
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
		}
	}

	focus = {
		id = ITA_regional_development
		icon = GFX_goal_generic_construction
		prerequisite = { focus = ITA_develop_eritrea focus = ITA_develop_libya focus = ITA_develop_somaliland focus = ITA_develop_ethiopia }

		x = 1
		y = 1
		relative_position_id = ITA_develop_libya
		cost = 5
		available = {
			OR = {
				any_controlled_state = {
					is_fully_controlled_by = ROOT
					has_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				any_subject_country = {
					any_controlled_state = {
						is_fully_controlled_by = PREV
						has_state_flag = ITA_improved_infrastructure_in_state_flag
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			#Makes previous Colonial Police law hidden (Both old and new version need to cohexist so that the previous can fallback to the next one)
			set_country_flag = ITA_colonial_police_improved_flag

			custom_effect_tooltip = ITA_regional_development_occupation_law_tt

			custom_effect_tooltip = ITA_regional_development_buildings_tt

			#ETHIOPIA
			if = {
				limit = {
					has_completed_focus = ITA_develop_ethiopia
				}
				if = {
					limit = {
						any_controlled_state = {
							is_fully_controlled_by = ROOT
							has_state_flag = ITA_improved_infrastructure_in_state_flag
						}
					}
					random_controlled_state = {
						limit = {
							has_state_flag = ITA_improved_infrastructure_in_state_flag
							is_core_of = ETH
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
						clr_state_flag = ITA_improved_infrastructure_in_state_flag
					}
				}
				else_if = {
					limit = {
						any_subject_country = {
							any_controlled_state = {
								is_fully_controlled_by = PREV
								has_state_flag = ITA_improved_infrastructure_in_state_flag
							}
						}
					}
					random_other_country = {
						limit = {
							is_subject_of = ROOT
							any_controlled_state = {
								is_core_of = ETH
								is_fully_controlled_by = PREV
							}
						}
						random_controlled_state = {
							limit = {
								has_state_flag = ITA_improved_infrastructure_in_state_flag
								is_core_of = ETH
							}
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							add_extra_state_shared_building_slots = 1
							clr_state_flag = ITA_improved_infrastructure_in_state_flag
						}
					}
				}
				random_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
						is_core_of = ETH
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}

			#LIBYA
			if = {
				limit = {
					has_completed_focus = ITA_develop_libya
				}
				random_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
						is_core_of = LBA
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				random_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
						is_core_of = LBA
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
		
			#ERITREA
			if = {
				limit = {
					has_completed_focus = ITA_develop_eritrea
				}
				550 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12766
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			
			#JUBALAND
			if = {
				limit = {
					has_completed_focus = ITA_develop_somaliland
				}
				559 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12991
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				844 = {
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12941
					}
				}
			}

			hidden_effect = {
				every_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				every_subject_country = {
					limit = {
						any_controlled_state = {
							has_state_flag = ITA_improved_infrastructure_in_state_flag
						}
					}
					every_controlled_state = {
						limit = {
							has_state_flag = ITA_improved_infrastructure_in_state_flag
						}
						clr_state_flag = ITA_improved_infrastructure_in_state_flag
					}
				}
			}

			custom_effect_tooltip = ITA_regional_development_decision_unlocked_tt
		}
	}

	focus = {
		id = ITA_litoranea_balbo
		icon = GFX_focus_generic_improve_roads
		prerequisite = { focus = ITA_regional_development }

		x = -3
		y = 1
		relative_position_id = ITA_regional_development
		cost = 5
		available = {
			OR = {
				448 = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				449 = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				450 = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				451 = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = { #TRIPOLI
				limit = {
					448 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				448 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = { #EL AGHELIA
				limit = {
					449 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				449 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = { #BENGHASI
				limit = {
					450 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				450 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = { #DERNA
				limit = {
					451 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				451 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_via_della_vittoria
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = ITA_litoranea_balbo }

		x = 0
		y = 1
		relative_position_id = ITA_litoranea_balbo
		cost = 5
		available = {
			451 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			452 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			451 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						has_resistance = yes
					}
					add_compliance = 5
				}
			}
			452 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						has_resistance = yes
					}
					add_compliance = 5
				}
			}

			# EXTRA STATES 

			custom_effect_tooltip = ITA_via_della_vittoria_extra_states_tt

			#LIBYA
			if = {
				limit = {
					450 = { #BENGHASI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				450 = { #BENGHASI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					449 = { #EL AGHELIA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				449 = { #EL AGHELIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					448 = { #TRIPOLI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				448 = { #TRIPOLI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#TUNISIA
			if = {
				limit = {
					665 = { #GABES
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				665 = { #GABES
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					458 = { #TUNISIA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				458 = { #TUNISIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			#ALGERIA
			if = {
				limit = {
					460 = { #CONSTANTINE
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				460 = { #CONSTANTINE
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					459 = { #ALGIERS
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				459 = { #ALGIERS
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#MOROCCO
			if = {
				limit = {
					461 = { #CASABLANCA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				461 = { #CASABLANCA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					290 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				290 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#EGYPT
			if = {
				limit = {
					447 = { #ALEXANDRIA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				447 = { #ALEXANDRIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					446 = { #CAIRO
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				446 = { #CAIRO
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					453 = { #SINAI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				453 = { #SINAI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
		}
	}

	focus = {
		id = ITA_libyan_railway
		icon = GFX_focus_generic_railroad
		prerequisite = { focus = ITA_litoranea_balbo }
		prerequisite = { focus = ITA_prospect_for_oil }
		x = 1
		y = 2
		relative_position_id = ITA_litoranea_balbo
		cost = 5
		available = {
			448 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			449 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			450 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			451 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			# Tripoli - Tobruk
			build_railway = {
				path = { 1149 4194 7209 9980 1118 1041 4047 10046 10117 12088 4057 1198 1127 4120 11954 10123 12094 4151 1204 7082 9992 1130 }
			}

			custom_effect_tooltip = ITA_libyan_railway_state_modifier_tt
			every_state = {
				limit = {
					OR = {
						#LIBYA
						state = 448 #TRIPOLI
						state = 449 #EL AGHELIA
						state = 450 #BENGHASI
						state = 451 #DERNA
						#TUNISIA
						state = 665 #GABES
						state = 458 #TUNISIA
						#ALGERIA
						state = 460 #CONSTANTINE
						state = 459 #ALGIERS
						#EGYPT
						state = 452 #MATROUH
						state = 447 #ALEXANDRIA
						state = 446 #CAIRO
					}
					state_is_fully_controlled_by_ROOT_or_subject = yes
				}
				add_dynamic_modifier = { modifier = ITA_libyan_railway_modifier days = 730 scope = ITA }
			}
		}
	}

	focus = {
		id = ITA_prospect_for_oil
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = ITA_regional_development }

		x = -1
		y = 1
		relative_position_id = ITA_regional_development
		cost = 5

		bypass = {
			662 = {
				has_state_flag = sirte_oil_developed
			}
		}

		available = {
			662 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_resource = {
				type = oil
				amount = 8
				state = 662
			}	

			662 = {
				ITA_check_for_cooperatives_and_add_dm = yes #If appropriate, apply dm from Cooperatives for Intensive Exploitation 
				set_state_flag = sirte_oil_developed
			}
			if = {
				limit = {
					449 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				449 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_libyan_refineries
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = ITA_prospect_for_oil }

		x = 0
		y = 1
		relative_position_id = ITA_prospect_for_oil
		cost = 5

		available = {
			450 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
				NOT = {
					has_state_flag = benghazi_oil_developed
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_resource = {
				type = oil
				amount = 4
				state = 450
			}
			450 = {
				ITA_check_for_cooperatives_and_add_dm = yes #If appropriate, apply dm from Cooperatives for Intensive Exploitation 
				set_state_flag = benghazi_oil_developed
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}	
		
		}
	}

	focus = {
		id = ITA_polizia_dell_africa_italiana
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = ITA_regional_development }
		mutually_exclusive = { focus = ITA_strengthen_ascari_corps }
		x = 1
		y = 1
		relative_position_id = ITA_regional_development
		cost = 5
		available = {
			any_controlled_state = {
				is_on_continent = africa
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			custom_effect_tooltip = ITA_polizia_dell_africa_italiana_occupation_law_tt

			set_country_flag = ITA_colonial_police_final_flag
		}
	}

	focus = {
		id = ITA_strengthen_ascari_corps
		icon = GFX_focus_ITA_strengthen_ascari_corps
		prerequisite = { focus = ITA_regional_development }
		mutually_exclusive = { focus = ITA_polizia_dell_africa_italiana }
		x = 3
		y = 1
		relative_position_id = ITA_regional_development
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
		}
	}

	focus = {
		id = ITA_comandante_diavolo
		icon = GFX_focus_ITA_comandante_diavolo
		prerequisite = { focus = ITA_polizia_dell_africa_italiana focus = ITA_strengthen_ascari_corps }

		x = 1
		y = 1
		relative_position_id = ITA_polizia_dell_africa_italiana
		cost = 5
		available = {
			any_state = {
				OR = {
					is_core_of = LBA
					is_core_of = ERI
					is_core_of = SOM
					is_core_of = ETH
				}
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_ideas = ITA_hardened_irregular_bands

			custom_effect_tooltip = ITA_comandante_diavolo_create_units_tt

			show_unit_leaders_tooltip = ITA_amedeo_guillet
		}
	}

	focus = {
		id = ITA_expand_the_triangle
		icon = GFX_focus_generic_steel
		prerequisite = { focus = ITA_italian_highways_bba }
		mutually_exclusive = { focus = ITA_electricfy_the_triangle }
		x = -1
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 158
						state = 159
						state = 160
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 1
				uses = 1
				technology = construction3
			}
		}
	}

	focus = {
		id = ITA_electricfy_the_triangle
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = ITA_italian_highways_bba }
		mutually_exclusive = { focus = ITA_expand_the_triangle }
		x = 1
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			has_full_control_of_state = 2
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			every_state = {
				limit = {
					OR = {
						state = 158
						state = 159
						state = 160
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 1
				uses = 1
				technology = construction3
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 0.5
				uses = 1
				technology = construction4
			}

		}
	}

	focus = {
		id = ITA_industria_della_gomma_sintetica
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = ITA_expand_the_triangle focus = ITA_electricfy_the_triangle }

		x = 1
		y = 1
		relative_position_id = ITA_expand_the_triangle
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = "Add 5 resource gain efficiency somewhere"

			add_research_slot = 1 

			add_tech_bonus = {
				name = ITA_industria_della_gomma_sintetica
				bonus = 0.5
				uses = 2
				category = synth_resources
			}

			if = {
				limit = {
					2 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = synthetic_refinery
							size > 0
							include_locked = yes
						}
					}
				}
				2 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = synthetic_refinery
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 849 117 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_strengthen_northern_industry
		icon = GFX_focus_ITA_northern_industry
		prerequisite = { focus = ITA_industria_della_gomma_sintetica }
		mutually_exclusive = { focus = ITA_modernize_the_mezzogiorno }
		x = -1
		y = 1
		relative_position_id = ITA_industria_della_gomma_sintetica
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 158
					158 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				158 = { #PIEDMONT (Torino, Genoa)
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 736 852 } #LITORALE as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 159
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano, Brescia)
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 850 30 } #TRENTINO as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 161
					161 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				161 = { #EMILIA ROMAGNA (Bologna)
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 30 850 } #ALTO ADIGE as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 160
					160 = {
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				160 = { #VENETO (Venice )
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 852 736 } #ISTRIA as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_modernize_the_mezzogiorno
		icon = GFX_focus_ITA_southern_industry
		prerequisite = { focus = ITA_industria_della_gomma_sintetica }
		mutually_exclusive = { focus = ITA_strengthen_northern_industry }
		x = 1
		y = 1
		relative_position_id = ITA_industria_della_gomma_sintetica
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 117
					117 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				117 = { #CAMPAGNA (Napoli)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 819					
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 156 2 162 } #CALABRIA as main fallback
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 849
				}
				849 = { #PUGLIA (Taranto, Bari, Foggia)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 9784					
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 115
				}

				115 = { #SICILY (Palermo, Messina, Catania)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 4159					
					}
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 7059					
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 114
				}
				114 = { #SARDINIA (Cagliari)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
						add_building_construction = {
							type = naval_base
							level = 2
							instant_build = yes
							province = 11773					
						}
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 162 #TOSCANA
				}
				162 = {
					add_resource = {
						type = steel
						amount = 12
					}
				}
			}
		}
	}

	focus = {
		id = ITA_new_industrialization_program
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = ITA_strengthen_northern_industry focus = ITA_modernize_the_mezzogiorno }

		x = 1
		y = 2
		relative_position_id = ITA_strengthen_northern_industry
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
		}
	}

	focus = {
		id = ITA_railway_innovations
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = ITA_italian_highways_bba }

		x = 3
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			controls_state = 2
			controls_state = 161
			controls_state = 162
			controls_state = 117
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_railway_innovations
				ahead_reduction = 1.5
				bonus = 0.5
				uses = 1
				category = train_tech
			}

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			#Roma - La Spezia
			build_railway = {
				path = { 9904 11751 6862 6875 11833 6946 6973 }
			}

			#Roma - Bologna
			build_railway = {
				path = { 11751 6862 9750 9879 9907 1616 6985 6606 }
			}

			#Roma - Napoli
			build_railway = {
				path = { 9904 11846 923 9826 819 }
			}
		}
	}

	focus = {
		id = ITA_expand_foggia_farm_fields
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = ITA_railway_innovations }

		x = -1
		y = 1
		relative_position_id = ITA_railway_innovations
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = ITA_foggia_farm_fields days = 730 }
		}
	}

	focus = {
		id = ITA_investments_in_edison
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = ITA_railway_innovations }

		x = 0
		y = 2
		relative_position_id = ITA_railway_innovations
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_iri_consumer_goods_factor = -0.05 }
			custom_effect_tooltip = ITA_investments_in_edison_ricostruzione_industriale_tt

			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 161 850 } #EMILIA ROMAGNA as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_fiocchi_munizioni
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = ITA_italian_highways_bba }

		x = 5
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 736 852 } #LITORALE as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_brescia_small_arms_industry
		icon = GFX_focus_focus_fra_maquis
		prerequisite = { focus = ITA_fiocchi_munizioni }

		x = -1
		y = 1
		relative_position_id = ITA_fiocchi_munizioni
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 160 852 736 } #VENETO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_brescia_small_arms_industry
				bonus = 0.75
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = ITA_milan_comms_industry
		icon = GFX_goal_generic_radar
		prerequisite = { focus = ITA_fiocchi_munizioni }

		x = 1
		y = 1
		relative_position_id = ITA_fiocchi_munizioni
		cost = 5
		available = {
			has_tech = radio_detection
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {

			159 = { #LOMBARDY (Milano)
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1 
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			2 = { #LATIUM (Rome)
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1 
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			115 = { #SICILY
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1 
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			add_tech_bonus = {
				name = ITA_milan_comms_industry
				bonus = 1
				uses = 1
				category = radar_tech
			}
			add_tech_bonus = {
				name = ITA_milan_comms_industry
				bonus = 1
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = ITA_redirect_alfa_romeo_production
		icon = GFX_focus_ITA_redirect_alfa_romeo_production
		prerequisite = { focus = ITA_brescia_small_arms_industry focus = ITA_milan_comms_industry }

		x = 1
		y = 1
		relative_position_id = ITA_brescia_small_arms_industry
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 158 160 852 736 39 } #PIEMONTE as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_redirect_alfa_romeo_production
				bonus = 0.50
				uses = 2
				category = motorized_equipment
				category = light_air
			}
		}
	}

	focus = {
		id = ITA_end_fiat_ansaldo_duopoly
		icon = GFX_focus_ITA_fiat_ansaldo_duopoly
		prerequisite = { focus = ITA_redirect_alfa_romeo_production }
		mutually_exclusive = { focus = ITA_modernize_ansaldo_facilities }
		x = -1
		y = 1
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_production_lack_of_resource_penalty_factor = -0.1 }
			custom_effect_tooltip = ITA_end_fiat_ansaldo_duopoly_military_industry_tt

			hidden_effect = {
				remove_ideas = ITA_hidden_research_penalties_ns
			}

			add_to_variable = { ITA_iri_consumer_goods_factor = 0.01 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt

		}
	}

	focus = {
		id = ITA_modernize_ansaldo_facilities
		icon = GFX_focus_ITA_modernize_ansaldo_facilities
		prerequisite = { focus = ITA_redirect_alfa_romeo_production }
		mutually_exclusive = { focus = ITA_end_fiat_ansaldo_duopoly }
		x = 1
		y = 1
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_equipment_upgrade_xp_cost = -0.15 }
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_factory = 0.05 }
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_dockyard = 0.05 }
			custom_effect_tooltip = ITA_modernize_ansaldo_facilities_military_industry_tt

			add_to_variable = { ITA_iri_consumer_goods_factor = 0.01 }
			custom_effect_tooltip = ITA_ricostruzione_industriale_cg_penalty_tt

			if = {
				limit = {
					has_full_control_of_state = 158
					158 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				158 = { #PIEDMONT (Genova)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 162 161 157 } #TOSCANA as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

########  ########  ######   ####  #######     ########  ######  ######## ########   ######  #### ########  #######  
##     ## ##       ##    ##   ##  ##     ##    ##       ##    ## ##       ##     ## ##    ##  ##     ##    ##     ## 
##     ## ##       ##         ##  ##     ##    ##       ##       ##       ##     ## ##        ##     ##    ##     ## 
########  ######   ##   ####  ##  ##     ##    ######    ######  ######   ########  ##        ##     ##    ##     ## 
##   ##   ##       ##    ##   ##  ##     ##    ##             ## ##       ##   ##   ##        ##     ##    ##     ## 
##    ##  ##       ##    ##   ##  ##     ##    ##       ##    ## ##       ##    ##  ##    ##  ##     ##    ##     ## 
##     ## ########  ######   ####  #######     ########  ######  ######## ##     ##  ######  ####    ##     #######  


	focus = {
		id = ITA_army_primacy_bba
		icon = GFX_focus_ITA_bersaglieri

		x = 13
		y = 0
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_tech_bonus = {
				name = infantry_bonus 
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
			random_owned_controlled_state = {
				prioritize = { 161 }
				add_extra_state_shared_building_slots = 4 
				add_building_construction = {
					type = arms_factory
					level = 4 
					instant_build = yes
				}
			}
			add_doctrine_cost_reduction = {
				name = ITA_army_primacy_bba #land_doc_bonus
				cost_reduction = 0.3
				uses = 1
				category = land_doctrine
			}
			set_technology = { bicycle_infantry = 1 }
		}
	}

	focus = {
		id = ITA_preserve_army_traditions
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = ITA_army_primacy_bba }
		x = -3
		y = 1
		relative_position_id = ITA_army_primacy_bba
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = rodolfo_graziani
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.3
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = ITA_increase_artillery_production
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = ITA_fiocchi_munizioni }
		prerequisite = { focus = ITA_army_primacy_bba }

		x = 3
		y = 1
		relative_position_id = ITA_fiocchi_munizioni
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_increase_artillery_production
				bonus = 0.75
				uses = 2
				category = artillery
			}
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_vallo_alpino_del_littorio
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = ITA_milan_comms_industry }
		prerequisite = { focus = ITA_increase_artillery_production }

		x = 1
		y = 1
		relative_position_id = ITA_milan_comms_industry
		cost = 5
		
		available = {
			OR = {
				has_full_control_of_state = 158 #PIEDMONT
				has_full_control_of_state = 159 #LOMBARDY
				has_full_control_of_state = 850 #TRENTINO
				has_full_control_of_state = 39 #ALTO ADIGE
				has_full_control_of_state = 160 #VENETO
				has_full_control_of_state = 736 #LITORALE
				has_full_control_of_state = 852 #FIUME
			}
		}

		search_filters = {}

		completion_reward = {

			### VALLO ALPINO OCCIDENTALE ###
			if = { #PIEDMONT
				limit = {
					158 = { is_fully_controlled_by = ROOT }
				}
				158 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6780
						}
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6635
						}
						instant_build = yes
					}
				}
			}

			### VALLO ALPINO SETTENTRIONALE ###
			if = { #LOMBARDY
				limit = {
					159 = { is_fully_controlled_by = ROOT }
				}
				159 = {
					add_building_construction = { #Two separate effects for stupid tt reasons :)
						type = bunker
						level = 2
						province = {
							id = 9584
						}
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6661
						}
						instant_build = yes
					}
				}
			}
			if = { #ALTO ADIGE
				limit = {
					39 = { is_fully_controlled_by = ROOT }
				}
				39 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11615
						}
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11598
						}
						instant_build = yes
					}
				}
			}
			if = { #TRENTINO
				limit = {
					850 = { is_fully_controlled_by = ROOT }
				}
				850 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 9598
						}
						instant_build = yes
					}
				}
			}
			if = { #VENETO
				limit = {
					160 = { is_fully_controlled_by = ROOT }
				}
				160 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 3657
						}
						instant_build = yes
					}
				}
			}

			### VALLO ALPINO ORIENTALE ###
			if = { #LITORALE
				limit = {
					736 = { is_fully_controlled_by = ROOT }
				}
				736 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11595
						}
						instant_build = yes
					}
				}
			}
			if = { #ISTRIA
				limit = {
					852 = { is_fully_controlled_by = ROOT }
				}
				852 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11564
						}
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = ITA_vallo_alpino_del_littorio_tt
		}
	}

	focus = {
		id = ITA_AVANTI
		icon = GFX_focus_ITA_moschettieri_del_duce
		prerequisite = { focus = ITA_preserve_army_traditions }

		x = 0
		y = 2
		relative_position_id = ITA_preserve_army_traditions
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = avanti_tt
		}
	}


	focus = {
		id = ITA_a_bandits_war
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = ITA_army_primacy_bba }
		x = 3
		y = 1
		relative_position_id = ITA_army_primacy_bba
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = giovanni_messe_2
		
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 1
				category = cat_heavy_armor
				category = cat_medium_armor
				category = cat_light_armor
			}
		}
	}

	focus = {
		id = ITA_le_ruote_della_guerra
		icon = GFX_focus_ITA_cavalry_charge
		prerequisite = { focus = ITA_a_bandits_war }

		x = 0
		y = 2
		relative_position_id = ITA_a_bandits_war
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_ideas = ITA_tank_and_mot_production

			army_experience = 25
		}
	}

	focus = {
		id = ITA_army_leaders
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = ITA_preserve_army_traditions focus = ITA_a_bandits_war }

		x = 1
		y = 1
		relative_position_id = ITA_preserve_army_traditions
		cost = 5
		available = {
			NOT = { has_global_flag = second_italo_ethiopian_war_flag }
			#NTH_Manu: Should probably also require a completed focus in any of the ME political paths, so that it can unlock appropriate generals
		}

		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = vittorio_ambrosio
			every_army_leader = {
				add_attack = 1
			}
		}
	}

	focus = {
		id = ITA_superesercito
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = ITA_preserve_army_traditions focus = ITA_a_bandits_war }

		x = 3
		y = 1
		relative_position_id = ITA_preserve_army_traditions
		cost = 5
		available = {
			has_army_experience > 99
		}

		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = ITA_a_bandits_war
				}
				remove_ideas = italian_leadership 
				army_experience = -100
			}

			#Update NS icon
			ITA_improve_regio_esercito_dm_effect = yes
		}
	}

	focus = {
		id = ITA_the_sword_of_fascism
		icon = GFX_focus_generic_tankette
		prerequisite = { focus = ITA_a_bandits_war }

		x = 5
		y = 1
		relative_position_id = ITA_preserve_army_traditions
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = giovanni_messe_hc
			add_tech_bonus = {
				name = arty_radio_bonus
				bonus = 3
				uses = 1
				technology = tank_radio
			}
			every_army_leader = {
				add_logistics = 1
			}			
		}
	}

	focus = {
		id = ITA_divisioni_alpine
		icon = GFX_focus_ITA_alpine_division
		prerequisite = { focus = ITA_army_leaders }
		prerequisite = { focus = ITA_superesercito }
		x = 1
		y = 1
		relative_position_id = ITA_army_leaders
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_to_variable = { ITA_re_special_forces_cap = 0.02 }
			custom_effect_tooltip = ITA_divisioni_alpine_re_tt

			army_experience = 15

			add_tech_bonus = {
				name = ITA_divisioni_alpine
				bonus = 1.5
				uses = 1
				category = mountaineers_tech
			}
			add_tech_bonus = {
				name = support_companies
				Bonus = 0.5
				uses = 2
				category = support_tech
			}
		}
	}

	focus = {
		id = ITA_fanti_dell_aria
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = ITA_divisioni_alpine }

		x = 0
		y = 1
		relative_position_id = ITA_divisioni_alpine
		cost = 2
		available = {
			has_tech = paratroopers
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MANPOWER}

		completion_reward = {
			custom_effect_tooltip = ITA_paratroopers_tt
			hidden_effect = {
				load_oob = ITA_paratroopers_divs
			}
			add_tech_bonus = {
				name = ITA_fanti_dell_aria
				bonus = 1.5
				uses = 1
				category = para_tech
			}
		}
	}

	focus = {
		id = ITA_self_propelled_guns
		icon = GFX_focus_generic_self_propelled_gun
		prerequisite = { focus = ITA_superesercito }
		prerequisite = { focus = ITA_the_sword_of_fascism }

		x = 1
		y = 1
		relative_position_id = ITA_superesercito
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			custom_effect_tooltip = ITA_self_propelled_guns_military_industry_tt
			hidden_effect = {
				add_ideas = ITA_hidden_spg_production_ns
			}

			add_tech_bonus = {
				name = ITA_self_propelled_guns
				bonus = 1
				uses = 2
				category = artillery
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_ferrea_mole_ferreo_cuore
		icon = GFX_focus_ITA_ferrea_mole_ferreo_cuore
		prerequisite = {
			focus = ITA_self_propelled_guns
		}

		x = 0
		y = 1
		relative_position_id = ITA_self_propelled_guns
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			custom_effect_tooltip = ITA_ferrea_mole_ferreo_cuore_military_industry_tt
			hidden_effect = {
				add_ideas = ITA_hidden_ferrea_mole_ns
			}

			army_experience = 50

			add_tech_bonus = {
				name = ITA_ferrea_mole_ferreo_cuore
				bonus = 1
				uses = 2
				category = armor
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_6_Million_Bayonets
		icon = GFX_ITA_Ultranationalism_2
		prerequisite = { focus = ITA_superesercito }
		x = 0
		y = 3
		relative_position_id = ITA_superesercito
		cost = 5
		ai_will_do = {
			factor = 10
		}
		
		available = {
				  
		}

		available_if_capitulated = yes
		
		continue_if_invalid = yes

		completion_reward = {
			add_ideas = eight_million_idea
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 8000 producer = ITA } 
		}
	}

	##################################################
	################AIR BRANCH########################
	##################################################

	focus = {
		id = ITA_air_innovations_bba
		icon = GFX_goal_expand_the_luftwaffe

		x = 7
		y = 0
		relative_position_id = ITA_army_primacy_bba
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_experience_gain_air = 0.05 }
			add_to_variable = { ITA_ra_experience_gain_air_factor = 0.1 }
			add_to_variable = { ITA_ra_air_mission_xp_gain_factor = 0.1 }
			add_to_variable = { ITA_ra_air_training_xp_gain_factor = 0.2 }
			add_to_variable = { ITA_ra_army_bonus_air_superiority_factor = 0.10 }
			add_to_variable = { ITA_ra_air_superiority_efficiency = 0.05 }
			add_to_variable = { ITA_ra_air_ace_generation_chance_factor = 0.25 }
			add_to_variable = { ITA_ra_air_cas_present_factor = 0.1	}	

			custom_effect_tooltip = ITA_OAK_air_innovation_tt	
			
			air_experience = 100

			every_state = {
				limit = {
					OR = {
						state = 156
						state = 157
					}
				}		
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 3
					instant_build = yes
				}

			}
		}
	}

	focus = {
		id = ITA_citta_dell_aria
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = ITA_air_innovations_bba }

		x = 0
		y = 1
		relative_position_id = ITA_air_innovations_bba
		cost = 5
		available = {
			has_full_control_of_state = 2
		}
		
		bypass = {
			ITA = {
				OR = {
					 has_tech = fighter_1938 
					 has_tech = heavy_fighter_1938
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = air_fighter
				bonus = 1
				uses = 1
				technology = fighter_1938
			}
			add_tech_bonus = {
				name = air_fighter
				bonus = 1
				uses = 1
				technology = heavy_fighter_1938
			}
			add_tech_bonus = {
				name = air_upgrade
				bonus = 1
				uses = 3
				category = air_upgrade
			}
		}
	}

	focus = {
		id = ITA_expand_rome_flying_school
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = ITA_air_innovations_bba }

		x = 4
		y = 1
		relative_position_id = ITA_air_innovations_bba
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_ace_generation_chance_factor = 0.05 }
			add_to_variable = { ITA_ra_air_night_penalty = -0.1 }
			add_to_variable = { ITA_ra_air_weather_penalty = -0.1 }
			add_to_variable = { ITA_ra_air_training_xp_gain_factor = 0.05 }
			
			custom_effect_tooltip = ITA_OAK_officers_of_the_service_role_ra_tt

			add_tech_bonus = {
				uses = 2
				bonus = 0.5 
				name = ITA_expand_rome_flying_school
				category = air_doctrine
			}

			if = {
				limit = {
					OR = {
						NOT = {
							has_idea = independent_air_force_spirit
						}
						NOT = {
							has_idea = industrial_destruction_spirit
						}
						NOT = {
							has_idea = dive_bombing_spirit 
						}
						NOT = {
							has_idea = material_destruction_spirit
						}
						NOT = {
							has_idea = industry_liasons_spirit
						}
						NOT = {
							has_idea = branch_independence_spirit 
						}
						NOT = {
							has_idea = air_crew_surveys_spirit 
						}
					}
				}
				add_ideas = effective_training_programs_spirit 

			}
			else_if = {
				limit = {
					OR = {
						has_idea = independent_air_force_spirit
						has_idea = industrial_destruction_spirit
						has_idea = dive_bombing_spirit 
						has_idea = material_destruction_spirit
						has_idea = industry_liasons_spirit
						has_idea = branch_independence_spirit 
						has_idea = air_crew_surveys_spirit 
					}
				}
				air_experience = 50 
			}

			every_state = {
				limit = {
					OR = {
						state = 162
						state = 157
						state = 2
					}
				}
				add_building_construction = {
					type = air_base 
					level = 2 
					instant_build = yes 
				}
				add_building_construction = {
					type = anti_air_building 
					level = 2 
					instant_build = yes 
				}
			}
		}
	}

	focus = {
		id = ITA_diving_bombers
		icon = GFX_goal_poland_goal
		prerequisite = { focus = ITA_citta_dell_aria }
		prerequisite = { focus = ITA_expand_rome_flying_school }

		x = -3
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {

			custom_effect_tooltip = ITA_diving_bombers_dynamic_modifier_add_tt

			hidden_effect = {
				add_ideas = german_dive_bombing
			}
			if = {
				limit = { 
					GER = { 
						has_tech = ger_CAS_1935
						NOT = { has_tech = ger_CAS_1937	}
					}
				}
				add_equipment_to_stockpile = { type = CAS_equipment_1935 amount = 170 producer = GER }   
			}
			if = {
				limit = { 
					GER = { 
						has_tech = ger_CAS_1937
						NOT = { has_tech = ger_CAS_1939	}
					}
				}
				add_equipment_to_stockpile = { type = CAS_equipment_1937 amount = 170 producer = GER }   
			}
			if = {
				limit = { 
					GER = { 
						has_tech = ger_CAS_1939
					}
				}	
				add_equipment_to_stockpile = { type = CAS_equipment_1939 amount = 170 producer = GER }   
			}		
		}
	}

	focus = {
		id = ITA_officers_of_the_service_role
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = ITA_cita_dell_aria }
		prerequisite = { focus = ITA_expand_rome_flying_school }

		x = 3
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_night_penalty = -0.05 }
			add_to_variable = { ITA_ra_air_weather_penalty = -0.05 }
			add_to_variable = { ITA_ra_air_accidents_factor = -0.1 }
			custom_effect_tooltip = ITA_OAK_officers_of_the_service_role_ra_tt

			air_experience = 25

			add_ace = {
				type = "fighter_good"
				name = "Adriano"
				surname = "Visconti"
				callsign = "Tigre" #Totally made up
			}
			add_ace = { #Ace is a fighter pilot really
				type = "bomber_unique"
				name = "Vittorio"
				surname = "Sanseverino"
				callsign = "Postino" #Totally made up
			}

			custom_effect_tooltip = ITA_reduced_chance_of_air_accidents_tt
		}
	}

	focus = {
		id = ITA_standardization
		icon = GFX_goal_generic_production2
		prerequisite = { focus = ITA_citta_dell_aria }
		mutually_exclusive = { focus = ITA_specialization }
		x = -1
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

		completion_reward = {
		}
	}

	focus = {
		id = ITA_specialization
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = ITA_citta_dell_aria }
		mutually_exclusive = { focus = ITA_standardization }
		x = 1
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
		}
	}

	focus = {
		id = ITA_long_range_aircraft
		icon = GFX_focus_generic_long_range_aircraft
		prerequisite = { focus = ITA_standardization }

		x = -2
		y = 2
		relative_position_id = ITA_citta_dell_aria
		
		cost = 5

		available = {
			country_exists = EFR 
			OR = {
				has_tech = fighter_1940
				has_tech = heavy_fighter_1940
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = { 
				limit = {
					NOT = {
						has_tech = fighter_1940
					}
				}
				custom_effect_tooltip = ITA_fighter_get 
			}
			if = { 
				limit = {
					NOT = {
						has_tech = heavy_fighter_1940
					}
				}
				custom_effect_tooltip = ITA_heavy_fighter_get 
			}
			if = { 
				limit = {
					has_tech = fighter_1940
				}
				add_equipment_to_stockpile = { type = small_plane_airframe  amount = 300 producer = ITA }
			}
			if = { 
				limit = {
					has_tech = heavy_fighter_1940
					
				}
				add_equipment_to_stockpile = { type = medium_plane_fighter_airframe  amount = 200 producer = ITA }
			}

			add_ideas = ITA_fighter_production
			add_tech_bonus = {
				name = air_CAS
				bonus = 0.5
				uses = 2
					category = cas_bomber
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			air_experience = 25	
		}
	}

	focus = {
		id = ITA_bomber_designs
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = ITA_standardization focus = ITA_specialization }

		x = 0
		y = 2
		relative_position_id = ITA_citta_dell_aria
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 25
			if = {
				limit = {
					NOT = {
						has_tech = strategic_bomber_1939
					}
				}
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					uses = 1
					technology = strategic_bomber_1939
				}
			}
			else_if = {
				limit = {
					has_tech = strategic_bomber_1939
				}
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					uses = 1
					technology = strategic_bomber_1941
				}
			}
			if = {
				limit = {
					NOT = {
						has_tech = tactical_bomber_1939
					}
				}
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					uses = 1
					technology = tactical_bomber_1939
				}
			}
			else_if = {
				limit = {
					has_tech = tactical_bomber_1939
				}
				add_tech_bonus = {
					name = bomber_bonus
					bonus = 1
					uses = 1
					technology = tactical_bomber_1941
				}
			}
		}
	}

	focus = {
		id = ITA_fighter_designs
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = ITA_standardization focus = ITA_specialization }

		x = 2
		y = 2
		relative_position_id = ITA_citta_dell_aria
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		bypass = {
			ITA = {
				OR = {
					 has_tech = fighter_1940
					 has_tech = heavy_fighter_1940
				}
			}
		}

		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = air_fighter
				bonus = 1
				uses = 1
				technology = fighter_1940
			}
			add_tech_bonus = {
				name = air_fighter
				bonus = 1
				uses = 1
				technology = heavy_fighter_1940
			}
		}
	}

	focus = {
		id = ITA_supremacy_in_the_skies
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = ITA_multirole_aircraft focus = ITA_long_range_aircraft focus = ITA_fighter_designs focus = ITA_bomber_designs }

		x = 0
		y = 1
		relative_position_id = ITA_bomber_designs
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_tech_bonus = {
				name = air_fighter
				bonus = 1
				uses = 1
				technology = fighter_1942
			}
			add_tech_bonus = {
				name = air_fighter
				bonus = 1
				uses = 1
				technology = heavy_fighter_1942
			}
		}
	}

	focus = {
		id = ITA_bend_the_bars
		icon = GFX_focus_ITA_bend_the_bars
		x = 11
		y = 0
		relative_position_id = ITA_air_innovations_bba
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 25

			every_state = {
				limit = {
					OR = {
						is_state = 162
						is_state = 736
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			hidden_effect = {

			}

			114 = { #SARDINIA (Cagliari, La Maddalena)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 6891 #La Maddalena
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11773 #Cagliari
				}
			}

			117 = { #CAMPAGNA (Napoli)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 819 #Napoli
				}
			}

			849 = { #PUGLIA (Brindisi)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11998
				}
			}

			852 = { #ISTRIA (Fiume)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11564
				}
			}

			navy_experience = 100
			unlock_decision_tooltip = { decision = ITA_dockyard_speed_bonus show_effect_tooltip = no }
			unlock_decision_tooltip = { decision = ITA_dockyard_early show_effect_tooltip = no }
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = ITA_intensify_torpedo_manufacturing
		icon = GFX_focus_generic_torpedo_production
		prerequisite = { focus = ITA_bend_the_bars }
		mutually_exclusive = {
			focus = ITA_oto_naval_guns
		}

		x = 4
		y = 1
		relative_position_id = ITA_bend_the_bars
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_convoy_raiding_efficiency_factor = 0.05 }
			add_to_variable = { ITA_rm_naval_strike_attack_factor = 0.05 }
			add_to_variable = { ITA_rm_navy_submarine_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_intensify_torpedo_manufacturing_rm_tt

			add_tech_bonus = {
				name = ITA_intensify_torpedo_manufacturing
				bonus = 1.0
				uses = 2
				category = cat_torpedoes
			}
		}
	}

	focus = {
		id = ITA_oto_naval_guns
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = ITA_bend_the_bars }
		mutually_exclusive = {
			focus = ITA_intensify_torpedo_manufacturing
		}

		x = 2
		y = 1
		relative_position_id = ITA_bend_the_bars
		cost = 5
		available = {
			has_full_control_of_state = 162
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_navy_capital_ship_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_oto_naval_guns_rm_tt

			if = {
				limit = {
					162 = {
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				162 = { #TUSCANY (La Spezia)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 161 160 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_oto_naval_guns
				bonus = 1.0
				uses = 2
				category = cat_ship_medium_battery
				category = cat_ship_heavy_battery
			}
		}
	}

	focus = {
		id = ITA_milizia_marittima_di_artiglieria
		icon = GFX_focus_ITA_milizia_marittima_di_artiglieria
		prerequisite = { focus = ITA_bend_the_bars }

		x = -4
		y = 1
		relative_position_id = ITA_bend_the_bars
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_milizia_marittima_di_artiglieria
				bonus = 1.0
				uses = 1
				category = artillery
			}

			custom_effect_tooltip = ITA_milizia_marittima_di_artiglieria_coastal_forts_tt
			every_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					naval_base > 0
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_supermarina
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = ITA_bend_the_bars }

		x = 0
		y = 1
		relative_position_id = ITA_bend_the_bars
		cost = 5
		available = {
			any_enemy_country = {
				is_major_not_original_tag_root = yes
			}
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 25
			add_timed_idea = {
				idea = ITA_fleet_modernization
				days = 365
			}
			add_tech_bonus = {
				bonus = 0.8
				uses = 2
				category = naval_equipment
			}
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1.0
				uses = 1
				category = dd_tech
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ITA
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			#Update NS icon
			ITA_improve_regia_marina_dm_effect = yes
		}
	}

	focus = {
		id = ITA_stockpile_fuel
		icon = GFX_focus_generic_stockpile_fuel
		prerequisite = { focus = ITA_bend_the_bars }

		x = -2
		y = 1
		relative_position_id = ITA_bend_the_bars
		cost = 5
		available = {
			is_at_peace_exiled_countries_excluded = yes
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = ITA_stockpiling_fuel days = 730 }

			if = {
				limit = {
					849 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
				}
				849 = { #PUGLIA (Taranto)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 852 736 } #ISTRIA as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					117 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
				}
				117 = { #Campagna (Napoli)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 162 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					115 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
				}
				115 = { #SICILY (Palermo)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 156 114 } #CALABRIA as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_naval_air_coordination
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = ITA_supermarina }
		prerequisite = { focus = ITA_expand_rome_flying_school }

		x = -6
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_naval_coordination = 0.05 }
			add_to_variable = { ITA_rm_spotting_chance = 0.1 }
			add_to_variable = { ITA_rm_naval_strike_agility_factor = 0.05 }
			custom_effect_tooltip = ITA_OAK_naval_air_coordination_rm_tt

			air_experience = 50
			if = {
				limit = {
					NOT = {
						has_tech = naval_bomber_1938
					}
				}
				set_technology = { naval_bomber_1938 = 1}
			}
			else = {
				limit = {
					has_tech = naval_bomber_1938
				}
				add_tech_bonus = {
					name = ITA_Modern_naval_bomber_effort
					bonus = 1
					uses = 1
					category = naval_bomber
				}
			}
			add_equipment_to_stockpile = { type = nav_bomber_equipment_1938 amount = 100 producer = ITA }   
		
			add_tech_bonus = {
				name = ITA_Modern_naval_bomber_effort
				bonus = 1
				uses = 1
				category = naval_bomber
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = all_air
			}				

			add_ace = {
				type = "support_unique"
				name = "Giulio" #MM: Real name Giulio Cesare Graziani but art won't hook-in with double name :D
				surname = "Graziani"
				callsign = "Torpedo Twin"
			}
			add_ace = {
				type = "support_good"
				name = "Carlo"
				surname = "Faggioni"
				callsign = "Torpedo Twin"
			}
		}
	}

	focus = {
		id = ITA_decima_flottiglia_mas
		icon = GFX_focus_ITA_decima_flottiglia_mas
		prerequisite = { focus = ITA_supermarina }

		x = -4
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			
			#MERGE THESE XEN#

			add_ideas = X_Flottiglia_MAS

			add_to_variable = { ITA_rm_convoy_raiding_efficiency_factor = 0.02 }
			add_to_variable = { ITA_rm_naval_critical_score_chance_factor = 0.02 }
			add_to_variable = { ITA_rm_sub_retreat_speed = 0.05 }

			custom_effect_tooltip = ITA_decima_flottiglia_mas_rm_tt

			add_to_variable = { ITA_rm_special_forces_cap = 0.02 }
			add_to_variable = { ITA_rm_amphibious_invasion = 0.05 }
			add_to_variable = { ITA_rm_naval_invasion_capacity = 10 }
			add_to_variable = { ITA_rm_invasion_preparation = -0.1 }
			custom_effect_tooltip = ITA_forza_navale_especiale_rm_tt

			navy_experience = 25
		}
	}

	focus = {
		id = ITA_incrociatori_leggeri
		icon = GFX_focus_generic_cruiser2
		prerequisite = { focus = ITA_supermarina }
		x = -2
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 100
			add_tech_bonus = {
				bonus = 2.0
				uses = 1
				category = cl_tech	
				category = ca_tech
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ITA
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			#Update NS icon
			ITA_improve_regia_marina_dm_effect = yes
		}
	}

	focus = {
		id = ITA_incrociatori_pesanti
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = ITA_supermarina }
		x = 2
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 25
			set_technology = {
				improved_heavy_battery = 1
			}
			add_tech_bonus = {
				bonus = 2.0
				uses = 1
				category = bb_tech
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ITA
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			#Update NS icon
			ITA_improve_regia_marina_dm_effect = yes
		}
	}

	focus = {
		id = ITA_expand_naval_intelligence
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = ITA_supermarina }

		x = 4
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 50
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			add_tech_bonus = {
				name = radar_focus
				bonus = 1
				uses = 2
				category = radar_tech
			}

			add_to_variable = { ITA_rm_decryption_factor = 0.05 }
			add_to_variable = { ITA_rm_navy_intel_factor = 0.1 }
			custom_effect_tooltip = ITA_expand_naval_intelligence_rm_tt

			navy_experience = 25
		}
	}

	focus = {
		id = ITA_cooperation_programs
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = ITA_supermarina }

		x = 6
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 25
			custom_effect_tooltip = "gives all of the axis joint research with italy on navy & navy doctrine" 
		}
	}

	focus = {
		id = ITA_cacciatorpediniere_di_scorta
		icon = GFX_focus_generic_destroyer
		prerequisite = { focus = ITA_incrociatori_leggeri }

		x = 0
		y = 1
		relative_position_id = ITA_incrociatori_leggeri
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = ITA_cacciatorpediniere_di_scorta
				cost_reduction = 0.50
				uses = 2
				category = convoy_defense_tree
			}

			add_tech_bonus = {
				name = ITA_cacciatorpediniere_di_scorta
				bonus = 1.0
				uses = 1
				category = dd_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				#Equipment Variant
				if = {
					limit = {
						has_tech = basic_dp_light_battery
					}
					create_equipment_variant = {
						name = "Comandanti Medaglie d'Oro Class"
						type = ship_hull_light_3
						name_group = ITA_DD_HISTORICAL
						parent_version = 0
						allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
						modules = {
							fixed_ship_battery_slot = dp_light_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_sonar_1
							fixed_ship_radar_slot = ship_radar_1
							fixed_ship_engine_slot = light_ship_engine_2
							fixed_ship_torpedo_slot = ship_torpedo_2
							mid_1_custom_slot = ship_mine_layer_1
							rear_1_custom_slot = ship_depth_charge_2
							front_1_custom_slot = dp_light_battery_2
						}
					}
				}
				else = {
					create_equipment_variant = {
						name = "Comandanti Medaglie d'Oro Class"
						type = ship_hull_light_3
						name_group = ITA_DD_HISTORICAL #TODO_Manu: Name List
						parent_version = 0
						allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
						modules = {
							fixed_ship_battery_slot = ship_light_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_sonar_1
							fixed_ship_radar_slot = ship_radar_1
							fixed_ship_engine_slot = light_ship_engine_2
							fixed_ship_torpedo_slot = ship_torpedo_2
							mid_1_custom_slot = ship_mine_layer_1
							rear_1_custom_slot = ship_depth_charge_2
							front_1_custom_slot = ship_light_battery_2
						}
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_light_3
						creator = "ITA"
						version_name = "Comandanti Medaglie d'Oro Class"
					}
					name = "Comandante Margottini"
					requested_factories = 2
					progress = 0.35
					amount = 3
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				create_equipment_variant = {
					name = "Comandanti Medaglie d'Oro Class"
					type = destroyer_3
					allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
					upgrades = {
						ship_torpedo_upgrade = 2
						destroyer_engine_upgrade = 2
						ship_ASW_upgrade = 2
						ship_anti_air_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = destroyer_3
						creator = "ITA"
						version_name = "Comandanti Medaglie d'Oro Class"
					}
					requested_factories = 2
					progress = 0.35
					amount = 3
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 162 158 } ##TUSCANY (Livorno) / PIEDMONT (Genova) (First ones built in Genova, others in Livorno, but Genova already receives a bunch of buildings)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_navi_da_battaglia
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = ITA_incrociatori_pesanti }

		x = 0
		y = 1
		relative_position_id = ITA_incrociatori_pesanti
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = ITA_navi_da_battaglia
				cost_reduction = 0.50
				uses = 2
				category = fleet_in_being_tree
			}

			add_tech_bonus = {
				name = ITA_navi_da_battaglia
				bonus = 1.5
				uses = 1
				category = bb_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					name = "Roma"
					requested_factories = 1
					progress = 0.45
					amount = 1
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					name = "Impero"
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				add_equipment_production = {
					equipment = {
						type = battleship_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = battleship_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 736 158 } ##LITORALE (Trieste) / PIEDMONT (Genova)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_proper_carriers
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = ITA_incrociatori_pesanti }
		mutually_exclusive = { focus = ITA_refit_civilian_ships }
		x = 2
		y = 1
		relative_position_id = ITA_incrociatori_pesanti
		cost = 5
		available = {
			if = { # MTG tech
				limit = {
					has_dlc = "Man the Guns"
				}
				has_tech = early_ship_hull_carrier
			}
			else = { #Non-MTG tech
				has_tech = early_carrier
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = ITA_proper_carriers
				bonus = 1.0
				uses = 1
				category = cv_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						NOT = { has_tech = basic_ship_hull_carrier }
					}
					set_technology = { basic_ship_hull_carrier = 1 }
				}

				#Equipment Variant
				create_equipment_variant = {
					name = "Aquila Class"
					type = ship_hull_carrier_1
					name_group = ITA_CV_HISTORICAL
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						front_1_custom_slot = ship_deck_space
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_1
						creator = "ITA"
						version_name = "Aquila Class"
					}
					name = "Aquila"
					requested_factories = 2
					progress = 0.45
					amount = 1
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				if = {
					limit = {
						NOT = { has_tech = basic_carrier }
					}
					set_technology = { basic_carrier = 1 }
				}
				create_equipment_variant = {
					name = "Aquila Class"
					type = carrier_2
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					upgrades = {
						ship_deckspace_upgrade = 3
						carrier_armor_upgrade = 2
						ship_engine_upgrade = 2
						ship_reliability_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = carrier_2
						creator = "ITA"
						version_name = "Aquila Class"
					}
					requested_factories = 2
					progress = 0.45
					amount = 1
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 158 } #PIEDMONT (Genoa)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_refit_civilian_ships
		icon = GFX_focus_generic_refit_civilian_ships
		prerequisite = { focus = ITA_incrociatori_pesanti }
		mutually_exclusive = { focus = ITA_proper_carriers }
		x = 4
		y = 1
		relative_position_id = ITA_incrociatori_pesanti
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			custom_effect_tooltip = ITA_refit_civilian_ships_rm_tt
			hidden_effect = {
				add_ideas = ITA_hidden_deck_conversion_production_ns
			}

			navy_experience = 15

			###########
			### MTG ###
			###########
			if = { #MTG
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						NOT = { has_tech = early_ship_hull_carrier }
					}
					set_technology = { early_ship_hull_carrier = 1 }
				}
				#Equipment Variant
				create_equipment_variant = {
					name = "Conte di Savoia Class - Converted Liner"
					type = ship_hull_carrier_conversion_ca
					name_group = ITA_CV_HISTORICAL #TODO_Manu: Namelist (Conte di Savoia, Rex, Neptunia, Oceania, Conte Rosso, Conte Grande, Saturnia, Vulcania, Conte Biancamo, Duilio, Conte verde, Giulio Cesare, Colombo, Tel Aviv) Excluded Roma (Aquila) and Augustus (Sparviero)
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_1
						fixed_ship_secondaries_slot = ship_secondaries_1
					}
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_conversion_ca
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					name = "Conte di Savoia"
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_conversion_ca
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					name = "Rex"
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
			}
			##############
			### NO MTG ###
			##############
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_carrier }
					}
					set_technology = { early_carrier = 1 }
				}
				create_equipment_variant = {
					name = "Conte di Savoia Class - Converted Liner"
					type = carrier_1
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					upgrades = {
						ship_deckspace_upgrade = 2
						carrier_armor_upgrade = 1
						ship_engine_upgrade = 2
						ship_reliability_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = carrier_1
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = carrier_1
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 158 } #PIEDMONT (Genoa)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_flotta_d_evasione
		icon = GFX_focus_ITA_new_horizons
		prerequisite = { focus = ITA_ispettorato_dei_mezzi_antisommergibili focus = ITA_cacciatorpediniere_di_scorta focus = ITA_navi_da_battaglia }

		x = 2
		y = 1
		relative_position_id = ITA_cacciatorpediniere_di_scorta
		cost = 5
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				has_tech = basic_light_cruiser
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			custom_effect_tooltip = ITA_flotta_d_evasione_admiral_traits_tt
			#Stupid tooltips oh my god I hate this game
			hidden_effect = {
				#First admiral trait
				if = { #Try to select high level admirals
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
						add_unit_leader_trait = bold
					}
				}
				else_if = {
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
						}
						add_unit_leader_trait = bold
					}
				}

				#Second admiral trait
				if = { #Try to select high level admirals
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
						add_unit_leader_trait = bold
					}
				}
				else_if = {
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
						}
						add_unit_leader_trait = bold
					}
				}
			}
			
			navy_experience = 50

			###########
			### MTG ###
			###########
			if = { #MTG
				limit = {
					has_dlc = "Man the Guns"
				}
				if = { #CRUISER HULL III
					limit = {
						has_tech = improved_ship_hull_cruiser
					}
					if = {
						limit = {
							has_tech = basic_dp_light_battery
						}
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_3
							name_group = ITA_CL_HISTORICAL
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_light_medium_battery_3
								mid_1_custom_slot = ship_torpedo_2
								mid_2_custom_slot = dp_ship_secondaries_2
								rear_1_custom_slot = ship_anti_air_3
								rear_2_custom_slot = ship_airplane_launcher_2
								fixed_ship_battery_slot = ship_light_medium_battery_3
								fixed_ship_anti_air_slot = ship_anti_air_3
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = ship_sonar_1
								fixed_ship_engine_slot = cruiser_ship_engine_3
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_3
							}
						}
					}
					else = {
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_3
							name_group = ITA_CL_HISTORICAL
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_light_medium_battery_3
								mid_1_custom_slot = ship_torpedo_2
								mid_2_custom_slot = ship_secondaries_2
								rear_1_custom_slot = ship_anti_air_3
								rear_2_custom_slot = ship_airplane_launcher_2
								fixed_ship_battery_slot = ship_light_medium_battery_3
								fixed_ship_anti_air_slot = ship_anti_air_3
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = ship_sonar_1
								fixed_ship_engine_slot = cruiser_ship_engine_3
								fixed_ship_secondaries_slot = ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_3
							}
						}
					}

					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_3
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Constanzo Ciano"
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_3
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Luigi Rizzo"
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
				else = { #CRUISER HULL II
					if = {
						limit = {
							has_tech = basic_dp_light_battery
						}
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_2
							name_group = ITA_CL_HISTORICAL #TODO_Manu: Namelist (Conte di Savoia, Rex, Neptunia, Oceania, Conte Rosso, Conte Grande, Saturnia, Vulcania, Conte Biancamo, Duilio, Conte verde, Giulio Cesare, Colombo, Tel Aviv) Excluded Roma (Aquila) and Augustus (Sparviero)
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_anti_air_2
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_2
								rear_1_custom_slot = ship_light_medium_battery_2
								fixed_ship_battery_slot = ship_light_medium_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_2
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_2
							}
						}
					}
					else = {
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_2
							name_group = ITA_CL_HISTORICAL #TODO_Manu: Namelist (Conte di Savoia, Rex, Neptunia, Oceania, Conte Rosso, Conte Grande, Saturnia, Vulcania, Conte Biancamo, Duilio, Conte verde, Giulio Cesare, Colombo, Tel Aviv) Excluded Roma (Aquila) and Augustus (Sparviero)
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_anti_air_2
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_2
								rear_1_custom_slot = ship_light_medium_battery_2
								fixed_ship_battery_slot = ship_light_medium_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_2
								fixed_ship_secondaries_slot = ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_2
							}
						}
					}

					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_2
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Constanzo Ciano"
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_2
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Luigi Rizzo"
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
			}
			### CORES
			#ROME
			if = {
				limit = {
					has_full_control_of_state = 2
				}
				2 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#PUGLIA
			if = {
				limit = {
					has_full_control_of_state = 849
				}
				849 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#SICILIA
			if = {
				limit = {
					has_full_control_of_state = 115
				}
				115 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			### COLONIES
			#TRIPOLI
			if = {
				limit = {
					has_full_control_of_state = 448
				}
				448 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#ERITREA
			if = {
				limit = {
					has_full_control_of_state = 550
				}
				550 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#SOMALILAND
			if = {
				limit = {
					has_full_control_of_state = 559
				}
				559 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			### EXTRA STUFF
			#GIBRALTAR
			if = {
				limit = {
					has_full_control_of_state = 118
				}
				118 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#ALGIERS
			if = {
				limit = {
					has_full_control_of_state = 459
				}
				459 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#TUNISIA
			if = {
				limit = {
					has_full_control_of_state = 458
				}
				458 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#ALEXANDRIA
			if = {
				limit = {
					has_full_control_of_state = 447
				}
				447 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#LISBON
			if = {
				limit = {
					has_full_control_of_state = 112
				}
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#SEVILLA
			if = {
				limit = {
					has_full_control_of_state = 169
				}
				169 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#BORDEAUX
			if = {
				limit = {
					has_full_control_of_state = 19
				}
				19 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#BRITTANY
			if = {
				limit = {
					has_full_control_of_state = 14
				}
				14 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = ITA_flotta_d_evasione_dockyards_tt #TODO_Manu: Dynamic tooltip
		}
	}

	focus = {
		id = ITA_learn_from_the_ethiopian_war
		icon = GFX_focus_generic_attack_ethiopia
		mutually_exclusive = { focus = ITA_victory_by_any_means }
		relative_position_id = ITA_the_new_emperor_of_ethiopia
		x = -9
		y = 0

		cost = 5

		bypass = {
		}

		available = {
			has_war_with = ETH
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			air_experience = 40
		}
	}

	focus = {
		id = ITA_victory_by_any_means
		icon = GFX_goal_generic_major_war
		mutually_exclusive = { focus = ITA_learn_from_the_ethiopian_war }
		x = 2
		y = 0
		relative_position_id = ITA_learn_from_the_ethiopian_war
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.8
				uses = 3
				category = industry
			}
		}
	}

	focus = {
		id = ITA_triumph_in_africa_bba
		icon = GFX_focus_ETH_the_second_italo_ethiopian_war
		prerequisite = { focus = ITA_learn_from_the_ethiopian_war focus = ITA_victory_by_any_means }

		x = 1
		y = 1
		relative_position_id = ITA_learn_from_the_ethiopian_war
		cost = 5

		bypass = {
		}

		available = {
			OR = {
				owns_state = 271
				ETH = { is_puppet_of = ITA }
				ETH = { is_ai = no }
				has_completed_focus = ITA_learn_from_the_ethiopian_war
			}	
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_war_support = 0.05
			add_stability = 0.05
			add_political_power = 50

			unlock_decision_category_tooltip = ETH_italian_occupation_category

			add_popularity = { ideology = fascism popularity = 0.05 }
			add_war_support = 0.1
			add_stability = 0.2
			add_political_power = 150
			add_ideas = impero_di_argilla

			country_event = { hours = 6 id = news.347 }
		}
	}

	focus = {
		id = ITA_devaluate_the_lire
		icon = GFX_focus_ITA_devaluate_the_lire
		prerequisite = { focus = ITA_triumph_in_africa_bba }

		x = -1
		y = 1
		relative_position_id = ITA_triumph_in_africa_bba
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_stability = 0.02
			add_timed_idea = { idea = ITA_devaluated_lira days = 365 }
		}
	}

	focus = {
		id = ITA_topple_amhara_rulers
		icon = GFX_focus_ITA_topple_amhara_rulers
		prerequisite = { focus = ITA_triumph_in_africa_bba }

		x = 1
		y = 1
		relative_position_id = ITA_triumph_in_africa_bba
		cost = 5
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			has_full_control_of_state = 835
			has_full_control_of_state = 836
			has_full_control_of_state = 837
			has_full_control_of_state = 838
			NOT = { has_global_flag = ITA_antifascist_civil_war_triggered_flag }
			hidden_trigger = { NOT = { has_completed_focus = ITA_defy_the_duce } }
		}

		search_filters = {}

		completion_reward = {
		}
	}

	focus = {
		id = ITA_culto_del_duce
		icon = GFX_focus_ITA_culto_del_duce
		prerequisite = { focus = ITA_triumph_in_africa_bba }

		allow_branch = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				NOT = { has_completed_focus = ITA_defy_the_duce }
				NOT = { has_completed_focus = ITA_convene_the_grand_council }
			}
		}

		x = 0
		y = 2
		relative_position_id = ITA_triumph_in_africa_bba
		cost = 5
		available = {
			has_country_leader = {
				character = ITA_benito_mussolini
				ruling_only = yes
			}
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_country_leader_trait = lion_tamer

			ITA_bop_very_low_increase_effect = yes

			mark_focus_tree_layout_dirty = yes
		}
	}
	
	focus = {
		id = ITA_the_man_of_providence
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = ITA_culto_del_duce }

		x = -3
		y = 1
		relative_position_id = ITA_culto_del_duce
		cost = 5
		available = {
			has_country_leader = {
				character = ITA_benito_mussolini
				ruling_only = yes
			}
			power_balance_value = {
				id = ITA_power_balance
				value > 0.499
			}
			custom_trigger_tooltip = {
				tooltip = "Requires 50+ value towards Mussolini in the Balance of Power"
				always = yes
			}
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 25
			if = {
				limit = {
					has_completed_focus = ITA_strengthen_the_regime
				}
				swap_ruler_traits = {
					remove = il_duce_strengthen
					add = il_duce_providence_strengthen
				}
			}
			else = {
				swap_ruler_traits = {
					remove = il_duce
					add = il_duce_providence
				}
			}

			ITA_bop_very_low_increase_effect = yes
		}
	}

	focus = {
		id = ITA_legge_bottai
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = ITA_the_man_of_providence }

		x = 0
		y = 1
		relative_position_id = ITA_the_man_of_providence
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_political_power = 50
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_stability = 0.02

			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_giuseppe_bottai
		}
	}

	focus = {
		id = ITA_boost_the_grand_council_of_fascism
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = ITA_the_man_of_providence }
		mutually_exclusive = { focus = ITA_to_live_as_a_lion }
		x = -1
		y = 3
		relative_position_id = ITA_the_man_of_providence
		cost = 5
		available = {
			power_balance_value = {
				id = ITA_power_balance
				value > 0.699
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_ITA_MISSIOLINI}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05

			ITA_bop_very_low_decrease_effect = yes

			custom_effect_tooltip = ITA_boost_the_grand_council_of_fascism_missiolinis_tt
		}
	}

	focus = {
		id = ITA_to_live_as_a_lion
		icon = GFX_focus_ITA_to_live_as_a_lion
		prerequisite = { focus = ITA_the_man_of_providence }
		mutually_exclusive = { focus = ITA_boost_the_grand_council_of_fascism }
		x = 2
		y = 0
		relative_position_id = ITA_boost_the_grand_council_of_fascism
		cost = 5
		available = {
			has_country_leader = {
				character = ITA_benito_mussolini
				ruling_only = yes
			}
			power_balance_value = {
				id = ITA_power_balance
				value > 0.649
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER FOCUS_FILTER_ITA_MISSIOLINI}

		completion_reward = {
			add_political_power = 50

			swap_ruler_traits = {
				remove = lion_tamer
				add = lion_tamer_2
			}

			ITA_bop_very_low_increase_effect = yes

			#Reduce time for Missiolinis
			set_variable = { ITA_missiolinis_default_days = 350 }
			custom_effect_tooltip = ITA_to_live_as_a_lion_missiolinis_tt
		}
	}

	focus = {
		id = ITA_la_battaglia_del_grano
		icon = GFX_focus_SOV_breadbasket_of_the_union
		prerequisite = { focus = ITA_culto_del_duce }
		mutually_exclusive = { focus = ITA_la_battaglia_per_la_terra }
		x = -1
		y = 1
		relative_position_id = ITA_culto_del_duce
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = ITA_battaglia_del_grano days = 730 }
		}
	}

	focus = {
		id = ITA_la_battaglia_per_la_terra
		icon = GFX_focus_generic_land_reclamation
		prerequisite = { focus = ITA_culto_del_duce }
		mutually_exclusive = { focus = ITA_la_battaglia_del_grano }
		x = 1
		y = 1
		relative_position_id = ITA_culto_del_duce
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

		completion_reward = {
			if = { #Latium
				limit = {
					2 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				2 = {
					add_extra_state_shared_building_slots = 2
				}
			}
			if = { #Campania
				limit = {
					117 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				117 = {
					add_extra_state_shared_building_slots = 2
				}
			}

			if = { #Tuscany
				limit = {
					162 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				162 = {
					add_extra_state_shared_building_slots = 2
				}
			}

			add_timed_idea = { idea = ITA_battaglia_per_la_terra days = 730 }
		}
	}

	focus = {
		id = ITA_la_battaglia_per_le_nascite
		icon = GFX_focus_generic_population_growth
		prerequisite = { focus = ITA_la_battaglia_del_grano focus = ITA_la_battaglia_per_la_terra }

		x = 1
		y = 2
		relative_position_id = ITA_la_battaglia_del_grano
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_timed_idea = { idea = ITA_battaglia_per_la_nascite days = 730 }
			add_political_power = 25
		}
	}

	focus = {
		id = ITA_strengthen_the_regime
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = ITA_la_battaglia_per_le_nascite }

		x = 0
		y = 1
		relative_position_id = ITA_la_battaglia_per_le_nascite
		cost = 5
		available = {
			has_country_leader = {
				character = ITA_benito_mussolini
				ruling_only = yes
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05
			add_war_support = 0.05

			if = {
				limit = {
					has_completed_focus = ITA_the_man_of_providence
				}
				swap_ruler_traits = {
					remove = il_duce_providence
					add = il_duce_providence_strengthen
				}
			}
			else = {
				swap_ruler_traits = {
					remove = il_duce
					add = il_duce_strengthen
				}
			}
		}
	}

	focus = {
		id = ITA_devotion
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = ITA_to_live_as_a_lion focus = ITA_boost_the_grand_council_of_fascism }

		x = -3
		y = 1
		relative_position_id = ITA_strengthen_the_regime
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			add_political_power = 50

			swap_ruler_traits = {
				remove = il_duce_providence_strengthen
				add = il_duce_devotion 
			}

			ITA_bop_very_low_increase_effect = yes
		}
	}

	focus = {
		id = ITA_ministero_della_cultura_popolare #Alt name would be Ministry of Popular Culture (1937-1943)
		icon = GFX_focus_generic_italy_propaganda
		prerequisite = { focus = ITA_culto_del_duce focus = ITA_convene_the_grand_council }

		x = 3
		y = 1
		relative_position_id = ITA_culto_del_duce

		cost = 5
		available = {
			has_government = fascism
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = { #Propaganda System? NOPE :D
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_war_support = 0.03
			add_political_power = 25

			ITA_bop_very_low_increase_effect = yes #Works for every Duce
		}
	}

	focus = {
		id = ITA_security_militias
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = ITA_culto_del_duce }

		x = 0
		y = 1
		relative_position_id = ITA_ministero_della_cultura_popolare

		cost = 5
		available = {
			has_government = fascism
		}

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_ideas = ITA_camicie_nere
		}
	}

	focus = {
		id = ITA_battaglioni_d_assalto
		icon = GFX_focus_ITA_blackshirts
		prerequisite = { focus = ITA_ministero_della_cultura_popolare }
		mutually_exclusive = { focus = ITA_strengthen_the_blackshirts }
		x = -1
		y = 2
		relative_position_id = ITA_security_militias

		cost = 5
		available = {
			has_government = fascism
		}

		search_filters = {}

		completion_reward = {
		}
	}

	focus = {
		id = ITA_strengthen_the_blackshirts
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = ITA_ministero_della_cultura_popolare }
		mutually_exclusive = { focus = ITA_battaglioni_d_assalto }
		x = 2
		y = 0
		relative_position_id = ITA_battaglioni_d_assalto
		cost = 5
		available = {
			has_government = fascism
			any_owned_state = {
				is_core_of = ROOT
				is_fully_controlled_by = ROOT
			}
			ITA_has_disbanded_blackshirts = no
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			swap_ideas = {
				remove_idea = ITA_camicie_nere
				add_idea = ITA_camicie_nere_strengthened
			}

			custom_effect_tooltip = ITA_strengthen_the_blackshirts_template_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 12 }
				set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }

				add_units_to_division_template = {
					template_name = "Camicie Nere"
					support = { 
						artillery = 0
					}
				}
			}
			random_controlled_state = { #Create a few more Blackshirt Divs
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				prioritize = { 2 }
				custom_effect_tooltip = ITA_strengthen_the_blackshirts_spawn_divs_tt
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Camicie Nere\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 3
					}
				}
			}
		}
	}

	focus = {
		id = ITA_milizia_coloniale
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = ITA_battaglioni_d_assalto focus = ITA_strengthen_the_blackshirts }

		x = 1
		y = 1
		relative_position_id = ITA_battaglioni_d_assalto
		cost = 5
		available = {
			has_government = fascism
			ITA_has_disbanded_blackshirts = no
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			if = {
				limit = {
					has_idea = ITA_camicie_nere_strengthened
				}
				swap_ideas = {
					remove_idea = ITA_camicie_nere_strengthened
					add_idea = ITA_camicie_nere_milizia_coloniale
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ITA_camicie_nere
					add_idea = ITA_camicie_nere_milizia_coloniale
				}
			}
			custom_effect_tooltip = ITA_blackshirts_div_cap_12_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 12 }
				set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }
			}
		}
	}

	focus = {
		id = ITA_subdue_the_sentinels
		icon = GFX_focus_ITA_subdue_the_sentinels
		cost = 5

		x = 0
		y = 1
		relative_position_id = ITA_strengthen_the_regime
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			#CLAIMS IN GIBRALTAR AND SUEZ CANAL
			if = {
				limit = {
					118 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 118 #GIBRALTAR
				if = {
					limit = {
						118 = {
							controller = {
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					if = { #Same controller for both states
						limit = {
							118 = {
								controller = {
									controls_state = 446
								}
							}
						}
						create_wargoal = {
							type = take_state_focus
							target = 118.controller
							generator = { 118 446 }
						}
					}
					else = { #Each state have different controllers
						create_wargoal = {
							type = take_state_focus
							target = 118.controller
							generator = { 118 }
						}
					}
					
				}
			}
			if = {
				limit = {
					446 = { NOT = { is_claimed_by = ROOT } }
				}
				add_state_claim = 446 #CAIRO (Suez Canal)
				if = {
					limit = {
						446 = {
							controller = {
								NOT = { controls_state = 118 } #Otherwise already received the wargoal above
								NOT = { has_war_with = ROOT }
								NOT = { is_in_faction_with = ROOT }
								NOT = { has_non_aggression_pact_with = ROOT }
								NOT = { is_guaranteed_by = ROOT }
							}
						}
					}
					create_wargoal = {
						type = take_state_focus
						target = 446.controller
						generator = { 446 }
					}
				}
			}
		}
	}

	focus = {
		id = ITA_a_colonial_empire
		icon = GFX_focus_ITA_a_colonial_empire
		prerequisite = { focus = ITA_subdue_the_sentinels }

		x = 0
		y = 1
		relative_position_id = ITA_subdue_the_sentinels
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_to_variable = { ITA_re_non_core_manpower = 0.15 }
			custom_effect_tooltip = ITA_a_colonial_empire_re_tt

			custom_effect_tooltip = ITA_a_colonial_empire_claims_tt
		}
	}

	focus = {
		id = ITA_by_blood_alone
		icon = GFX_focus_ITA_by_blood_alone
		prerequisite = { focus = ITA_a_colonial_empire }

		x = 0
		y = 1
		relative_position_id = ITA_a_colonial_empire
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			# REGIO ESERCITO
			add_to_variable = { ITA_re_army_morale_factor = 0.05 }
			add_to_variable = { ITA_re_conscription_factor = 0.05 }
			add_to_variable = { ITA_re_army_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_by_blood_alone_re_tt

			#REGIA AERONAUTICA
			add_to_variable = { ITA_ra_air_superiority_bonus_in_combat = 0.05 }
			custom_effect_tooltip = ITA_by_blood_alone_ra_tt

			#REGIA MARINA
			add_to_variable = { ITA_rm_naval_morale_factor = 0.05 }
			custom_effect_tooltip = ITA_by_blood_alone_rm_tt

			add_stability = -0.1
			add_war_support = 0.1
		}
	}

	focus = {
		id = ITA_towards_a_greater_italy
		icon = GFX_focus_ITA_greater_italy

		allow_branch = {
		}

		x = -9
		y = -1
		relative_position_id = ITA_triumph_in_africa_bba
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_gian_galeazzo_ciano
		}
	}

	focus = {
		id = ITA_balkan_ambition
		icon = GFX_focus_generic_balkans_focus
		prerequisite = { focus = ITA_towards_a_greater_italy }

		x = -1
		y = 1
		relative_position_id = ITA_towards_a_greater_italy
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			every_state = {
				limit = {
					OR = {
						is_core_of = YUG 
						is_core_of = GRE 
						is_core_of = ALB 
					}
				}
				ROOT = { add_state_claim = PREV }
			}
		}
	}

	focus = {
		id = ITA_potential_allies_in_the_balkans
		icon = GFX_focus_generic_balkan_diplomacy
		prerequisite = { focus = ITA_towards_a_greater_italy }

		x = 1
		y = 1
		relative_position_id = ITA_towards_a_greater_italy
		cost = 5
		available = {
		}

		select_effect = {
			custom_effect_tooltip = "affects dynamic modifiers with 5 cg for the duration of this focus" 
			add_to_variable = { ITA_iri_consumer_goods_factor = 0.05 }
		}

		search_filters = {}

		completion_reward = { #Changing stuff here will require changing stuff in History file for 1939 bookmark
			subtract_from_variable = { ITA_iri_consumer_goods_factor = -0.05 }
			HUN = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				add_political_power = 50 
				random_core_state = {
					add_building_construction = {
						type = industrial_complex
						instant_build = yes 
						level = 2 
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			ROM = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				add_political_power = 50 

			}
			BUL = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				add_political_power = 50 
			}
		}
	}

	focus = {
		id = ITA_albanian_occupation
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = ITA_towards_a_greater_italy }

		x = 6
		y = 1
		relative_position_id = ITA_towards_a_greater_italy
		cost = 5
		available = {
		}

		bypass = {
			44 = { state_is_fully_controlled_by_ROOT_or_subject = yes }
		}

		search_filters = {FOCUS_FILTER_ANNEXATION FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER}

		completion_reward = {
			if = {
				limit = {
					ALB = { has_war = no }
				}
				ALB = { country_event = { id = italy.3 hours = 1 } }
			}
			else = {
				create_wargoal = {
					type = take_state_focus
					target = ALB
					generator = { 44 }
				}
			}

			effect_tooltip = {
				custom_effect_tooltip = if_they_accept_tt
				annex_country = { target = ALB }
				add_named_threat = { threat = 2 name = ITA_albania_war_goal }
				# The king is an idea
				if = {
					limit = {
						has_idea = vittorio_emanuele
					}
					swap_ideas = {
						remove_idea = vittorio_emanuele
						add_idea = vittorio_emanuele_king_of_albania
					}
				}
				else_if = {
					limit = {
						has_idea = vittorio_emanuele_emperor_of_ethiopia
					}
					swap_ideas = {
						remove_idea = vittorio_emanuele_emperor_of_ethiopia
						add_idea = vittorio_emanuele_albania_ethiopia
					}
				}
				if = {
					limit = {
				 		has_character = ITA_vittorio_emanuele_iii
					}
					ITA_vittorio_emanuele_iii = { add_country_leader_trait = king_of_albania }
				}
			}
		}
	}

	focus = {
		id = ITA_albanian_oil
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = ITA_albanian_occupation }

		x = -2
		y = 1
		relative_position_id = ITA_albanian_occupation
		cost = 5
		available = {
			44 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			44 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = oil
					amount = 2
				}
			}
		}
	}

	focus = {
		id = ITA_support_albanian_irredentism
		icon = GFX_focus_ITA_albanian_irredentism
		prerequisite = { focus = ITA_albanian_occupation }

		x = 0
		y = 1
		relative_position_id = ITA_albanian_occupation
		cost = 5
		available = {
			44 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {}

		completion_reward = {
			add_state_claim = 802 #KOSOVO
			add_state_claim = 106 #MACEDONIA
			add_state_claim = 185 #EPIRUS
			add_state_claim = 105 #MONTENEGRO

			hidden_effect = { #Representing the Albanian Irredentism recognized by ITA.
				ALB = {
					add_state_claim = 802 #KOSOVO
					add_state_claim = 106 #MACEDONIA
					add_state_claim = 185 #EPIRUS
					add_state_claim = 105 #MONTENEGRO
				}
			}

			every_state = {
				limit = {
					OR = {
						is_core_of = ALB
						is_claimed_by = ALB
					}
					is_fully_controlled_by = ROOT
				}
				add_compliance = 10
			}

			if = {
				limit = {
					ALB = { is_subject_of = ROOT }
				}
				ALB = {
					add_opinion_modifier = { target = ROOT modifier = ITA_supports_albanian_irredentism }
					add_autonomy_score = {
						value = -30
						localization = ITA_support_albanian_irredentism
					}
					if = {
						limit = { ROOT = { has_government = fascism } }
						add_timed_idea = { idea = fascist_influence days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = democratic } }
						add_timed_idea = { idea = democratic_influence days = 1095 }
					}
					if = {
						limit = { ROOT = { has_government = communism } }
						add_timed_idea = { idea = communist_influence days = 1095 }
					}
					country_event = { id = generic.1 }
				}
			}
			else = {
				custom_effect_tooltip = ITA_support_albanian_irredentism_subject_effects_tt
				effect_tooltip = {
					ALB = {
						add_opinion_modifier = { target = ROOT modifier = ITA_supports_albanian_irredentism }
						add_autonomy_score = {
							value = -30
							localization = ITA_support_albanian_irredentism
						}
						if = {
							limit = { ROOT = { has_government = fascism } }
							add_timed_idea = { idea = fascist_influence days = 1095 }
						}
						if = {
							limit = { ROOT = { has_government = democratic } }
							add_timed_idea = { idea = democratic_influence days = 1095 }
						}
						if = {
							limit = { ROOT = { has_government = communism } }
							add_timed_idea = { idea = communist_influence days = 1095 }
						}
						country_event = { id = generic.1 }
					}
				}
			}
		}
	}

	focus = {
		id = ITA_albanian_fascist_militia
		icon = GFX_focus_ITA_albanian_fascist_militia
		prerequisite = { focus = ITA_support_albanian_irredentism }

		x = 0
		y = 1
		relative_position_id = ITA_support_albanian_irredentism
		cost = 5
		available = {
			44 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			if = {
				limit = {
					NOT = { has_completed_focus = ITA_regional_development }
				}
				custom_effect_tooltip = ITA_albanian_fascist_militia_occupation_law_full_tt
				show_ideas_tooltip = ITA_fake_colonial_police_law
			}
			else = {
				custom_effect_tooltip = ITA_albanian_fascist_militia_occupation_law_tt
			}

			every_controlled_state = {
				limit = {
					is_core_of = ALB
					is_fully_controlled_by = ROOT
				}
				#set_occupation_law = colonial_police #MM: Not working
				add_compliance = 10
			}

			custom_effect_tooltip = ITA_blackshirts_div_cap_8_tt
			hidden_effect = {
				add_to_variable = { ITA_militias_cap = 8 }
				set_division_template_cap = {  division_template = "Camicie Nere" division_cap = ITA_militias_cap }
			}

			44 = {
				custom_effect_tooltip = ITA_albanian_fascist_militia_spawn_divs_tt
				hidden_effect = {
					create_unit = { #Historically 14 battalions
						division = "division_template = \"Camicie Nere\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 3
					}
				}
			}
		}
	}

	focus = {
		id = ITA_pact_of_steel
		icon = GFX_goal_support_fascism
		prerequisite = { focus = ITA_towards_a_greater_italy }
		mutually_exclusive = { focus = ITA_guarantee_austrian_independence focus = ITA_italy_first }
		x = 3
		y = 1
		relative_position_id = ITA_towards_a_greater_italy
		cost = 5

		bypass = {
			is_in_faction = yes
			is_in_faction_with = GER
		}

		available = {
			NOT = { has_war_with = GER }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
		}
	}

	focus = {
		id = ITA_german_military_cooperation
		icon = GFX_focus_ger_oppose_hitler
		prerequisite = { focus = ITA_pact_of_steel }

		x = -3
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 10
		available = {
			NOT = { has_war_with = GER }
			is_in_faction_with = GER 
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_ideas = ITA_german_millitary_cooperation_focus

			add_research_slot = 1
		}
	}

	focus = {
		id = ITA_afrikakorps
		icon = GFX_GER_rommel_time_icon
		prerequisite = { focus = ITA_german_military_cooperation }

		x = -1
		y = 1
		relative_position_id = ITA_german_military_cooperation
		cost = 5
		available = {
			OR = {
				ITA = { controls_state= 663}
				ITA = { controls_state= 451}
				ITA = { controls_state= 450}
				ITA = { controls_state= 448}
				OR = {
					ITA = {
						controls_state = 458
					}
					any_other_country = {
						is_in_faction_with = ITA
						controls_state = 458
					}
				}
			}
			date > 1942.01.01
		}
		
		search_filters = {FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_timed_idea = {
				idea = ITA_afrikakorps_idea
				days = 60
			}
			GER = {
				unlock_decision_tooltip = GER_send_rommel
			}
			create_corps_commander = {
				name ="Albert Kesselring"
				picture = "Portrait_Germany_Albert_Kesselring.dds"
				traits={ trait_cautious logistics_wizard camouflage_expert infantry_leader }
				skill=4
				attack_skill=3
				defense_skill=6
				planning_skill=4
				logistics_skill=4
				legacy_id=32
			}	
			GER = {
				remove_unit_leader = 32
			}
			custom_effect_tooltip = GER_afrikakorps_tt
			if = {
				limit = { 
				GER = { 
					has_tech = ger_CAS_1935
					NOT = { has_tech = ger_CAS_1937	}
				}
			}
				add_equipment_to_stockpile = { type = CAS_equipment_1935 amount = 200 producer = GER }   
			}
			if = {
				limit = { 
				GER = { 
					has_tech = ger_CAS_1937
					NOT = { has_tech = ger_CAS_1939	}
				}
			}
				add_equipment_to_stockpile = { type = CAS_equipment_1937 amount = 200 producer = GER }   
			}
			if = {
				limit = { 
				GER = { 
					has_tech = ger_CAS_1939
				}
			}	
				add_equipment_to_stockpile = { type = CAS_equipment_1939 amount = 200 producer = GER }   
			}
			hidden_effect = {
				GER = {
					if = {
						limit = {
							NOT = {
								has_tech = ger_1940_medium_tank_chassis
							}
						}
						set_technology = {
							ger_1940_medium_tank_chassis = 1
						}
					}
					create_equipment_variant = {
						name = "Panzer III Ausf.J"
						type = medium_tank_chassis_1940
						parent_version = 0
						modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_torsion_bar_suspension
						armor_type_slot = tank_welded_armor
						armor_sloping_slot = unsloped_armor
						engine_type_slot = tank_gasoline_engine
						radio_slot = tank_radio_2
						special_type_slot_1 = basket
						special_type_slot_2 = cupola
						}
						upgrades = {
							tank_nsb_engine_upgrade = 8
							tank_nsb_armor_upgrade = 6
						}
						icon = "gfx/interface/technologies/land/ger/3long.tga"
				
					}
					if = {
						limit = {
							NOT = {
								has_tech = ger_1939_medium_tank_chassis
							}
						}
						set_technology = {
							ger_1939_medium_tank_chassis = 1
						}
					}
					create_equipment_variant = {
						name = "Panzer IV Ausf.F2"
						type = medium_tank_chassis_1946
						parent_version = 0
						modules = {
						main_armament_slot = tank_medium_cannon_2
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						armor_sloping_slot = unsloped_armor
						engine_type_slot = tank_gasoline_engine
						radio_slot = tank_radio_1
						special_type_slot_1 = basket
						special_type_slot_2 = extra_ammo_storage
						special_type_slot_3 = cupola
						}
						upgrades = {
							tank_nsb_engine_upgrade = 5
							tank_nsb_armor_upgrade = 3
						}
						icon = "gfx/interface/technologies/land/ger/4j.tga"
						
					}
				}
				add_equipment_to_stockpile = { type = medium_tank_chassis_1940 amount = 300 producer = GER variant_name = "Panzer III Ausf.J" }
				add_equipment_to_stockpile = { type = medium_tank_chassis_1946 amount = 150 producer = GER variant_name = "Panzer IV Ausf.F2" }
				division_template = {
					name = "Italian Afrikakorps"	
					priority = 2	
					division_names_group = ITA_INF_01 
					regiments = {
						truck_infantry = { x = 0 y = 0 }
						truck_infantry = { x = 0 y = 1 }
						truck_infantry = { x = 0 y = 2 }
						truck_infantry = { x = 0 y = 3 }

						truck_infantry = { x = 1 y = 0 }
						truck_infantry = { x = 1 y = 1 }
						truck_infantry = { x = 1 y = 2 }
						truck_infantry = { x = 1 y = 3 }

						truck_infantry = { x = 2 y = 0 } 

						artillery_brigade = { x = 3 y = 0 }
						artillery_brigade = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
						
						artillery_brigade = { x = 3 y = 3 }

						anti_tank_brigade = { x = 4 y = 0 }
						anti_air = { x = 4 y = 1 }
					}
					support = {
						DIV_HQ = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						recon = { x = 0 y = 2 }
						maintenance_company = { x = 1 y = 0 }
						logistics_company = { x = 1 y = 1 }
						field_hospital = { x = 1 y = 2 }
					}
				}
				every_state = {
					limit = { state = 458 }
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					} 
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}	
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					} 
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}
				}	
			}
		}
	}

	focus = {
		id = ITA_ARMIR
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = ITA_german_military_cooperation }

		x = 1
		y = 1
		relative_position_id = ITA_german_military_cooperation
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			army_experience = 30
			add_ideas = ARMIR
			if = { 
				limit = {
					NOT = {
						has_tech = fighter_1940
					}
				}
				custom_effect_tooltip = ITA_fighter_get 
			}
			if = { 
				limit = {
					NOT = {
						has_tech = heavy_fighter_1940
					}
				}
				custom_effect_tooltip = ITA_heavy_fighter_get 
			}
			if = { 
				limit = {
					has_tech = fighter_1940
				}
				add_equipment_to_stockpile = { type = small_plane_airframe  amount = 300 producer = ITA }
			}
			if = { 
				limit = {
					has_tech = heavy_fighter_1940
					
				}
				add_equipment_to_stockpile = { type = medium_plane_fighter_airframe  amount = 200 producer = ITA }
			}
		
			add_equipment_to_stockpile = { type = special_equipment_1  amount = 600 producer = ITA }

		}
	}

	focus = {
		id = ITA_divisione_ariete
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = ITA_german_military_cooperation }
		relative_position_id = ITA_german_military_cooperation

		x = 0
		y = 2

		cost = 2.2

		ai_will_do = {
			factor = 30
		}
  
		bypass = {

		}
		available_if_capitulated = no

		available = {
		  
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 161 }
				add_extra_state_shared_building_slots = 3 
				add_building_construction = {
					type = arms_factory
					level = 3 
					instant_build = yes
				}
			}
			custom_effect_tooltip = ITA_Divisione_corazzata_unit_tt
			hidden_effect = {
				if = {
					limit = {
						has_tech = ita_1940_heavy_tank_chassis
					}	
					division_template = {
						name = "Divisione corazzata"
						division_names_group = ITA_ARM_01
						priority = 2

						regiments = {
							heavy_armor = { x = 0 y = 0 }
							heavy_armor = { x = 0 y = 1 }
							heavy_armor = { x = 0 y = 2 }
							heavy_armor = { x = 0 y = 3 }

							heavy_armor = { x = 1 y = 0 }
							heavy_armor = { x = 1 y = 1 }
							heavy_armor = { x = 1 y = 2 }
							heavy_armor = { x = 1 y = 3 }


							motorized = { x = 2 y = 0 }
							motorized = { x = 2 y = 1 }
							armored_car = { x = 2 y = 2 }

							motorized = { x = 3 y = 0 }
							motorized = { x = 3 y = 1 }
							motorized = { x = 3 y = 2 }
							motorized = { x = 3 y = 3 }
						}

						support = {
							DIV_HQ = { x = 0 y = 0 }
							recon = { x = 0 y = 1 }
							engineer = { x = 0 y = 2 }
							maintenance_company = { x = 1 y = 0 }
							logistics_company = { x = 1 y = 1 }
						}
					}
					every_state = {
						limit = { state = 2 }

						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}   
					}	
				}
				else_if = {
					limit = {
						has_tech = ita_1940_medium_tank_chassis
					}

					division_template = {
						name = "Divisione corazzata"
						division_names_group = ITA_ARM_01
						priority = 2

						regiments = {
							medium_armor = { x = 0 y = 0 }
							medium_armor = { x = 0 y = 1 }
							medium_armor = { x = 0 y = 2 }
							medium_armor = { x = 0 y = 3 }

							medium_armor = { x = 1 y = 0 }
							medium_armor = { x = 1 y = 1 }
							medium_armor = { x = 1 y = 2 }
							medium_armor = { x = 1 y = 3 }


							motorized = { x = 2 y = 0 }
							motorized = { x = 2 y = 1 }
							armored_car = { x = 2 y = 2 }

							motorized = { x = 3 y = 0 }
							motorized = { x = 3 y = 1 }
							motorized = { x = 3 y = 2 }
							motorized = { x = 3 y = 3 }
						}

						support = {
							DIV_HQ = { x = 0 y = 0 }
							recon = { x = 0 y = 1 }
							engineer = { x = 0 y = 2 }
							maintenance_company = { x = 1 y = 0 }
							logistics_company = { x = 1 y = 1 }
						}
					}
					every_state = {
						limit = { state = 2 }

						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}   
						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}		
					}	
				}
				else_if = {

				division_template = {
				name = "Divisione corazzata"
				division_names_group = ITA_ARM_01
				priority = 2

				regiments = {
				light_armor = { x = 0 y = 0 }
				light_armor = { x = 0 y = 1 }
				light_armor = { x = 0 y = 2 }
				light_armor = { x = 0 y = 3 }

				light_armor = { x = 1 y = 0 }
				light_armor = { x = 1 y = 1 }
				light_armor = { x = 1 y = 2 }
				light_armor = { x = 1 y = 3 }


				motorized = { x = 2 y = 0 }
				motorized = { x = 2 y = 1 }
				armored_car = { x = 2 y = 2 }

				motorized = { x = 3 y = 0 }
				motorized = { x = 3 y = 1 }
				motorized = { x = 3 y = 2 }
				motorized = { x = 3 y = 3 }
				}

				support = {
				DIV_HQ = { x = 0 y = 0 }
				recon = { x = 0 y = 1 }
				engineer = { x = 0 y = 2 }
				maintenance_company = { x = 1 y = 0 }
				logistics_company = { x = 1 y = 1 }
				}
				}
				every_state = {
					limit = { state = 2 }
					create_unit = {
						division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}   
					create_unit = {
						division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}
					create_unit = {
						division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}		
				}	
			}
			}	
		}
	}

	focus = {
		id = ITA_treaty_with_germany
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = ITA_pact_of_steel }

		x = -1
		y = 1
		relative_position_id = ITA_pact_of_steel
		cost = 5
		available = {
			is_in_faction_with = GER 
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			GER = {
				country_event = { id = italy.5 days = 1 }
				custom_effect_tooltip = needs_approval
			}
			# Actual reward effects added in event if Soviets approve
			effect_tooltip = {
				add_tech_bonus = {
				name = ITA_Learn_from_the_Wehrmacht
				bonus = 0.5
				uses = 3
				category = support_tech
				}
				add_tech_bonus = {
					name = armor_bonus
					bonus = 0.5
					uses = 2
					category = cat_heavy_armor
					category = cat_medium_armor
					category = cat_light_armor
				}
			}
		}
	}

	focus = {
		id = ITA_request_control_of_french_territories
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = ITA_pact_of_steel }
		prerequisite = { focus = ITA_italian_irredentism }
		mutually_exclusive = { focus = ITA_war_with_france }
		x = 0
		y = 2
		relative_position_id = ITA_pact_of_steel
		cost = 5

		available = {
			is_puppet = no
			is_in_faction_with = GER
			GER = { 
				controls_state = 16 				
				GER = { is_faction_leader = yes }
			}
			custom_trigger_tooltip = {
			 tooltip = ITA_claims_on_france_tt
				any_other_country = {
					original_tag = FRA
					has_government = fascism
					owns_state = 735
					controls_state = 735
					owns_state = 1
					controls_state = 1
				}
			}
		}

		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			if = {
				limit = { 
					any_other_country = {
						original_tag = FRA
						has_government = fascism
						owns_state = 735
					}
				}
				set_global_flag = ITA_claims_on_france_735
			}
			if = {
				limit = { 
					any_other_country = {
						original_tag = FRA
						has_government = fascism
						owns_state = 1
					}
				}
				set_global_flag = ITA_claims_on_france_1
			}

			GER = { country_event = germany.104 }
		}
	}

	focus = {
		id = ITA_corpo_di_truppe_volontarie
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = ITA_towards_a_greater_italy }

		x = -4
		y = 1
		relative_position_id = ITA_towards_a_greater_italy
		cost = 5

		bypass = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				OR = {
					has_global_flag = scw_over
					NOT = { country_exists = SPA }
				}
			}
			else = {
				has_global_flag = spanish_civil_war
				NOT = {
					any_country = {
						original_tag = SPR
						OR = {
							has_government = fascism
							has_civil_war = yes
						}
					}
				}
			}
		}

		available = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_volunteers_amount_from = {
						tag = ITA
						count > 1
					}
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					has_volunteers_amount_from = {
						tag = ITA
						count > 1
					}
				}
			}
		}
		cancel = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				SPR = {
					has_civil_war = no
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = { has_civil_war = no }
			}
		}

		cancel_if_invalid = no

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_AIR_XP}

		completion_reward = { #Changing stuff here will require changing stuff in History file for 1939 bookmark
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = { add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war } }
			}

			add_timed_idea = {
				idea = ITA_aviazione_legionaria
				days = 365
			}

			custom_effect_tooltip = ITA_aviazione_legionaria_tt
			hidden_effect = {
				if ={
					limit = {
						has_dlc = "By Blood Alone"
					}
					load_oob = "ITA_aviazione_legionaria_bba"
				}
				else = {
					load_oob = "ITA_aviazione_legionaria_legacy"
				}
			}

			if = {
				limit = {
					NOT = { has_completed_focus = ITA_cooperation_programs }
				}
				custom_effect_tooltip = ITA_has_completed_cooperation_programs_focus_tt
			}
			custom_effect_tooltip = ITA_unlocks_decision_cede_aquila_class_destroyers_to_spain_tt
		}
	}

	focus = {
		id = ITA_spanish_italian_alliance
		icon = GFX_focus_intervention_spain_nationalists
		prerequisite = { focus = ITA_corpo_di_truppe_volontarie }
		prerequisite = { focus = ITA_italy_first }
		mutually_exclusive = { focus = ITA_demand_balearic_islands_bba }
		x = -1
		y = 2
		relative_position_id = ITA_corpo_di_truppe_volontarie
		cost = 5

		bypass = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				any_other_country = {
					OR = {
						tag = SPA
						tag = SPB
					}
					is_in_faction_with = ROOT
				}
			}
			else = {
				any_country = {
					original_tag = SPR
					OR = {
						has_government = fascism
						has_government = neutrality
					}
					is_in_faction_with = ROOT
				}
			}
		}

		available = {
			is_in_faction = yes
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				any_other_country = {
					OR = {
						tag = SPA
						tag = SPB
					}
					has_civil_war = no
					NOT = { has_war_with = ROOT }
					is_in_faction = no
				}
			}
			else = {
				any_country = {
					original_tag = SPR
					OR = {
						has_government = fascism
						has_government = neutrality
					}
					has_civil_war = no
					NOT = { has_war_with = ROOT }
					is_in_faction = no
				}
			}

			FRA = {
				OR = {
					NOT = { country_exists = THIS }
					has_capitulated = yes
					has_government = fascism
				}
			}			
		}		

		search_filters = {}

		completion_reward = {
			random_other_country = {
				limit = {
					original_tag = SPR
					has_government = fascism
				}
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				add_ideas = fascist_influence 
				country_event = { id = generic.5 }           
			}
		}
	}

	focus = {
		id = ITA_demand_balearic_islands_bba
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = ITA_corpo_di_truppe_volontarie }
		mutually_exclusive = { focus = ITA_spanish_italian_alliance }
		x = 1
		y = 2
		relative_position_id = ITA_corpo_di_truppe_volontarie
		cost = 5
		available = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_war = no
					owns_state = 177
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = {
					has_war = no
					owns_state = 177
				}
			}
			is_puppet = no
		}
		cancel = {
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				any_other_country = {
					original_tag = SPR
					has_government = fascism
					has_war_with = ROOT
					owns_state = 177
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				has_war_with = ROOT
				owns_state = 177
			}
		}

		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			random_other_country = {
				limit = {
					owns_state = 177
				}
				country_event = { id = italy.9 }
			}
		}
	}

	focus = {
		id = ITA_befriend_portugal
		icon = GFX_focus_generic_befriend_portugal
		prerequisite = { focus = ITA_spanish_italian_alliance focus = ITA_demand_balearic_islands_bba }

		x = 1
		y = 1
		relative_position_id = ITA_spanish_italian_alliance
		cost = 5
		available = {
			is_in_faction = yes
			country_exists = POR
			NOT = {
				has_war_with = POR
			}
		}

		search_filters = {}

		completion_reward = {
			POR = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.5 }
			}
		}
	}
}


