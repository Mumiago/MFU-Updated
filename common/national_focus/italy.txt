### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}
### search_filters = {FOCUS_FILTER_SOV_POLITICAL_PARANOIA}
### search_filters = {FOCUS_FILTER_PROPAGANDA}
### search_filters = {FOCUS_FILTER_ARMY_XP}
### search_filters = {FOCUS_FILTER_NAVY_XP}
### search_filters = {FOCUS_FILTER_AIR_XP}
### search_filters = {FOCUS_FILTER_ITA_MISSIOLINI}
### search_filters = {FOCUS_FILTER_BALANCE_OF_POWER}
# Reminder that focus filters prio has to be handled in the generic focus file :)



focus_tree = {
	id = italian_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = ITA
		}
	}
	
	default = no

	continuous_focus_position = { x = 500 y = 1300 }

	initial_show_position = {
		x = 0
		y = 0
	}



	focus = {
		id = ITA_march_of_the_iron_will
		icon = GFX_focus_ITA_aerial_legion
		mutually_exclusive = { focus = ITA_victory_by_any_means }
		relative_position_id = ITA_victoryinETH
		x = 12
		y = -1

		cost = 5

		bypass = {
		}

		available = {
			has_war_with = ETH
		}

		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			air_experience = 40
		}
	}

	focus = {
		id = ITA_victoryinETH
		icon = GFX_focus_ITA_bold_fascism
		prerequisite = { focus = ITA_march_of_the_iron_will }

		x = 10
		y = 1

		cost = 5

		bypass = {
		}

		available = {
		OR = {
				owns_state = 271
				ETH = { is_puppet_of = ITA }
				ETH = { is_ai = no }
			}
		}

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {

			add_popularity = { ideology = fascism popularity = 0.05 }
			add_war_support = 0.1
			add_stability = 0.2
			add_political_power = 150
			add_ideas = impero_di_argilla

			country_event = { hours = 6 id = news.347 }
		}
	}

	focus = {
		id = ITA_Hitler_visits_Rome
		icon = GFX_goal_ita_pact_of_steel
		prerequisite = { focus = ITA_victoryinETH }
		relative_position_id = ITA_victoryinETH
		x = -2
		y = 1
		cost = 2
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		bypass = {
			
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 2 }
					add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
			}
			ITA = {
				add_ideas = ITA_iron_alliance
			}
			GER = {
				add_ideas = GER_iron_alliance
			}
		}
	}

	focus = {
		id = ITA_aid_the_caudillo
		icon = GFX_focus_intervention_spain_nationalists
		prerequisite = { focus = ITA_Hitler_visits_Rome }
		mutually_exclusive = { focus = ITA_force_a_nationalist_victory }
		x = -1
		y = 1
		relative_position_id = ITA_Hitler_visits_Rome
		cost = 5
		ai_will_do = {
			factor = 10
		}


		icon = GFX_FRA_token_support

		available = {
			SPR = {
				has_civil_war = yes 
			}
			ITA = {
				has_equipment = {
					infantry_equipment > 4999
				}
			}
		}

		available_if_capitulated = yes	
		
		completion_reward = {
			army_experience = 15 
			air_experience = 15

			ITA = {
				add_equipment_to_stockpile = { type = infantry_equipment amount = -5000 producer = ITA }
			}
			if = {
				limit = {
					SPR = { 
						OR = { 
							has_government = fascism 
							has_government = neutrality 
						}
					}	
				}			
				SPR = {
					add_manpower = 100000
					add_equipment_to_stockpile = { type = infantry_equipment amount = 5000 producer = ITA }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 150 producer = ITA }
					add_equipment_to_stockpile = { type = radio_equipment_1 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = motorized_equipment amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = horse_equipment amount = 500 producer = ITA }
					add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = fighter_equipment_1934 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = CAS_equipment_1935 amount = 50 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1934 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1936 amount = 100 producer = ITA }
				}
			}
			else_if = {
				D01 = {
					add_manpower = 100000
					add_equipment_to_stockpile = { type = infantry_equipment amount = 5000 producer = ITA }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 150 producer = ITA }
					add_equipment_to_stockpile = { type = radio_equipment_1 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = motorized_equipment amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = horse_equipment amount = 500 producer = ITA }
					add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = fighter_equipment_1934 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = CAS_equipment_1935 amount = 50 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1934 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1936 amount = 100 producer = ITA }
				}
			}
		}
	}

	focus = {
		id = ITA_force_a_nationalist_victory
		icon = GFX_FRA_support_spain
		prerequisite = { focus = ITA_Hitler_visits_Rome  }
		mutually_exclusive = { focus = ITA_aid_the_caudillo }
		x = 1
		y = 1
		relative_position_id = ITA_Hitler_visits_Rome
		cost = 5
		available = {
			SPR = {
				has_civil_war = yes 
			}
			ITA = {
				has_equipment = {
					infantry_equipment > 7499
				}
			}
		}
		available_if_capitulated = yes	
		
		completion_reward = {
			army_experience = 30 
			air_experience = 30
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = SPR
						has_government = fascism
					}
					add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				SPA = { add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war } }
			}

			add_timed_idea = {
				idea = ITA_aviazione_legionaria
				days = 365
			}

			custom_effect_tooltip = ITA_aviazione_legionaria_tt
			hidden_effect = {
				if ={
					limit = {
						has_dlc = "By Blood Alone"
					}
					load_oob = "ITA_aviazione_legionaria_bba"
				}
				else = {
					load_oob = "ITA_aviazione_legionaria_legacy"
				}
			}
			ITA = {
				add_equipment_to_stockpile = { type = infantry_equipment amount = -7500 producer = ITA }
			}
			if = {
				limit = {
					SPR = { 
						OR = { 
							has_government = fascism 
							has_government = neutrality 
						}
					}	
				}			
				SPR = {
					add_manpower = 100000
					add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 producer = ITA }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 250 producer = ITA }
					add_equipment_to_stockpile = { type = radio_equipment_1 amount = 150 producer = ITA }
					add_equipment_to_stockpile = { type = motorized_equipment amount = 150 producer = ITA }
					add_equipment_to_stockpile = { type = horse_equipment amount = 750 producer = ITA }
					add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 200 producer = ITA }
					add_equipment_to_stockpile = { type = fighter_equipment_1934 amount = 200 producer = ITA }
					add_equipment_to_stockpile = { type = CAS_equipment_1935 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1934 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1936 amount = 200 producer = ITA }
				}
			}
			else_if = {
				D01 = {
					add_manpower = 100000
					add_equipment_to_stockpile = { type = infantry_equipment amount = 7500 producer = ITA }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 250 producer = ITA }
					add_equipment_to_stockpile = { type = radio_equipment_1 amount = 150 producer = ITA }
					add_equipment_to_stockpile = { type = motorized_equipment amount = 150 producer = ITA }
					add_equipment_to_stockpile = { type = horse_equipment amount = 750 producer = ITA }
					add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 200 producer = ITA }
					add_equipment_to_stockpile = { type = fighter_equipment_1934 amount = 200 producer = ITA }
					add_equipment_to_stockpile = { type = CAS_equipment_1935 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1934 amount = 100 producer = ITA }
					add_equipment_to_stockpile = { type = light_tank_chassis_1936 amount = 200 producer = ITA }
				}
			}
			
		}
	}
	focus = {
		id = ITA_pact_of_steel
		icon = GFX_focus_ITA_pact_of_steel
		prerequisite = { focus = ITA_force_a_nationalist_victory focus = ITA_aid_the_caudillo }
		relative_position_id = ITA_Hitler_visits_Rome
		available = {
			has_government = fascism
			NOT = { has_war_with = GER }
			GER = { 
				has_government = fascism 
				country_exists = GER
			}
		}
		x = 0
		y = 2
		cost = 2.2
		ai_will_do = {
			factor = 100

			modifier = {
				factor = 0.5
				ai_irrationality > 20
			}

			modifier = {
				factor = 0.5
				ai_irrationality > 25
			}

			modifier = {
				factor = 0.1
				ai_irrationality > 30
			}
		}
		completion_reward = {
			add_resource = {
				type = steel
				amount = 15
				state = 159
			}
			add_resource = {
				type = chromium
				amount = 10
				state = 159
			}
			GER = {
				add_opinion_modifier = { target = ITA modifier = pact_of_steel_opinion }
			}
			GER = {
				add_opinion_modifier = { target = SWE modifier = pact_of_steel_opinion }
			}
			ITA = {
				add_opinion_modifier = { target = GER modifier = pact_of_steel_opinion }
			}
			ITA = {
				add_opinion_modifier = { target = SWE modifier = pact_of_steel_opinion }
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.184 }
			}
		}
	}

	focus = {
		id = ITA_culto_del_duce
		icon = GFX_focus_ITA_muss_greatness
		prerequisite = { focus = ITA_victoryinETH }

		allow_branch = {
		}

		x = 0
		y = 1
		relative_position_id = ITA_victoryinETH
		cost = 2.9
		available = {
		}

		search_filters = {FOCUS_FILTER_STABILITY FOCUS_FILTER_BALANCE_OF_POWER}

		completion_reward = {
			ITA_bop_low_increase_effect = yes
			add_stability = 0.1 
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_giuseppe_bottai
		}
	}
	focus = {
		id = ITA_Minculpop
		icon = GFX_goal_ITA_ministero_cultura_popolare
		prerequisite = { focus = ITA_victoryinETH }
		relative_position_id = ITA_victoryinETH
		x = 2
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		bypass = {
			
		}

		completion_reward = {
			add_political_power = 50
			add_popularity = { ideology = fascism popularity = 0.05 }
			add_war_support = 0.1

			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro

			add_to_variable = {
				var = ITA_re_conscription_factor
				value = 0.05
				tooltip = recruitable_population_factor_tooltip
			}
 
			custom_effect_tooltip = ITA_OAK_modify_regio_esercito_dynamic_modifier_ns_intro

			add_to_variable = {
				var = army_morale_factor
				value = 0.05
				tooltip = army_morale_factor_tooltip
			}
			custom_effect_tooltip = ITA_bop_unlock_decisions

			unlock_decision_tooltip = ITA_prioritize_machine_tools_for_construction
			unlock_decision_tooltip = ITA_prioritize_machine_tools_for_military
			unlock_decision_tooltip = ITA_convert_industrial_complexes
			unlock_decision_tooltip = ITA_convert_military_complexes
			unlock_decision_tooltip = ITA_war_building_slot
		}
	}	

	focus = {
		id = ITA_la_battaglia_del_grano
		icon = GFX_focus_SOV_breadbasket_of_the_union
		prerequisite = { focus = ITA_Minculpop }
		mutually_exclusive = { focus = ITA_la_battaglia_per_la_terra }
		x = -1
		y = 1
		relative_position_id = ITA_Minculpop
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = ITA_battaglia_del_grano days = 730 }


		}
	}

	focus = {
		id = ITA_la_battaglia_per_la_terra
		icon = GFX_focus_generic_land_reclamation
		prerequisite = { focus = ITA_Minculpop }
		mutually_exclusive = { focus = ITA_la_battaglia_del_grano }
		x = 1
		y = 1
		relative_position_id = ITA_Minculpop
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL}

		completion_reward = {
			if = { #Latium
				limit = {
					2 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				2 = {
					add_extra_state_shared_building_slots = 2
				}
			}
			if = { #Campania
				limit = {
					117 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				117 = {
					add_extra_state_shared_building_slots = 2
				}
			}

			if = { #Tuscany
				limit = {
					162 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						} 
					}
				}
				162 = {
					add_extra_state_shared_building_slots = 2
				}
			}
			add_timed_idea = { idea = ITA_battaglia_per_la_terra days = 730 }


		}
	}	
	focus = {
		id = ITA_trains_on_time
		icon = GFX_focus_ITA_muss_trains
		prerequisite = { focus = ITA_la_battaglia_per_la_terra focus = ITA_la_battaglia_del_grano }
		relative_position_id = ITA_Minculpop
		x = 0
		y = 2
		cost = 5
		ai_will_do = {
			factor = 50
		}

		available_if_capitulated = yes

		completion_reward = {
			add_stability = 0.05
			add_equipment_to_stockpile = { 
				type = train_equipment 
				amount = 100 
				producer = ITA 
			} 
			add_timed_idea = { 
				idea = trains_on_time
				days = 365
			}
	 	}
	}





	focus = {
		id = ITA_by_blood_alone
		icon = GFX_focus_ITA_by_blood_alone
		prerequisite = { focus = ITA_trains_on_time }
		prerequisite = { focus = ITA_culto_del_duce }
		prerequisite = { focus = ITA_pact_of_steel }

		x = -2
		y = 1
		relative_position_id = ITA_trains_on_time
		cost = 5
		available = {
		}

		available = {
			hidden_trigger = {
				country_exists = EFR
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			hidden_effect = {
				sound_effect = sp_ita_waronallies
			}
			custom_effect_tooltip = salo_warning_2
			custom_effect_tooltip = salo_warning

			add_war_support = 0.05

			swap_ideas = { 
				remove_idea = vittoria_mutilata
				add_idea = parola_di_ordine_vincere
			}	

			add_ideas = ITA_rules_the_waves
			custom_effect_tooltip = salo_warning_3

			ITA = {
				declare_war_on = {
					target = ENG
					type = annex_everything
				}
			}	
			hidden_effect = {
				ITA = { 
					add_to_war = { 
						targeted_alliance = GER
						enemy = ENG
					}
				}
				ETH = { 
					add_to_war = { 
						targeted_alliance = GER
						enemy = ENG
					}
				}
				if = {
					limit = {
						country_exists = SAF
					}
					SAF = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						country_exists = AST
					}
					AST = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						IRE = {
							is_in_faction_with = ENG
						}	
					}	
					IRE = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						MEX = {
							is_in_faction_with = ENG
						}	
					}	
					MEX = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
				}
				if = {
					limit = {
						BRA = {
							is_in_faction_with = ENG
						}
					}
					BRA = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
					CAN = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
					RAJ = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
					FRA = { 
						add_to_war = { 
							targeted_alliance = ENG 
							enemy = ITA 
						}
					}
					if = {
						limit = {
							country_exists = NZL
						}
						NZL = { 
							add_to_war = { 
								targeted_alliance = ENG 
								enemy = ITA 
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = ITA_subdue_the_sentinels
		icon = GFX_focus_ITA_subdue_the_sentinels
		cost = 5

		x = 0
		y = 5
		relative_position_id = ITA_strengthen_the_regime
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
		}
	}

	focus = {
		id = ITA_german_military_cooperation
		icon = GFX_focus_ger_oppose_hitler
		prerequisite = { focus = ITA_pact_of_steel }
		prerequisite = { focus = ITA_by_blood_alone }

		x = 0
		y = 2
		relative_position_id = ITA_pact_of_steel
		cost = 10
		available = {
			NOT = { has_war_with = GER }
			is_in_faction_with = GER 
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			GER = {
				country_event = { id = italy.5 days = 1 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_tech_bonus = {
					name = ITA_treaty_with_germany
					bonus = 0.5
					uses = 1
					category = support_tech
				}
				add_tech_bonus = {
					name = armor_bonus
					bonus = 0.5
					uses = 1
					category = cat_heavy_armor
					category = cat_medium_armor
					category = cat_light_armor
					name = ITA_treaty_with_germany
				}
			}
			custom_effect_tooltip = ITA_OAK_german_cooperation_ra_tt
			custom_effect_tooltip = ITA_OAK_german_cooperation_re_tt
			
			add_to_variable = { ITA_re_land_doctrine_cost_factor = 0.1 }

			add_to_variable = { ITA_ra_air_doctrine_cost_factor = 0.1 }

			add_research_slot = 1
		}
	}
	focus = {
		id = ITA_learn_from_the_luftwaffe
		icon = GFX_focus_generic_long_range_aircraft
		prerequisite = { focus = ITA_german_military_cooperation }
		x = 2
		y = 1
		relative_position_id = ITA_german_military_cooperation
		
		cost = 5

		available = {
			country_exists = EFR 
			OR = {
				has_tech = fighter_1940
				has_tech = heavy_fighter_1940
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			
			custom_effect_tooltip = ITA_learn_from_the_luftwaffe_modifier_add_tt

			if = { 
				limit = {
					NOT = {
						has_tech = fighter_1940
					}
				}
				custom_effect_tooltip = ITA_fighter_get 
			}
			if = { 
				limit = {
					NOT = {
						has_tech = heavy_fighter_1940
					}
				}
				custom_effect_tooltip = ITA_heavy_fighter_get 
			}
			if = { 
				limit = {
					has_tech = fighter_1940
				}
				add_equipment_to_stockpile = { type = small_plane_airframe  amount = 300 producer = ITA }
			}
			if = { 
				limit = {
					has_tech = heavy_fighter_1940
					
				}
				add_equipment_to_stockpile = { type = medium_plane_fighter_airframe  amount = 200 producer = ITA }
			}
			hidden_effect = {
				add_ideas = ITA_fighter_production
			}
			add_tech_bonus = {
				name = air_CAS
				bonus = 0.5
				uses = 2
					category = cas_bomber
			}
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			air_experience = 25	
		}
	}
	focus = {
		id = ITA_learn_from_wehrmacht
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = ITA_german_military_cooperation }
		x = -2
		y = 1
		relative_position_id = ITA_german_military_cooperation
		cost = 2.2

		ai_will_do = {
			factor = 30
		}
  
		bypass = {

		}
		available_if_capitulated = no

		available = {
		  
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 161 }
					add_extra_state_shared_building_slots = 3 
						add_building_construction = {
							type = arms_factory
							level = 3 
							instant_build = yes
						}
			}
			custom_effect_tooltip = ITA_Divisione_corazzata_unit_tt
			hidden_effect = {
				if = {
					limit = {
						has_tech = ita_1940_heavy_tank_chassis
					}	
					division_template = {
						name = "Divisione corazzata"
						division_names_group = ITA_ARM_01
						priority = 2

						regiments = {
							heavy_armor = { x = 0 y = 0 }
							heavy_armor = { x = 0 y = 1 }
							heavy_armor = { x = 0 y = 2 }
							heavy_armor = { x = 0 y = 3 }

							heavy_armor = { x = 1 y = 0 }
							heavy_armor = { x = 1 y = 1 }
							heavy_armor = { x = 1 y = 2 }
							heavy_armor = { x = 1 y = 3 }


							motorized = { x = 2 y = 0 }
							motorized = { x = 2 y = 1 }
							armored_car = { x = 2 y = 2 }

							motorized = { x = 3 y = 0 }
							motorized = { x = 3 y = 1 }
							motorized = { x = 3 y = 2 }
							motorized = { x = 3 y = 3 }
						}

						support = {
							DIV_HQ = { x = 0 y = 0 }
							recon = { x = 0 y = 1 }
							engineer = { x = 0 y = 2 }
							maintenance_company = { x = 1 y = 0 }
							logistics_company = { x = 1 y = 1 }
						}
					}
					every_state = {
						limit = { state = 2 }

						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}   
					}	
				}
				else_if = {
					limit = {
						has_tech = ita_1940_medium_tank_chassis
					}

					division_template = {
						name = "Divisione corazzata"
						division_names_group = ITA_ARM_01
						priority = 2

						regiments = {
							medium_armor = { x = 0 y = 0 }
							medium_armor = { x = 0 y = 1 }
							medium_armor = { x = 0 y = 2 }
							medium_armor = { x = 0 y = 3 }

							medium_armor = { x = 1 y = 0 }
							medium_armor = { x = 1 y = 1 }
							medium_armor = { x = 1 y = 2 }
							medium_armor = { x = 1 y = 3 }


							motorized = { x = 2 y = 0 }
							motorized = { x = 2 y = 1 }
							armored_car = { x = 2 y = 2 }

							motorized = { x = 3 y = 0 }
							motorized = { x = 3 y = 1 }
							motorized = { x = 3 y = 2 }
							motorized = { x = 3 y = 3 }
						}

						support = {
							DIV_HQ = { x = 0 y = 0 }
							recon = { x = 0 y = 1 }
							engineer = { x = 0 y = 2 }
							maintenance_company = { x = 1 y = 0 }
							logistics_company = { x = 1 y = 1 }
						}
					}
					every_state = {
						limit = { state = 2 }

						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}   
						create_unit = {
							division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
							owner = ITA
						}		
					}	
				}
				else_if = {

				division_template = {
				name = "Divisione corazzata"
				division_names_group = ITA_ARM_01
				priority = 2

				regiments = {
				light_armor = { x = 0 y = 0 }
				light_armor = { x = 0 y = 1 }
				light_armor = { x = 0 y = 2 }
				light_armor = { x = 0 y = 3 }

				light_armor = { x = 1 y = 0 }
				light_armor = { x = 1 y = 1 }
				light_armor = { x = 1 y = 2 }
				light_armor = { x = 1 y = 3 }


				motorized = { x = 2 y = 0 }
				motorized = { x = 2 y = 1 }
				armored_car = { x = 2 y = 2 }

				motorized = { x = 3 y = 0 }
				motorized = { x = 3 y = 1 }
				motorized = { x = 3 y = 2 }
				motorized = { x = 3 y = 3 }
				}

				support = {
				DIV_HQ = { x = 0 y = 0 }
				recon = { x = 0 y = 1 }
				engineer = { x = 0 y = 2 }
				maintenance_company = { x = 1 y = 0 }
				logistics_company = { x = 1 y = 1 }
				}
				}
				every_state = {
					limit = { state = 2 }
					create_unit = {
						division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}   
					create_unit = {
						division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}
					create_unit = {
						division = "division_names_group = \"ITA_ARM_01\" division_template = \"Divisione corazzata\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}		
				}	
			}
			}	
		}
	}
	focus = {
		id = ITA_afrikakorps
		icon = GFX_GER_rommel_time_icon
		prerequisite = { focus = ITA_german_military_cooperation }

		x = 0
		y = 1
		relative_position_id = ITA_german_military_cooperation
		cost = 5
		available = {
			OR = {
				ITA = { controls_state= 663}
				ITA = { controls_state= 451}
				ITA = { controls_state= 450}
				ITA = { controls_state= 448}
				OR = {
					ITA = {
						controls_state = 458
					}
					any_other_country = {
						is_in_faction_with = ITA
						controls_state = 458
					}
				}
			}
			date > 1942.01.01
		}
		
		search_filters = {FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_timed_idea = {
				idea = ITA_afrikakorps_idea
				days = 60
			}
			GER = {
				unlock_decision_tooltip = GER_send_rommel
			}
			create_corps_commander = {
				name ="Albert Kesselring"
				picture = "Portrait_Germany_Albert_Kesselring.dds"
				traits={ trait_cautious logistics_wizard camouflage_expert infantry_leader }
				skill=4
				attack_skill=3
				defense_skill=6
				planning_skill=4
				logistics_skill=4
				legacy_id=32
			}	
			GER = {
				remove_unit_leader = 32
			}
			custom_effect_tooltip = GER_afrikakorps_tt
			if = {
				limit = { 
				GER = { 
					has_tech = ger_CAS_1935
					NOT = { has_tech = ger_CAS_1937	}
				}
			}
				add_equipment_to_stockpile = { type = CAS_equipment_1935 amount = 200 producer = GER }   
			}
			if = {
				limit = { 
				GER = { 
					has_tech = ger_CAS_1937
					NOT = { has_tech = ger_CAS_1939	}
				}
			}
				add_equipment_to_stockpile = { type = CAS_equipment_1937 amount = 200 producer = GER }   
			}
			if = {
				limit = { 
				GER = { 
					has_tech = ger_CAS_1939
				}
			}	
				add_equipment_to_stockpile = { type = CAS_equipment_1939 amount = 200 producer = GER }   
			}
			hidden_effect = {
				GER = {
					if = {
						limit = {
							NOT = {
								has_tech = ger_1940_medium_tank_chassis
							}
						}
						set_technology = {
							ger_1940_medium_tank_chassis = 1
						}
					}
					create_equipment_variant = {
						name = "Panzer III Ausf.J"
						type = medium_tank_chassis_1940
						parent_version = 0
						modules = {
						main_armament_slot = tank_high_velocity_cannon
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_torsion_bar_suspension
						armor_type_slot = tank_welded_armor
						armor_sloping_slot = unsloped_armor
						engine_type_slot = tank_gasoline_engine
						radio_slot = tank_radio_2
						special_type_slot_1 = basket
						special_type_slot_2 = cupola
						}
						upgrades = {
							tank_nsb_engine_upgrade = 8
							tank_nsb_armor_upgrade = 6
						}
						icon = "gfx/interface/technologies/land/ger/3long.tga"
				
					}
					if = {
						limit = {
							NOT = {
								has_tech = ger_1939_medium_tank_chassis
							}
						}
						set_technology = {
							ger_1939_medium_tank_chassis = 1
						}
					}
					create_equipment_variant = {
						name = "Panzer IV Ausf.F2"
						type = medium_tank_chassis_1946
						parent_version = 0
						modules = {
						main_armament_slot = tank_medium_cannon_2
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						armor_sloping_slot = unsloped_armor
						engine_type_slot = tank_gasoline_engine
						radio_slot = tank_radio_1
						special_type_slot_1 = basket
						special_type_slot_2 = extra_ammo_storage
						special_type_slot_3 = cupola
						}
						upgrades = {
							tank_nsb_engine_upgrade = 5
							tank_nsb_armor_upgrade = 3
						}
						icon = "gfx/interface/technologies/land/ger/4j.tga"
						
					}
				}
				add_equipment_to_stockpile = { type = medium_tank_chassis_1940 amount = 300 producer = GER variant_name = "Panzer III Ausf.J" }
				add_equipment_to_stockpile = { type = medium_tank_chassis_1946 amount = 150 producer = GER variant_name = "Panzer IV Ausf.F2" }
				division_template = {
					name = "Italian Afrikakorps"	
					priority = 2	
					division_names_group = ITA_INF_01 
					regiments = {
						truck_infantry = { x = 0 y = 0 }
						truck_infantry = { x = 0 y = 1 }
						truck_infantry = { x = 0 y = 2 }
						truck_infantry = { x = 0 y = 3 }

						truck_infantry = { x = 1 y = 0 }
						truck_infantry = { x = 1 y = 1 }
						truck_infantry = { x = 1 y = 2 }
						truck_infantry = { x = 1 y = 3 }

						truck_infantry = { x = 2 y = 0 } 

						artillery_brigade = { x = 3 y = 0 }
						artillery_brigade = { x = 3 y = 1 }
						artillery_brigade = { x = 3 y = 2 }
						
						artillery_brigade = { x = 3 y = 3 }

						anti_tank_brigade = { x = 4 y = 0 }
						anti_air = { x = 4 y = 1 }
					}
					support = {
						DIV_HQ = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						recon = { x = 0 y = 2 }
						maintenance_company = { x = 1 y = 0 }
						logistics_company = { x = 1 y = 1 }
						field_hospital = { x = 1 y = 2 }
					}
				}
				every_state = {
					limit = { state = 458 }
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					} 
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}	
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					} 
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}   
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
						}  
					create_unit = {
						division = "division_template = \"Deutsches Afrikakorps\" start_experience_factor = 0.5 start_equipment_factor = 1" 
						owner = ITA
					}
				}	
			}
		}
	}

	focus = {
		id = ITA_ARMIR
		icon = GFX_goal_generic_secret_weapon
		prerequisite = {  focus = ITA_learn_from_the_luftwaffe focus = ITA_learn_from_wehrmacht}

		x = 0
		y = 2
		relative_position_id = ITA_german_military_cooperation
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			army_experience = 30

			custom_effect_tooltip = ITA_OAK_armir_re_tt

			add_to_variable = { ITA_re_special_forces_out_of_supply_factor = 0.05 }
			add_to_variable = { ITA_re_command_power_gain_mult = 0.15 }
			add_to_variable = { ITA_re_army_morale_factor = 0.05 }


			if = { 
				limit = {
					NOT = {
						has_tech = fighter_1940
					}
				}
				custom_effect_tooltip = ITA_fighter_get 
			}
			if = { 
				limit = {
					NOT = {
						has_tech = heavy_fighter_1940
					}
				}
				custom_effect_tooltip = ITA_heavy_fighter_get 
			}
			if = { 
				limit = {
					has_tech = fighter_1940
				}
				add_equipment_to_stockpile = { type = small_plane_airframe  amount = 300 producer = ITA }
			}
			if = { 
				limit = {
					has_tech = heavy_fighter_1940
					
				}
				add_equipment_to_stockpile = { type = medium_plane_fighter_airframe  amount = 200 producer = ITA }
			}
		
			add_equipment_to_stockpile = { type = special_equipment_1  amount = 600 producer = ITA }
		}
	}



########EMPIRE

	focus = {
		id = ITA_ministry_of_italian_africa
		icon = GFX_focus_ITA_ministry_of_italian_africa
		prerequisite = { focus = ITA_victoryinETH}

		x = 8
		y = 1
		relative_position_id = ITA_victoryinETH
		cost = 5
		available = {
			OR = {
				any_owned_state = { is_on_continent = africa }
				any_subject_country = { capital_scope = { is_on_continent = africa } }
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 75
			custom_effect_tooltip = ITA_ministry_of_italian_africa_occupation_law_tt
			show_ideas_tooltip = ITA_fake_colonial_police_law

			add_resource = {
				type = rubber
				amount = 16
				state = 271
			}

			hidden_effect = {
				country_event = BBA_italy_colonial_management.1
			}
		}
	}

	focus = {
		id = ITA_massive_colonial_investments
		icon = GFX_focus_generic_develop_ethiopia
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = 0
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 5
		available = {
			OR = {
				any_controlled_state = {
					is_core_of = ETH
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = ETH
						is_fully_controlled_by = PREV
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
		    add_research_slot = 1
			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_iri_production_speed_infrastructure_factor 
				value = 0.025 
				tooltip = infrastructure_build_speed_factor_tooltip
			}
			add_to_variable = { 
				var = ITA_iri_production_speed_dockyard_factor 
				value = 0.025 
				tooltip = dockyard_build_speed_factor_tooltip
			}
			add_to_variable = { 
				var = ITA_iri_production_speed_naval_base_factor 
				value = 0.025 
				tooltip = naval_base_build_speed_factor_tooltip
			}
			add_to_variable = { 
				var = ITA_iri_production_speed_buildings_factor 
				value = 0.025 
				tooltip = buildings_build_speed_factor_tooltip
			}

			custom_effect_tooltip = ITA_modify_military_industry_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_iri_production_speed_naval_base_factor 
				value = 0.025 
				tooltip = industrial_capacity_factory_tooltip
			}
			add_to_variable = { 
				var = ITA_iri_production_speed_buildings_factor 
				value = 0.025 
				tooltip = industrial_dockyard_capacity_factory_tooltip
			}
			custom_effect_tooltip = ITA_develop_ethiopia_tt

			if = {
				limit = {
					271 = { #SHEWA (Addis Ababa)
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				271 = { #SHEWA (Addis Ababa)
					set_state_flag = ITA_improved_infrastructure_in_state_flag
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 835 } #HARARGHE
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						prioritize = { 835 } #HARARGHE
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			if = {
				limit = {
					843 = { #WELLO
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				843 = { #WELLO
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 837 } #SIDAMO
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 837 } #SIDAMO
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			if = {
				limit = {
					842 = { #TIGRAY
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				842 = { #TIGRAY
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 841 } #BEGEMDER
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #BEGEMDER
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}


			448 = { #TRIPOLI
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = ITA_improved_infrastructure_in_state_flag
			}
			450 = { #BENGHALI
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = ITA_improved_infrastructure_in_state_flag
			}
			451 = { #DERNA
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
				set_state_flag = ITA_improved_infrastructure_in_state_flag
			}


			550 = { #ERITREA
				set_state_flag = ITA_improved_infrastructure_in_state_flag
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}


			559 = { #SOMALILAND
				set_state_flag = ITA_improved_infrastructure_in_state_flag
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			if = {
				limit = {
					844 = { #JUBALAND
						OR = {
							is_fully_controlled_by = ROOT
							any_other_country = {
								is_subject_of = ROOT
								has_full_control_of_state = 559
							}
						}
					}
				}
				844 = { #JUBALAND
					set_state_flag = ITA_improved_infrastructure_in_state_flag
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
		}
	}
	focus = {
		id = ITA_immigration_ethiopia
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = ITA_massive_colonial_investments  }

		x = 2
		y = 1
		relative_position_id = ITA_massive_colonial_investments
		cost = 7.145
		ai_will_do = {
			factor = 10
		}
		available = { 
			271 = {
				CONTROLLER = {
					OR = {
						tag = ITA
						is_subject_of = ITA
					}
				}
			}
		}

		completion_reward = {
			swap_ideas = { 
				remove_idea = impero_di_argilla
				add_idea = impero_di_argilla_2
			}	
			271 = {
				add_compliance = 15
			}
			550 = {
				add_compliance = 15
			}
			559 = {
				add_compliance = 15
			}
		}		
	}
	focus = {
		id = ITA_spirito_fascista
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = ITA_immigration_ethiopia  }

		x = 0
		y = 1
		relative_position_id = ITA_immigration_ethiopia
		cost = 2.2
		ai_will_do = {
			factor = 10
		}
		available = { 
			271 = {
				CONTROLLER = {
					OR = {
						tag = ITA
						is_subject_of = ITA
					}
				}
			}
		}

		bypass = {
			
		}

		completion_reward = {
			271 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
						}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_compliance = 10
			}
			550 = {
				add_compliance = 10
			}
			559 = {
				add_compliance = 10
			}
		}		
	}
	focus = {
		id = ITA_empire_of_work
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = ITA_massive_colonial_investments  }

		x = 0
		y = 1
		relative_position_id = ITA_massive_colonial_investments
		cost = 7.145
		ai_will_do = {
			factor = 10
		}
		available = { 
			271 = {
				CONTROLLER = {
					OR = {
						tag = ITA
						is_subject_of = ITA
					}
				}
			}
		}

		completion_reward = {
			swap_ideas = { 
				remove_idea = impero_di_argilla_2
				add_idea = impero_di_argilla_3
			}	
			271 = {
				add_compliance = 20
			}
			550 = {
				add_compliance = 20
			}
			559 = {
				add_compliance = 20
			}			
		}		
	}
	focus = {
		id = ITA_exploit_the_empire
		icon = GFX_goal_generic_construction
		prerequisite = { focus = ITA_empire_of_work  }

		x = 0
		y = 1
		relative_position_id = ITA_empire_of_work
		cost = 5
		available = {
         }
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			#Makes previous Colonial Police law hidden (Both old and new version need to cohexist so that the previous can fallback to the next one)
			set_country_flag = ITA_colonial_police_improved_flag

			custom_effect_tooltip = ITA_regional_development_occupation_law_tt


			every_state = {
				limit = {
					is_on_continent = africa
					is_controlled_by = ITA 
					NOT = {
						state = 273 
						state = 552 
						state = 767
					}
				}
				add_dynamic_modifier = {
					modifier = ITA_cooperatives_for_intensive_exploitation_dm
				}
				add_dynamic_modifier = {
					modifier = ITA_anti_colonialism_sentiment
				}
			}
			add_resource = {
				type = tungsten 
				amount = 10 
				state = 450 
			}
		}
	}

	focus = {
		id = ITA_import_oil_drilling_equipment
		icon = GFX_goal_ITA_fondo_nazionale_carburante
		prerequisite = { focus = ITA_exploit_the_empire }

		x = 1
		y = 1
		relative_position_id = ITA_exploit_the_empire
		cost = 5

		bypass = {
			662 = {
				has_state_flag = sirte_oil_developed
			}
		}

		available = {
		NOT= {ITA = { has_war_with = ENG }}
			662 = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_resource = {
				type = oil
				amount = 10
				state = 450
			}
			add_resource = {
				type = oil
				amount = 12
				state = 662
			}
			450 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = synthetic_rubber_refinery
					level = 2
					instant_build = yes
				}
			}	
		}
	}
	focus = {
		id = ITA_saiga
		prerequisite = { focus = ITA_exploit_the_empire }

		x = -1
		y = 1
		relative_position_id = ITA_exploit_the_empire
		cost = 4.4
		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_ardito_desio }

		available_if_capitulated = yes

		completion_reward = {
			add_resource = {
				type = rubber
				amount = 10
				state = 449
			}	
			add_resource = {
				type = rubber
				amount = 10
				state = 663
			}
			add_resource = {
				type = rubber
				amount = 10
				state = 448
			}
			add_resource = {
				type = rubber
				amount = 10
				state = 662
			}
			add_resource = {
				type = rubber
				amount = 10
				state = 450
			}
		}
	}
	focus = {
		id = ITA_via_balbia
		icon = GFX_focus_generic_improve_roads
		prerequisite = { focus = ITA_massive_colonial_investments}

		x = -2
		y = 1
		relative_position_id = ITA_massive_colonial_investments
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			448 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = rubber 
					amount = 4 
				}
				add_dynamic_modifier = { modifier = ITA_libyan_railway_modifier days = 730 scope = ITA }
			}
			449 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = rubber 
					amount = 4 
				}
				add_dynamic_modifier = { modifier = ITA_libyan_railway_modifier days = 730 scope = ITA }
			}
			450 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = rubber 
					amount = 4 
				}
				add_dynamic_modifier = { modifier = ITA_libyan_railway_modifier days = 730 scope = ITA }
			}
			451 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = rubber 
					amount = 4 
				}
				add_dynamic_modifier = { modifier = ITA_libyan_railway_modifier days = 730 scope = ITA }
			}
		}
	}

	focus = {
		id = ITA_via_della_vittoria
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = ITA_via_balbia }

		x = 0
		y = 1
		relative_position_id = ITA_via_balbia
		cost = 5
		available = {
			451 = { is_controlled_by_ROOT_or_ally = yes }
			452 = { is_controlled_by_ROOT_or_ally = yes }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			451 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_dynamic_modifier = {
					modifier = ITA_state_development_africa
					days = 180 
				}
				if = {
					limit = {
						has_resistance = yes
					}
					add_compliance = 5
				}
			}
			452 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_dynamic_modifier = {
					modifier = ITA_state_development_africa
					days = 180 
				}
				if = {
					limit = {
						has_resistance = yes
					}
					add_compliance = 5
				}
			}

			custom_effect_tooltip = ITA_via_della_vittoria_extra_states_tt

			#LIBYA
			if = {
				limit = {
					450 = { #BENGHASI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				450 = { #BENGHASI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					449 = { #EL AGHELIA
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				449 = { #EL AGHELIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					448 = { #TRIPOLI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				448 = { #TRIPOLI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#TUNISIA
			if = {
				limit = {
					665 = { #GABES
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				665 = { #GABES
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					458 = { #TUNISIA
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				458 = { #TUNISIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			#ALGERIA
			if = {
				limit = {
					460 = { #CONSTANTINE
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				460 = { #CONSTANTINE
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					459 = { #ALGIERS
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				459 = { #ALGIERS
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#MOROCCO
			if = {
				limit = {
					461 = { #CASABLANCA
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				461 = { #CASABLANCA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					290 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				290 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#EGYPT
			if = {
				limit = {
					447 = { #ALEXANDRIA
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				447 = { #ALEXANDRIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					446 = { #CAIRO
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				446 = { #CAIRO
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					453 = { #SINAI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				453 = { #SINAI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
		}
	}
	###################################################################################
	################AFRICA VICTORY + MORE  ############################################
	###################################################################################
	focus = {
		id = ITA_bend_the_bars
		icon = GFX_focus_ITA_bend_the_bars
		prerequisite = { focus = ITA_via_della_vittoria }
		prerequisite = { focus = ITA_by_blood_alone }
		mutually_exclusive = { focus = ITA_castello_di_sabbia }
		x = -4
		y = 1
		relative_position_id = ITA_via_della_vittoria
		cost = 5
		available = {

		ITA = {	controls_state = 115 }
		ITA = { controls_state = 448 }
		}


		completion_reward = {
			every_state = {
				limit = {
					state = 116
				}
				add_dynamic_modifier = { modifier = malta_offensive days = 90 }
			}
		}
	}

 	focus = { #Forts in Egypt 
 		id = ITA_castello_di_sabbia
 		icon = GFX_goal_generic_more_territorial_claims
 		prerequisite = { focus = ITA_via_della_vittoria }
		prerequisite = { focus = ITA_by_blood_alone }
		mutually_exclusive = { focus = ITA_bend_the_bars }
 		x = -2
 		y = 1
 		relative_position_id = ITA_via_della_vittoria
 		cost = 5
 		available = {
			447 = { is_controlled_by_ROOT_or_ally = yes }
			446 = { is_controlled_by_ROOT_or_ally = yes }
			452 = { is_controlled_by_ROOT_or_ally = yes }
			
 		}

 		search_filters = {}

 		completion_reward = {

			custom_effect_tooltip = ITA_forts_in_egypt_tt
			
			every_state = {
				limit = {
					OR = {
						state = 447 
						state = 446
						state = 452 
					}
				}
				add_building_construction = {
					type = bunker
					province = {
						all_provinces = yes
						limit_to_victory_point = yes
					}
					level = 3
					instant_build = yes
				}
			}
 		}
 	}

 	focus = {
 		id = ITA_victory_in_the_desert
 		icon = GFX_focus_ITA_victory_in_the_desert
 		prerequisite = { focus = ITA_castello_di_sabbia focus = ITA_bend_the_bars }
 		x = -1
 		y = 1
 		relative_position_id = ITA_castello_di_sabbia
 		cost = 5
 		available = {
			675 = { is_controlled_by_ROOT_or_ally = yes }
			291 = { is_controlled_by_ROOT_or_ally = yes }
			676 = { is_controlled_by_ROOT_or_ally = yes }
 		}

 		search_filters = {}

 		completion_reward = {
			build_railway = {
				path = { 4206 1086 7151 7001 1544 4440 1631 12413 12839 12046 2097 }
			}

			random_owned_controlled_state = {
				prioritize = { 2 }
				add_extra_state_shared_building_slots = 5 
				add_building_construction = {
					type = arms_factory
					level = 5 
					instant_build = yes 
				}
			}
 		}
 	}
 	focus = {
 		id = ITA_the_king_of_egypt 
 		icon = GFX_focus_generic_provoke_border_clashes
 		prerequisite = { focus = ITA_victory_in_the_desert }
 		x = 1
 		y = 1
 		relative_position_id = ITA_victory_in_the_desert
		mutually_exclusive = { focus = ITA_return_to_ethiopia }
 		cost = 5
 		available = {
				controls_state = 447 
				controls_state = 446 
			
 		}

 		search_filters = {}

 		completion_reward = {	

			show_unit_leaders_tooltip = ITA_gamel_abdel_nasser

			custom_effect_tooltip = ITA_modify_military_industry_dynamic_modifier_ns_intro

			add_to_variable = {
				var = ITA_military_industry_dm_industrial_capacity_factory
				value = 0.05 
				tooltip = industrial_capacity_factory_tooltip
			}
			add_to_variable = {
				var = ITA_military_industry_dm_industrial_capacity_factory
				value = 0.02 
				tooltip = production_factory_max_efficiency_tooltip
			}

			custom_effect_tooltip = ITA_the_king_of_egypt_tt

			if = {
				limit = {
					452 = { 
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				452 = { 
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 50
					}
				}
			}
			if = {
				limit = {
					447 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				447 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 50
					}
				}
			}

			#EGYPT
			if = {
				limit = {
					446 = { 
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				446 = { #ALEXANDRIA
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 50
					}
				}
			}
			if = {
				limit = {
					446 = { #CAIRO
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				446 = { #CAIRO
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					453 = { #SINAI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				453 = { #SINAI
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					add_dynamic_modifier = {
						modifier = ITA_state_development_africa
						days = 180 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					454 = { #SINAI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				454 = { #SINAI
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					455 = { #SINAI
						is_controlled_by_ROOT_or_ally = yes
					}
				}
				455 = { #SINAI
					add_extra_state_shared_building_slots = 1 
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes 
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
 		}
 	}

 	focus = {
 		id = ITA_return_to_ethiopia 
 		icon = GFX_focus_ITA_return_to_ethiopia
 		prerequisite = { focus = ITA_victory_in_the_desert }
 		x = -1
 		y = 1
 		relative_position_id = ITA_victory_in_the_desert
		mutually_exclusive = { focus = ITA_the_king_of_egypt }
 		cost = 5
 		available = {
			AND = {
				551 = { is_controlled_by_ROOT_or_ally = yes }
				812 = { is_controlled_by_ROOT_or_ally = yes }
				456 = { is_controlled_by_ROOT_or_ally = yes }
				457 = { is_controlled_by_ROOT_or_ally = yes }
				271 = { is_controlled_by_ROOT_or_ally = yes }
			}
 		}

 		search_filters = {}

 		completion_reward = {
			build_railway = {
				path = { 5010 5097 1984 12862 12802 12881 2046 7989 10745 10844 11999 1028 7073 12044 11974 7144 10031 1068 4055 3996 7011 }
			}

			every_controlled_state = {
				limit = {
					OR = {
						state = 551
						state = 812 
						state = 456
						state = 457 
						state = 271 
					}
				}
				add_compliance = 50 
			}

			random_owned_controlled_state = {
				prioritize = { 2 }
				add_extra_state_shared_building_slots = 5 
				add_building_construction = {
					type = arms_factory
					level = 5 
					instant_build = yes 
				}
			}
 		}
 	}
	focus = {
		id = ITA_viva_il_duce
		icon = GFX_focus_ger_assassinate_mussolini
		prerequisite = { focus = ITA_return_to_ethiopia focus = ITA_the_king_of_egypt }
		relative_position_id = ITA_victory_in_the_desert
		x = 0
		y = 2
		cost = 10
		ai_will_do = {
			factor = 10
		}
		available = {	
	   	 	AND = {
				OR = {
					NOT = {
						country_exists = YUG
					}	
					YUG = { has_capitulated = yes }
				}
				OR = {
					NOT = {
						country_exists = GRE
					}	
					GRE = { has_capitulated = yes }
				}
			}	
		}
		completion_reward = {
			swap_ideas = { 
				remove_idea = parola_di_ordine_vincere
				add_idea = parola_di_ordine_vincere_2
			}
		}
	}





#########ECONOMY
	focus = {
		id = ITA_avtarkia
		icon = GFX_goal_ITA_autarchia
		x = -9
		y = 1
		relative_position_id = ITA_victoryinETH
		prerequisite = { focus = ITA_victoryinETH }
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_iri_local_resources_factor 
				value = 0.05 
				tooltip = local_resources_factor_tooltip
			}
			add_to_variable = { 
				var = ITA_industry_consumer_goods_modifier 
				value = 0.01 
				tooltip = industry_consumer_goods_factor_tooltip
			}
			add_to_variable = { 
				var = ITA_political_power_gain_modifier 
				value = -0.15 
				tooltip = political_power_gain_modifier
			}

			custom_effect_tooltip = ITA_modify_military_industry_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_production_speed_synthetic_rubber_refinery_factor_var 
				value = 0.01
				tooltip = synthetic_rubber_refinery_factor_tooltip
			}
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = excavation_tech
			}
			add_timed_idea = { idea = ITA_devaluated_lira days = 165 }
		}
	}
	
	focus = {
		id = ITA_iri_ente_permanente
		mutually_exclusive = { focus = ITA_privatize_iri }
		icon = GFX_goal_ita_statilize_iri
		x = -3
		y = 1
		
		cost = 1.5
		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_avtarkia }
		relative_position_id = ITA_avtarkia
		available_if_capitulated = yes
		mutually_exclusive = { focus = ITA_end_fiat_ansaldo_duopoly }

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_renato_ricci
			set_country_flag = ITA_stat_iri
			custom_effect_tooltip = ITA_unlock_iri_programs
		}
	}
	focus = {
		id = ITA_continue_puricellis_work
		icon = GFX_ITA_italian_highways
		x = 1
		y = 1
		relative_position_id = ITA_iri_ente_permanente
		prerequisite = { focus = ITA_iri_ente_permanente }
		cost = 5
		available = {
		}

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = construction_tech
			}
			every_state = {
				limit = {
					OR = {
						state = 2 
						state = 117 
						state = 156			
						state = 157
						state = 158
						state = 159
						state = 160
						state = 161
						state = 162
					}
				}
				set_building_level = {
					type = infrastructure
					level = 9
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 4
			}
			every_owned_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
			}		
		}
	}
	focus = {
		id = ITA_ilva
		icon = GFX_goal_ita_ilva
		x = -1
		y = 1
		relative_position_id = ITA_iri_ente_permanente
		prerequisite = { focus = ITA_iri_ente_permanente }
		cost = 2.2
		ai_will_do = {
			factor = 10
		}
		available_if_capitulated = yes

		completion_reward = {
		add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.8
				uses = 2
				category = industry
			}
			158 = {
				add_building_construction  = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction  = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 3
			}
			add_resource = {
				type = steel
				amount = 40
				state = 158
			}
		}
	}
	focus = {
		id = ITA_agip
		icon = GFX_goal_ita_agip
		x = 0
		y = 2
		relative_position_id = ITA_iri_ente_permanente
		prerequisite = { focus = ITA_ilva focus = ITA_continue_puricellis_work }
		cost = 1.5
		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_ilva focus = ITA_continue_puricellis_work }

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_industrial_concern
			show_ideas_tooltip = ITA_agip
			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro

			add_to_variable = {
				var = ITA_iri_local_resources_factor
				value = 0.05 
				tooltip = local_resources_factor_tooltip
			}

			add_tech_bonus = {
				name = ITA_industria_della_gomma_sintetica
				bonus = 0.5
				uses = 2
				category = synth_resources
			}
		}
	}
	focus = {
		id = ITA_privatize_iri
		icon = GFX_goal_ita_privatize_iri
		mutually_exclusive = { focus = ITA_iri_ente_permanente }
		x = 3
		y = 1
		cost = 1.5
		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_avtarkia }
		relative_position_id = ITA_avtarkia
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = ITA_guido_jung

			159 = {
				add_building_construction  = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			158 = {
				add_building_construction  = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			160 = {
				add_building_construction  = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}

		}
	}
	focus = {
		id = ITA_deregulation
		icon = GFX_goal_ITA_cut_bureaucracy
		x = 1
		y = 1
		cost = 5.8
		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_privatize_iri }
		relative_position_id = ITA_privatize_iri
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_iri_production_speed_buildings_factor 
				value = 0.2 
				tooltip = buildings_build_speed_factor_tooltip
			}
		}
	}
###cq to import new techs
	focus = {
		id = ITA_modernize_construction_and_production
		icon = GFX_goal_ITA_foreign_construction
		x = -1
		y = 1
		cost = 2.2
		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_privatize_iri }
		relative_position_id = ITA_privatize_iri
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ITA_modify_ricostruzione_industriale_dynamic_modifier_ns_intro
			add_to_variable = { 
				var = ITA_industry_consumer_goods_modifier 
				value = 0.05 
				tooltip = industry_consumer_goods_modifier_tooltip
			}
			add_tech_bonus = {
				bonus = 2
				uses = 2
				category = construction_tech
			}
			add_tech_bonus = {
				bonus = 1
				uses = 2
				category = industry
			}
		}
	}
	focus = {
		id = ITA_joint_industrial_development
		icon = GFX_goal_ITA_joint_industrial_dev
		x = 0
		y = 2
		cost = 2.2
		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_modernize_construction_and_production focus = ITA_deregulation}
		relative_position_id = ITA_privatize_iri
		available_if_capitulated = yes

		completion_reward = {
		    add_research_slot = 1
			160 = {
				add_building_construction  = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			GER = {
				add_offsite_building = { type = industrial_complex level = 1 }
			}
			HUN = {
				add_offsite_building = { type = industrial_complex level = 1 }
			}
			ROM = {
				add_offsite_building = { type = industrial_complex level = 1 }
			}
			if = {
				limit = {
					FIN = {
						is_ai = no
					}
				}
				FIN = {
					add_offsite_building = { type = industrial_complex level = 1 }
				}
			}
		}
	}

	focus = {
		id = ITA_redirect_alfa_romeo_production
		icon = GFX_focus_ITA_redirect_alfa_romeo_production

		ai_will_do = {
			factor = 10
		}
		prerequisite = { focus = ITA_avtarkia }
		relative_position_id = ITA_avtarkia

		x = 0
		y =  2
		cost = 5
		available = {
			GER = {
				has_completed_focus = GER_demand_sudetenland
			}

		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 158 160 852 736 39 } #PIEMONTE as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_redirect_alfa_romeo_production
				bonus = 0.50
				uses = 2
				category = motorized_equipment
				category = light_air
			}
		}
	}

	focus = {
		id = ITA_end_fiat_ansaldo_duopoly
		icon = GFX_focus_ITA_fiat_ansaldo_duopoly
		prerequisite = { focus = ITA_redirect_alfa_romeo_production }
		mutually_exclusive = { focus = ITA_modernize_ansaldo_facilities }
		x = -1
		y = 1
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_production_lack_of_resource_penalty_factor = -0.1 }
			custom_effect_tooltip = ITA_end_fiat_ansaldo_duopoly_military_industry_tt

			random_core_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				prioritize = { 162 161 157 } 
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_core_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				prioritize = { 162 161 157 } 
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

			hidden_effect = {
				remove_ideas = ITA_hidden_research_penalties_ns
			}
		}
	}

	focus = {
		id = ITA_modernize_ansaldo_facilities
		icon = GFX_focus_ITA_modernize_ansaldo_facilities
		prerequisite = { focus = ITA_redirect_alfa_romeo_production }
		mutually_exclusive = { focus = ITA_end_fiat_ansaldo_duopoly }
		x = 1
		y = 1
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_military_industry_dm_equipment_upgrade_xp_cost = -0.15 }
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_factory = 0.05 }
			add_to_variable = { ITA_military_industry_dm_industrial_capacity_dockyard = 0.05 }
			custom_effect_tooltip = ITA_modernize_ansaldo_facilities_military_industry_tt

			random_core_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				prioritize = { 162 161 157 } 
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_core_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				prioritize = { 162 161 157 } 
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_economia_armata
		icon = GFX_ITA_The_industrial_triangle
		prerequisite = { focus = ITA_end_fiat_ansaldo_duopoly focus = ITA_modernize_ansaldo_facilities }
		prerequisite = { focus = ITA_joint_industrial_development focus = ITA_agip }

		x = 0
		y = 2
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 5
		available = { 
			arms_factory > 99
			has_army_manpower = { size > 1000000 }			
		}
	
		completion_reward = { 
            add_ideas = war_economy 
			
		}
	}
	focus = { 
		id = ITA_great_army
		icon = GFX_ITA_Regio_Esercito 
		prerequisite = { focus = ITA_economia_armata }
		mutually_exclusive = { focus = ITA_great_airforce focus = ITA_great_navy }
		relative_position_id = ITA_redirect_alfa_romeo_production
		x = -2
		y = 3
		cost = 7.145
		available = { 
			arms_factory > 99
			has_army_manpower = { size > 1000000 }			
		}
	
		completion_reward = { 
			army_experience = 50	
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = industry
			}	
			add_tech_bonus = {
				bonus = 0.5
				ahead_reduction = 0.5
				uses = 1
				category = infantry_weapons
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				ahead_reduction = 0.5
				category = artillery
			}
			
		if = {
				limit = { 
					has_tech = infantry_weapons1
					NOT = { has_tech = improved_infantry_weapons	}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 20000 producer = ITA }   
			}
			if = {
				limit = { 
					has_tech = improved_infantry_weapons
					NOT = { has_tech = advanced_infantry_weapons	}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_2 amount = 20000 producer = ITA }   
			}
			if = {
				limit = { 
					has_tech = advanced_infantry_weapons
					NOT = { has_tech = modern_infantry_weapons	}
				}
				add_equipment_to_stockpile = { type = infantry_equipment_3 amount = 20000 producer = ITA }	  
		}
		if = {
				limit = { 
					has_tech = modern_infantry_weapons
				}
				add_equipment_to_stockpile = { type = infantry_equipment_4 amount = 20000 producer = ITA }	  
		}	
		}
	}
	focus = { 
		id = ITA_great_airforce
		icon = GFX_ITA_Regia_Aeronautica
		prerequisite = { focus = ITA_economia_armata }
		mutually_exclusive = { focus = ITA_great_airforce focus = ITA_great_navy }
		relative_position_id = ITA_redirect_alfa_romeo_production
		x = 0
		y = 3
		cost = 7.145
		available = {
			arms_factory > 99
			has_deployed_air_force_size = {
				size > 329
				type = naval_bomber
			} 
			has_deployed_air_force_size = {
				size > 1329
				type = fighter
			} 
		}
		
		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = industry
			}	
			add_tech_bonus = {
				bonus = 0.5
				ahead_reduction = 1
				uses = 2
				category = all_air
			}
			
		set_technology = {
		jet_engines = 1
		  }		
		}
	}
	focus = { 
		id = ITA_great_navy
		icon = GFX_ITA_regia_marina
		prerequisite = { focus = ITA_economia_armata }
		mutually_exclusive = { focus = ITA_great_airforce focus = ITA_great_navy }
		relative_position_id = ITA_redirect_alfa_romeo_production
		x = 2
		y = 3
		cost = 7.145
		available = { 
			dockyard > 49
			has_navy_size = {
				archetype = ship_hull_heavy
				size > 7
			}
			has_navy_size = {
				archetype = ship_hull_cruiser
				size > 24
			}
			has_navy_size = {
				archetype = ship_hull_light
				size > 99
			} 
			has_tech = improved_ship_hull_heavy
	
		}
	
		completion_reward = { 
		navy_experience = 150
		  add_tech_bonus = {
				bonus = 1
				uses = 1
				category = industry
			}
			
			add_tech_bonus = {
				bonus = 1
				ahead_reduction = 1
				uses = 2
				category = naval_equipment
			}
		hidden_effect = {
		if = {

			limit = {
				has_dlc = "Man the Guns"
			}

		create_equipment_variant = {
			name = "Littorio Class"
			type = ship_hull_heavy_2
			name_group = ITA_BB_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_battery_slot = ship_heavy_battery_2
				fixed_ship_anti_air_slot = ship_anti_air_1
				fixed_ship_fire_control_system_slot = ship_fire_control_system_0
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = heavy_ship_engine_2
				fixed_ship_secondaries_slot = ship_secondaries_2
				fixed_ship_armor_slot = ship_armor_bb_2
				front_1_custom_slot = ship_heavy_battery_2
				mid_1_custom_slot = ship_secondaries_2
				mid_2_custom_slot = ship_airplane_launcher_2
				rear_1_custom_slot = ship_heavy_battery_2
			}
		}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA" 
						version_name = "Littorio Class"
					}
					requested_factories = 4
					progress = 0.8
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA" 
						version_name = "Littorio Class"
					}
					requested_factories = 4
					progress = 0.8
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA" 
						version_name = "Littorio Class"
					}
					requested_factories = 4
					progress = 0.8
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA" 
						version_name = "Littorio Class"
					}
					requested_factories = 4
					progress = 0.8
					amount = 1
				}
			}
		}
		custom_effect_tooltip = "Adds 4 Littorio Class Battleships into production at 80% building progress"		
			
		}
	}










########  ########  ######   ####  #######     ########  ######  ######## ########   ######  #### ########  #######  
##     ## ##       ##    ##   ##  ##     ##    ##       ##    ## ##       ##     ## ##    ##  ##     ##    ##     ## 
##     ## ##       ##         ##  ##     ##    ##       ##       ##       ##     ## ##        ##     ##    ##     ## 
########  ######   ##   ####  ##  ##     ##    ######    ######  ######   ########  ##        ##     ##    ##     ## 
##   ##   ##       ##    ##   ##  ##     ##    ##             ## ##       ##   ##   ##        ##     ##    ##     ## 
##    ##  ##       ##    ##   ##  ##     ##    ##       ##    ## ##       ##    ##  ##    ##  ##     ##    ##     ## 
##     ## ########  ######   ####  #######     ########  ######  ######## ##     ##  ######  ####    ##     #######  

	focus = {
		id = ITA_the_results_of_the_ethiopian_war
		icon = GFX_goal_ITA_status_army
		relative_position_id = ITA_victoryinETH
		prerequisite = { focus = ITA_march_of_the_iron_will }
		x = 24
		y = 0
		cost = 0.8
		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = ITA_end_ethiopia
		}

		available_if_capitulated = yes

		completion_reward = {
			country_event = {
				id = italy.25
				days = 3
			}
		}
	}
	focus = {
		id = ITA_a_new_caliber
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = ITA_the_results_of_the_ethiopian_war }

		x = 0
		y = 2
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 736 852 } #LITORALE as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	

	
	focus = {
		id = ITA_the_backbone_of_the_party
		icon = GFX_goal_ita_badoglio
		mutually_exclusive = {
			focus = ITA_question_the_high_command
		}
		prerequisite = { focus = ITA_the_results_of_the_ethiopian_war }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = -2
		y = 3
		cost = 1.5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_idea = ITA_emilio_de_bono
					}
				}
				activate_advisor = ITA_pietro_badoglio
			}
			else = {
				custom_effect_tooltip = available_chief_of_army
				show_ideas_tooltip = ITA_pietro_badoglio
			}
		}
	}
	focus = {
		id = ITA_orgoglio_degli_italiani
		icon = GFX_goal_italy_focus_on_mass_mobilization
		prerequisite = { focus = ITA_the_backbone_of_the_party }
		relative_position_id = ITA_the_backbone_of_the_party
		x = -2
		y = 1
		cost = 7.2
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = ITA_credere_obbedire_combattere
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = ITA_rodolfo_graziani
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			add_to_variable = { land_doctrine_discount_50_@THIS = 1 }
		}
	}	

	
	focus = {
		id = ITA_expand_the_comando_supremo_role
		icon = GFX_goal_generic_military_government
		prerequisite = { focus = ITA_the_backbone_of_the_party }
		relative_position_id = ITA_the_backbone_of_the_party
		x = 0
		y = 1
		cost = 3.6
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = ITA_comando_supremo
		}
	}
	

	
	focus = {
		id = ITA_a_loyal_army
		icon = GFX_goal_ITA_hard_lesson
		prerequisite = { focus = ITA_expand_the_comando_supremo_role }
		prerequisite = { focus = ITA_orgoglio_degli_italiani }
		relative_position_id = ITA_the_backbone_of_the_party
		x = -1
		y = 2
		cost = 4.4
		ai_will_do = {
			factor = 10
		}
		available = {
			has_war = yes
			has_army_experience > 299.99
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = ITA_fedelta_prima_di_tutto
			army_experience  = -300
			hidden_effect = {
				add_to_variable = { days_land_doctrine_@THIS = -90 }
				add_to_variable = { days_air_doctrine_@THIS = -45 } 
				add_to_variable = { days_navy_doctrine_@THIS = -90 }
    			clamp_variable = {
	    			var = days_land_doctrine_@THIS
	    			min = 0
	    			max = 2000
   				}
				clamp_variable = {
	    			var = days_air_doctrine_@THIS
	    			min = 0
	    			max = 2000
   				}
				clamp_variable = {
	    			var = days_navy_doctrine_@THIS
	    			min = 0
	    			max = 2000
   				}
			}
		}
	}

	
	focus = {
		id = ITA_question_the_high_command
		icon = GFX_goal_ITA_question_the_high_command
		mutually_exclusive = {
			focus = ITA_maintain_the_old_guard
		}
		prerequisite = { focus = ITA_the_results_of_the_ethiopian_war }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = 2
		y = 3
		cost = 1.5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_timed_idea = {
				idea = ITA_questioning_the_high_command
				days = 120
			}
			custom_effect_tooltip = ITA_questioning_high_command_tt
			hidden_effect = {
				country_event = {
					id = italy.24
					days = 120
				}
				add_to_variable = { days_land_doctrine_@THIS = 30 }
    			clamp_variable = {
	    			var = days_land_doctrine_@THIS
	    			min = 0
	    			max = 2000
   				}
			}
		}
	}
	
	focus = {
		id = ITA_break_the_three_army_independence
		icon = GFX_goal_ITA_unify_the_branches
		prerequisite = { focus = ITA_question_the_high_command }
		relative_position_id = ITA_question_the_high_command
		x = 0
		y = 1
		cost = 7.2
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = ITA_unified_branches
			add_stability = -0.1
		}
	}
	
	focus = {
		id = ITA_fight_corruption
		icon = GFX_goal_ITA_fight_corruption
		prerequisite = { focus = ITA_question_the_high_command }
		relative_position_id = ITA_question_the_high_command
		x = 2
		y = 1
		cost = 5.8
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_idea = ITA_fedelta_prima_di_tutto_3
				}
				remove_ideas = ITA_fedelta_prima_di_tutto_3
			}
			if = {
				limit = {
					has_idea = ITA_fedelta_prima_di_tutto_2
				}
				swap_ideas = {
					remove_idea = ITA_fedelta_prima_di_tutto_2
					add_idea = ITA_fedelta_prima_di_tutto_3
				}
			}
			if = {
				limit = {
					has_idea = ITA_fedelta_prima_di_tutto
				}
				swap_ideas = {
					remove_idea = ITA_fedelta_prima_di_tutto
					add_idea = ITA_fedelta_prima_di_tutto_2
				}
			}
			hidden_effect = {
				add_to_variable = { days_land_doctrine_@THIS = -30 }
				add_to_variable = { days_air_doctrine_@THIS = -15 } 
				add_to_variable = { days_navy_doctrine_@THIS = -30 }
    			clamp_variable = {
	    			var = days_land_doctrine_@THIS
	    			min = 0
	    			max = 2000
   				}
				clamp_variable = {
	    			var = days_air_doctrine_@THIS
	    			min = 0
	    			max = 2000
   				}
				clamp_variable = {
	    			var = days_navy_doctrine_@THIS
	    			min = 0
	    			max = 2000
   				}
			}
		}
	}

	
	focus = {
		id = ITA_a_reformed_army
		icon = GFX_goal_ITA_reformed_army
		prerequisite = { focus = ITA_fight_corruption }
		prerequisite = { focus = ITA_break_the_three_army_independence }
		relative_position_id = ITA_question_the_high_command
		x = 1
		y = 2
		cost = 0.8
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = {
					has_idea = ITA_fedelta_prima_di_tutto_3
				}
				remove_ideas = ITA_fedelta_prima_di_tutto_3
			}
			if = {
				limit = {
					has_idea = ITA_fedelta_prima_di_tutto_2
				}
				swap_ideas = {
					remove_idea = ITA_fedelta_prima_di_tutto_2
					add_idea = ITA_fedelta_prima_di_tutto_3
				}
			}
			if = {
				limit = {
					has_idea = ITA_fedelta_prima_di_tutto
				}
				swap_ideas = {
					remove_idea = ITA_fedelta_prima_di_tutto
					add_idea = ITA_fedelta_prima_di_tutto_2
				}
			}
			add_ideas = ITA_reformed_army
			hidden_effect = {
				add_to_variable = { days_land_doctrine_@THIS = -30 }
				add_to_variable = { days_air_doctrine_@THIS = -15 } 
				add_to_variable = { days_navy_doctrine_@THIS = -30 }
    			clamp_variable = {
	    			var = days_land_doctrine_@THIS
	    			min = 0
	    			max = 2000
   				}
				clamp_variable = {
	    			var = days_air_doctrine_@THIS
	    			min = 0
	    			max = 2000
   				}
				clamp_variable = {
	    			var = days_navy_doctrine_@THIS
	    			min = 0
	    			max = 2000
   				}
			}
		}
	}
	
	
	focus = {
		id = ITA_guerra_a_rapido_corso
		icon = GFX_goal_ITA_pariani_reform
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = -1
		y = 1
		cost = 0.8
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = ITA_the_results_of_the_ethiopian_war
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = ITA_alberto_pariani
		}
	}
	
	focus = {
		id = ITA_restructure_the_divisions
		icon = GFX_goal_italy_restructure_the_divisions
		prerequisite = { focus = ITA_the_results_of_the_ethiopian_war }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = 1
		y = 1
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = ITA_divisione_ternaria
				add_idea = ITA_divisione_binaria
			}
			add_ideas = ITA_lack_of_NCOs
			add_ideas = ITA_lack_of_firepower
			add_ideas = ITA_motorization_gap
			hidden_effect = {
				country_lock_all_division_template = no
			}
		}
	}
	focus = {
		id = ITA_6_Million_Bayonets
		icon = GFX_ITA_Ultranationalism_2
		mutually_exclusive = { focus = ITA_an_army_of_cannons  }
		prerequisite = { focus = ITA_guerra_a_rapido_corso focus = ITA_restructure_the_divisions }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = -10
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}
		
		available = {
				  
		}

		available_if_capitulated = yes
		
		continue_if_invalid = yes

		completion_reward = {
			hidden_effect = {
				add_ideas = eight_million_idea
			}

			custom_effect_tooltip = ITA_8_million_bayonets_modify_tt

			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 8000 producer = ITA } 
		}
	}	
	focus = {
		id = ITA_reshuffle_the_budget
		icon = GFX_goal_ITA_more_cannons_for_the_army
		prerequisite = { focus = ITA_6_Million_Bayonets }
		relative_position_id = ITA_6_Million_Bayonets
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = ITA_lack_of_firepower_2
		}
	}	
	focus = {
		id = ITA_empower_the_office_of_press_and_propaganda
		icon = GFX_goal_ITA_more_cannons_for_the_army
		prerequisite = { focus = ITA_6_Million_Bayonets }
		relative_position_id = ITA_6_Million_Bayonets
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = ITA_lack_of_firepower_2
		}
	}	
	focus = {
		id = ITA_CC.NN_division_primacy
		icon = GFX_focus_ITA_blackshirts
		prerequisite = { focus = ITA_reshuffle_the_budget }
		prerequisite = { focus = ITA_empower_the_office_of_press_and_propaganda }
		relative_position_id = ITA_6_Million_Bayonets
		x = 0
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = ITA_lack_of_firepower_2
		}
	}	

	focus = {
		id = ITA_an_army_of_cannons
		icon = GFX_goal_ITA_focus_on_artillery
		mutually_exclusive = { focus = ITA_6_Million_Bayonets  }
		prerequisite = { focus = ITA_guerra_a_rapido_corso focus = ITA_restructure_the_divisions }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = -6
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = cat_superior_firepower
			}
			add_to_variable = { sf_doctrine_discount_50_@THIS = 1 }
		}
	}
	
	focus = {
		id = ITA_armaguerra_mod39
		icon = GFX_goal_ITA_develop_assault_rifles
		prerequisite = { focus = ITA_an_army_of_cannons }
		relative_position_id = ITA_an_army_of_cannons
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				bonus = 2
				uses = 2
				category = infantry_weapons
			}
			swap_ideas = {
				remove_idea = ITA_lack_of_firepower
				add_idea = ITA_lack_of_firepower_2
			}
		}
	}
	
	focus = {
		id = ITA_subsidise_oto
		icon = GFX_goal_ITA_more_cannons_for_the_army
		prerequisite = { focus = ITA_an_army_of_cannons }
		relative_position_id = ITA_armaguerra_mod39
		x = 2
		y = 0
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = ITA_lack_of_firepower_2
		}
	}
	focus = {
		id = ITA_bersaglieri_divisions
		icon = GFX_goal_ITA_more_cannons_for_the_army
		prerequisite = { focus = ITA_subsidise_oto }
		prerequisite = { focus = ITA_armaguerra_mod39 }
		relative_position_id = ITA_an_army_of_cannons
		x = 0
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = ITA_lack_of_firepower_2
		}
	}	

	
	
	focus = {
		id = ITA_guerra_di_posizioni_e_decisioni
		icon = GFX_goal_ITA_guerra_di_posizioni_e_decisioni
		mutually_exclusive = { focus = ITA_expand_the_idea_of_rapido_corso  }
		prerequisite = { focus = ITA_guerra_a_rapido_corso focus = ITA_restructure_the_divisions }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = 6
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = cat_grand_battle_plan
			}
			add_to_variable = { gbp_doctrine_discount_50_@THIS = 1 }
			add_ideas = ITA_guerra_di_posizioni_e_decisioni
		}
	}
	focus = {
		id = ITA_divisioni_alpine
		icon = GFX_focus_ITA_alpine_division
		prerequisite = { focus = ITA_guerra_di_posizioni_e_decisioni }
		x = 1
		y = 1
		relative_position_id = ITA_guerra_di_posizioni_e_decisioni
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
		
			custom_effect_tooltip = ITA_OAK_modify_regio_esercito_dynamic_modifier_ns_intro

			add_to_variable = { 
				var = ITA_re_special_forces_cap 
				value = 0.02
				tooltip = special_forces_cap_tooltip
			}

			army_experience = 15

			add_tech_bonus = {
				name = ITA_divisioni_alpine
				bonus = 0.5
				uses = 1
				category = mountaineers_tech
			}
			add_tech_bonus = {
				name = support_companies
				Bonus = 0.5
				uses = 2
				category = support_tech
			}
		}
	}
	
	focus = {
		id = ITA_expand_officer_training
		icon = GFX_goal_ITA_expand_military_academies
		prerequisite = { focus = ITA_guerra_di_posizioni_e_decisioni }
		x = -1
		y = 1
		relative_position_id = ITA_guerra_di_posizioni_e_decisioni
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = ITA_expanded_military_academies
			swap_ideas = {
				remove_idea = ITA_lack_of_NCOs
				add_idea = ITA_lack_of_NCOs_2
			}
		}
	}
	focus = {
		id = ITA_AVANTI
		icon = GFX_focus_ITA_moschettieri_del_duce
		prerequisite = { focus = ITA_expand_officer_training }
		prerequisite = { focus = ITA_divisioni_alpine }
		x = 0
		y = 2
		relative_position_id = ITA_guerra_di_posizioni_e_decisioni
		cost = 5
		available = {
		}

		search_filters = {}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = avanti_tt
		}
	}
	
	
	focus = {
		id = ITA_expand_the_idea_of_rapido_corso
		icon = GFX_goal_ITA_expand_rapido_corso
		mutually_exclusive = { focus = ITA_guerra_di_posizioni_e_decisioni  }
		prerequisite = { focus = ITA_guerra_a_rapido_corso focus = ITA_restructure_the_divisions }
		relative_position_id = ITA_the_results_of_the_ethiopian_war
		x = 10
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 1
				category = cat_mobile_warfare
			}
			add_to_variable = { mw_doctrine_discount_50_@THIS = 1 }
			add_ideas = ITA_guerra_a_rapido_corso
		}
	}
	
	focus = {
		id = ITA_plug_the_automotive_gap
		icon = GFX_goal_ITA_solve_automotive_gap
		prerequisite = { focus = ITA_expand_the_idea_of_rapido_corso }
		relative_position_id = ITA_expand_the_idea_of_rapido_corso
		available = {
			has_equipment = {
				motorized_equipment > 1499
			}
		}
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = -1500
				producer = ITA
			}
			remove_ideas = ITA_motorization_gap
		}
	}
	focus = {
		id = ITA_semoventi
		icon = GFX_focus_generic_self_propelled_gun
		prerequisite = { focus = ITA_expand_the_idea_of_rapido_corso }
		relative_position_id = ITA_expand_the_idea_of_rapido_corso
		x = 1
		y = 1
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {

			add_tech_bonus = {
				name = ITA_self_propelled_guns
				bonus = 0.5
				uses = 2
				category = artillery
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}	
	focus = {
		id = ITA_p_40
		icon = GFX_goal_ita_tank_focus
		prerequisite = { focus = ITA_semoventi focus = ITA_plug_the_automotive_gap }
		relative_position_id = ITA_expand_the_idea_of_rapido_corso
		x = 0
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = unlock_hull_down
			add_tech_bonus = {
				bonus = 1.25
				uses = 2			
				technology = advanced_medium_tank_chassis 
				technology = advanced_heavy_tank_chassis 
				technology = improved_medium_tank_chassis 
				technology = improved_heavy_tank_chassis 
			}
			swap_ideas = {
				remove_idea = ITA_lack_of_firepower
				add_idea = ITA_lack_of_firepower_3
			}
		}
	}

	




	##################################################
	################AIR BRANCH########################
	##################################################



	focus = {
		id = ITA_citta_dell_aria
		icon = GFX_focus_generic_aircraft_production
		x = 15
		y = 6
		relative_position_id = ITA_victoryinETH
		cost = 5
		available = {
			has_full_control_of_state = 2
		}
		
		bypass = {
			ITA = {
				OR = {
					 has_tech = fighter_1938 
					 has_tech = heavy_fighter_1938
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {

			
			air_experience = 50
			add_tech_bonus = {
				name = air_upgrade
				bonus = 0.5
				uses = 1
				category = air_upgrade
			}
		}
	}
	focus = {
		id = ITA_reorganize_the_regia_aereonautica
		icon = GFX_goal_ITA_regia_aeronautica
		relative_position_id = ITA_citta_dell_aria
		x = 2
		y = 0
		cost = 5.8
		ai_will_do = {
			factor = 10
		}

		available = {
			has_air_experience > 100
		}

		available_if_capitulated = yes

		completion_reward = {
			add_to_variable = { ITA_ra_experience_gain_air = 0.05 }
			add_to_variable = { ITA_ra_experience_gain_air_factor = 0.1 }
			add_to_variable = { ITA_ra_air_mission_xp_gain_factor = 0.1 }
			add_to_variable = { ITA_ra_air_training_xp_gain_factor = 0.2 }
			add_to_variable = { ITA_ra_army_bonus_air_superiority_factor = 0.10 }
			add_to_variable = { ITA_ra_air_superiority_efficiency = 0.05 }
			add_to_variable = { ITA_ra_air_ace_generation_chance_factor = 0.25 }
			add_to_variable = { ITA_ra_air_cas_present_factor = 0.1	}	

			custom_effect_tooltip = ITA_OAK_air_innovation_tt	
			air_experience  = -100
			custom_effect_tooltip = available_chief_of_airforce
			show_ideas_tooltip = ITA_francesco_pricolo
		}
	}
	focus = {
		id = ITA_programma_r
		icon = GFX_goal_ITA_programma_r
		prerequisite = { focus = ITA_citta_dell_aria focus = ITA_reorganize_the_regia_aereonautica }
		relative_position_id = ITA_citta_dell_aria
		x = 1
		y = 1
		cost = 4.4
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_timed_idea = {
				idea = ITA_programma_R
				days = 365
			}
		}
	}
	focus = {
		id = ITA_combat_technological_backwardness
		icon = GFX_goal_ITA_programma_r
		prerequisite = { focus = ITA_programma_r }
		relative_position_id = ITA_citta_dell_aria
		x = 1
		y = 2
		cost = 4.4
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {

		}
	}
	focus = {
		id = ITA_domestic_engines
		icon = GFX_goal_ITA_domestic_engines
		x = -1
		y = 1
		cost = 3.6
		ai_will_do = {
			factor = 7
		}
		prerequisite = {
			focus = ITA_combat_technological_backwardness
		}
		relative_position_id = ITA_combat_technological_backwardness
		mutually_exclusive = {
			focus = ITA_german_DB_engine
		}

		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = ITA_outdated_air_engines
				add_idea = ITA_motori_nostrani
			}
		}
	}
	
	focus = {
		id = ITA_german_DB_engine
		icon = GFX_goal_ITA_DB_engine
		x = 1
		y = 1
		cost = 3.6
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = ITA_combat_technological_backwardness
		}
	    relative_position_id = ITA_combat_technological_backwardness
		mutually_exclusive = {
			focus = ITA_domestic_engines
		}

		available_if_capitulated = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = ITA_outdated_air_engines
				add_idea = ITA_DB_engines
			}
		}
	}
	focus = {
		id = ITA_high_octane_fuel_plants
		icon = GFX_goal_ITA_programma_r
		prerequisite = { focus = ITA_german_DB_engine  focus = ITA_domestic_engines  }
		relative_position_id = ITA_combat_technological_backwardness
		x = 0
		y = 2
		cost = 4.4
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {

		}
	}
	focus = {
		id = ITA_fighter_designs
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = ITA_programma_r }

		x = -4
		y = 1
		relative_position_id = ITA_programma_r
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		bypass = {
			ITA = {
				OR = {
					 has_tech = fighter_1940
					 has_tech = heavy_fighter_1940
				}
			}
		}

		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = air_fighter
				bonus = 0.5
				uses = 1
				technology = fighter_1940
			}
			add_tech_bonus = {
				name = air_fighter
				bonus = 0.5
				uses = 1
				technology = heavy_fighter_1940
			}
		}
	}
	
	focus = {
		id = ITA_macchi
		icon = GFX_goal_ITA_macchi
		prerequisite = { focus = ITA_fighter_designs }

		x = -1
		y = 1
		relative_position_id = ITA_fighter_designs
		cost = 7.2
		ai_will_do = {
			factor = 10
		}
		mutually_exclusive = {
			focus = ITA_savoia_marchetti
		}
		available = {
			NOT = {
				has_idea = ITA_outdated_air_engines
			}
		}


		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				ahead_reduction = 1
				uses = 1
				technology = fighter2
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = macchi
			set_country_flag = ITA_macchi
		}
	}
	
	focus = {
		id = ITA_savoia_marchetti
		icon = GFX_goal_ITA_reggiane
		prerequisite = { focus = ITA_fighter_designs }

		x = 1
		y = 1
		relative_position_id = ITA_fighter_designs
		cost = 7.2
		ai_will_do = {
			factor = 10
		}
		mutually_exclusive = {
			focus = ITA_macchi
		}
		available = {
			NOT = {
				has_idea = ITA_outdated_air_engines
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				bonus = 1
				ahead_reduction = 1
				uses = 1
				technology = fighter2
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = reggiane
			set_country_flag = ITA_reggiane
		}
	}
	focus = {
		id = ITA_serie_5_fighters
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = ITA_savoia_marchetti focus = ITA_macchi }

		x = 0
		y = 2
		relative_position_id = ITA_fighter_designs
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		bypass = {
			ITA = {
				OR = {
					 has_tech = fighter_1940
					 has_tech = heavy_fighter_1940
				}
			}
		}

		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = air_fighter
				bonus = 0.5
				uses = 1
				technology = fighter_1940
			}
			add_tech_bonus = {
				name = air_fighter
				bonus = 0.5
				uses = 1
				technology = heavy_fighter_1940
			}
		}
	}
	focus = {
		id = ITA_il_gobbo_maledetto
		icon = GFX_goal_ITA_programma_r
		prerequisite = { focus = ITA_programma_r }
		relative_position_id = ITA_citta_dell_aria
		x = 6
		y = 3
		cost = 4.4
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {

		}
	}
	focus = {
		id = ITA_standardise_naval_torpedo_tactics
		icon = GFX_goal_ITA_programma_r
		prerequisite = { focus = ITA_il_gobbo_maledetto }
		relative_position_id = ITA_il_gobbo_maledetto
		x = 0
		y = 1
		cost = 4.4
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {

		}
	}
	focus = {
		id = ITA_mussolinis_fast_attack_force
		icon = GFX_goal_ITA_programma_r
		prerequisite = { focus = ITA_programma_r }
		relative_position_id = ITA_programma_r
		x = 4
		y = 1
		cost = 4.4
		ai_will_do = {
			factor = 10
		}
		mutually_exclusive = {
			focus = ITA_diving_bombers
		}

		available_if_capitulated = yes

		completion_reward = {

		}
	}
	focus = {
		id = ITA_Piaggio_4_engine_bombers
		icon = GFX_goal_ITA_programma_r
		prerequisite = { focus = ITA_mussolinis_fast_attack_force }
		relative_position_id = ITA_programma_r
		x = 3
		y = 2
		cost = 4.4
		ai_will_do = {
			factor = 10
		}
		mutually_exclusive = {
			focus = ITA_diving_bombers
		}

		available_if_capitulated = yes

		completion_reward = {

		}
	}

	focus = {
		id = ITA_diving_bombers
		icon = GFX_goal_poland_goal
		prerequisite = { focus = ITA_programma_r }
		relative_position_id = ITA_programma_r
		x = 6
		y = 1
		mutually_exclusive = {
			focus = ITA_mussolinis_fast_attack_force
		}
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {

			custom_effect_tooltip = ITA_diving_bombers_dynamic_modifier_add_tt

			hidden_effect = {
				add_ideas = german_dive_bombing
			}
			if = {
				limit = { 
					ITA = { 
						has_tech = ita_CAS_1937
						NOT = { has_tech = ita_CAS_1939	}
					}
				}
				add_equipment_to_stockpile = { type = CAS_equipment_1937 amount = 170 producer = ITA }   
			}
			if = {
				limit = { 
					ITA = { 
						has_tech = ita_CAS_1939
					}
				}	
				add_equipment_to_stockpile = { type = CAS_equipment_1939 amount = 170 producer = ITA }   
			}		
		}
	}

	
	focus = {
		id = ITA_prioritize_the_immediate_threat
		icon = GFX_goal_ITA_reach_the_french_capitals
		x = 12
		y = 0
		cost = 2.5
		relative_position_id = ITA_reorganize_the_regia_aereonautica
		ai_will_do = {
			factor = 100
		}
		available = {
			
		}
		prerequisite = {
			focus = ITA_anglo_italian_crisis
		}
		mutually_exclusive = {
			focus = ITA_challenge_the_royal_navy
		}

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = { decision = ITA_dockyard_early show_effect_tooltip = no }
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = cat_fleet_in_being
			}
			add_to_variable = { fb_doctrine_discount_50_@THIS = 2 }
			add_tech_bonus = {
				bonus = 3
				ahead_reduction = 5
				uses = 1
				category = bb_tech
			}
		}
	}
	focus = {
		id = ITA_challenge_the_royal_navy
		icon = GFX_goal_ITA_challenge_the_royal_navy
		x = 14
		y = 0
		cost = 2.5
		relative_position_id = ITA_reorganize_the_regia_aereonautica
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		prerequisite = {
			focus = ITA_anglo_italian_crisis
		}
		mutually_exclusive = {
			focus = ITA_reach_the_french_capitals
		}

		available_if_capitulated = yes

		completion_reward = {
			unlock_decision_tooltip = { decision = ITA_dockyard_speed_bonus show_effect_tooltip = no }

			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = cat_base_strike
			}
			add_to_variable = { bs_doctrine_discount_50_@THIS = 2 }
		}
	}	
	focus = {
		id = ITA_a_top_heavy_fleet
		icon = GFX_goal_ITA_littorio_class
		x = 1
		y = 1
		relative_position_id = ITA_prioritize_the_immediate_threat
		prerequisite = {
			focus = ITA_challenge_the_royal_navy focus = ITA_prioritize_the_immediate_threat
		}
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}

		available = {
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ITA_littorio_class_order_tt
			hidden_effect = {
				create_equipment_variant = {
					name = "Littorio Class"
					type = ship_hull_heavy_3
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_heavy_twin_battery_2 
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_0
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = heavy_ship_engine_3
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_bb_3
						front_1_custom_slot = ship_heavy_twin_battery_2
						mid_1_custom_slot = ship_extra_ammo_storage
						mid_2_custom_slot = ship_maintenance_room
						mid_3_custom_slot = ship_airplane_launcher_2
						rear_1_custom_slot = ship_heavy_twin_battery_2
						rear_2_custom_slot = ship_heavy_twin_battery_2
					}
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_3
						creator = "ITA"
						version_name = "Littorio Class"
					}
					name = "RN Littorio"
					requested_factories = 1
					progress = 0.80
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_3
						creator = "ITA"
						version_name = "Littorio Class"
					}
					name = "RN Vittorio Veneto"
					requested_factories = 1
					progress = 0.80
					amount = 1
				}
			}
		}
	}
	focus = {
		id = ITA_remove_ciano_from_the_naval_committee
		icon = GFX_goal_ITA_kick_ciano
		x = -1
		y = 1
		relative_position_id = ITA_a_top_heavy_fleet
		prerequisite = {
			focus = ITA_a_top_heavy_fleet 
		}
		cost = 7.2
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		
		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = ITA_ciano_naval_corruption
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = crda
			set_country_flag = ITA_remove_ciano_from_the_naval_committee
		}
	}	
	focus = {
		id = ITA_retire_cavagnari
		icon = GFX_goal_ITA_kick_ciano
		x = 1
		y = 1
		relative_position_id = ITA_a_top_heavy_fleet
		prerequisite = {
			focus = ITA_a_top_heavy_fleet 
		}
		cost = 7.2
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		
		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = ITA_ciano_naval_corruption
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = crda
			set_country_flag = ITA_remove_ciano_from_the_naval_committee
		}
	}	
	focus = {
		id = ITA_rush_order_carriers
		icon = GFX_goal_ITA_rn_aquila
		x = 1
		y = 1
		cost = 5.8
		relative_position_id = ITA_retire_cavagnari
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		prerequisite = {
			focus = ITA_retire_cavagnari focus = ITA_challenge_the_royal_navy 
		}

		available = {
			has_tech = basic_ship_hull_carrier
		}
		
		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ita_order_aquila
			hidden_effect = {
				create_equipment_variant = {
					name = "Aquila Class"
					type = ship_hull_carrier_1
					parent_version = 0
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_1
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = empty
						front_1_custom_slot = ship_deck_space
						mid_1_custom_slot = ship_deck_space
						mid_2_custom_slot = ship_deck_space
						mid_3_custom_slot = ship_deck_space
						mid_4_custom_slot = ship_deck_space
						mid_5_custom_slot = ship_deck_space
						mid_6_custom_slot = ship_deck_space
					}
				}
				
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_1
						creator = "ITA"
						version_name = "Aquila Class"
					}
					name = "RN Aquila"
					requested_factories = 1
					progress = 0.80
					amount = 1
				}
			}
		}
	}
	focus = {
		id = ITA_counter_the_british_battleline
		icon = GFX_goal_ITA_rn_roma
		x = 4
		y = 1
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		available = {
			has_tech = ship_hull_super_heavy
		}
		prerequisite = {
			focus = ITA_challenge_the_royal_navy
		}
        relative_position_id = ITA_challenge_the_royal_navy
		

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ita_order_roma
			hidden_effect = {
				create_equipment_variant = {
					name = "Romulus Class"
					type = ship_hull_super_heavy_1
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_heavy_quadruple_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = super_heavy_ship_engine_1
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_shbb
						front_1_custom_slot = ship_heavy_triple_battery_2
						front_2_custom_slot = ship_heavy_triple_battery_2
						mid_1_custom_slot = ship_extra_ammo_storage
						mid_2_custom_slot = ship_maintenance_room
						mid_3_custom_slot = ship_airplane_launcher_2
						rear_1_custom_slot = ship_heavy_quadruple_battery_1
						rear_2_custom_slot = ship_heavy_quadruple_battery_1
					}
				}
				
				add_equipment_production = {
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "ITA"
						version_name = "Romulus Class"
					}
					name = "RN Romulus"
					requested_factories = 1
					progress = 0.80
					amount = 1
				
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "ITA"
						version_name = "Romulus Class"
					}
					name = "RN Remus"
					requested_factories = 1
					progress = 0.80
					amount = 1
				}
			}
		}
	}
	focus = {
		id = ITA_decima_flottiglia_mas
		icon = GFX_focus_ITA_decima_flottiglia_mas
		x = 4
		y = 1
		relative_position_id = ITA_prioritize_the_immediate_threat
		prerequisite = {
			focus = ITA_challenge_the_royal_navy focus = ITA_prioritize_the_immediate_threat
		}
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			
			show_unit_leaders_tooltip = ITA_junio_valerio_borghese

			add_ideas = X_Flottiglia_MAS

			add_to_variable = { 
				var = ITA_rm_naval_invasion_capacity
				value = 5 
				tooltip = naval_invasion_capacity_tooltip 
			}
			add_to_variable = { 
				var = ITA_rm_invasion_preparation 
				value = 0.1
				tooltip = invasion_preparation_tooltip 
			}
			add_to_variable = { 
				var = ITA_rm_naval_torpedo_screen_penetration_factor
				value = 0.05 
				tooltip = torpedo_screen_penetration_factor_tooltip
			}

			navy_experience = 25
		}
	}
	focus = {
		id = ITA_intensify_torpedo_manufacturing
		icon = GFX_focus_generic_torpedo_production
		prerequisite = { focus = ITA_fast_cruisers  }
		prerequisite = { focus = ITA_submarine_mass_production }
		x = 1
		y = 1
		relative_position_id = ITA_fast_cruisers
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_convoy_raiding_efficiency_factor = 0.05 }
			add_to_variable = { ITA_rm_naval_strike_attack_factor = 0.05 }
			add_to_variable = { ITA_rm_navy_submarine_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_intensify_torpedo_manufacturing_rm_tt

			add_tech_bonus = {
				name = ITA_intensify_torpedo_manufacturing
				bonus = 1.0
				uses = 2
				category = cat_torpedoes
			}
		}
	}	
	focus = {
		id = ITA_submarine_mass_production
		icon = GFX_focus_ITA_decima_flottiglia_mas
		x = -2
		y = 1
		relative_position_id = ITA_prioritize_the_immediate_threat
		prerequisite = {
			focus = ITA_challenge_the_royal_navy focus = ITA_prioritize_the_immediate_threat
		}
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			
			show_unit_leaders_tooltip = ITA_junio_valerio_borghese

			add_ideas = X_Flottiglia_MAS

			add_to_variable = { 
				var = ITA_rm_naval_invasion_capacity
				value = 5 
				tooltip = naval_invasion_capacity_tooltip 
			}
			add_to_variable = { 
				var = ITA_rm_invasion_preparation 
				value = 0.1
				tooltip = invasion_preparation_tooltip 
			}
			add_to_variable = { 
				var = ITA_rm_naval_torpedo_screen_penetration_factor
				value = 0.05 
				tooltip = torpedo_screen_penetration_factor_tooltip
			}

			navy_experience = 25
		}
	}
	focus = {
		id = ITA_fast_cruisers
		icon = GFX_goal_ITA_rn_roma
		x = -4
		y = 1
		cost = 2.9
		ai_will_do = {
			factor = 10
		}
		available = {
			has_tech = ship_hull_super_heavy
		}
		prerequisite = {
			focus = ITA_prioritize_the_immediate_threat
		}
        relative_position_id = ITA_prioritize_the_immediate_threat
		

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = ita_order_roma
			hidden_effect = {
				create_equipment_variant = {
					name = "Romulus Class"
					type = ship_hull_super_heavy_1
					parent_version = 0
					modules = {
						fixed_ship_battery_slot = ship_heavy_quadruple_battery_1
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_fire_control_system_slot = ship_fire_control_system_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = super_heavy_ship_engine_1
						fixed_ship_secondaries_slot = ship_secondaries_2
						fixed_ship_armor_slot = ship_armor_shbb
						front_1_custom_slot = ship_heavy_triple_battery_2
						front_2_custom_slot = ship_heavy_triple_battery_2
						mid_1_custom_slot = ship_extra_ammo_storage
						mid_2_custom_slot = ship_maintenance_room
						mid_3_custom_slot = ship_airplane_launcher_2
						rear_1_custom_slot = ship_heavy_quadruple_battery_1
						rear_2_custom_slot = ship_heavy_quadruple_battery_1
					}
				}
				
				add_equipment_production = {
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "ITA"
						version_name = "Romulus Class"
					}
					name = "RN Romulus"
					requested_factories = 1
					progress = 0.80
					amount = 1
					
					equipment = {
						type = ship_hull_super_heavy_1
						creator = "ITA"
						version_name = "Romulus Class"
					}
					name = "RN Remus"
					requested_factories = 1
					progress = 0.80
					amount = 1
				}
			}
		}
	}

	focus = {
		id = ITA_flotta_d_evasione
		icon = GFX_focus_ITA_new_horizons

		prerequisite = { focus = ITA_decima_flottiglia_mas }
		prerequisite = { focus = ITA_counter_the_british_battleline }
		x = 1
		y = 1
		relative_position_id = ITA_decima_flottiglia_mas

		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = { 
			navy_experience = 150

			add_tech_bonus = {
				bonus = 1
				ahead_reduction = 1
				uses = 2
				category = naval_equipment
			}
		}
	}	
	focus = {
		id = ITA_reopen_the_triest_closed_dockyards
		icon = GFX_goal_ITA_reopen_trieste_dockyards
		x = -1
		y = 1
		cost = 5.8
		relative_position_id = ITA_remove_ciano_from_the_naval_committee
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		prerequisite = {
           focus = ITA_remove_ciano_from_the_naval_committee  focus = ITA_prioritize_the_immediate_threat	
		}
		available_if_capitulated = yes

		completion_reward = {
			319 = {
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes	
				}
				add_extra_state_shared_building_slots = 3
			}
		}
	}	

	focus = {
		id = ITA_naval_air_coordination
		icon = GFX_goal_generic_air_naval_bomber
		x = 1
		y = 1
		cost = 5.8
		relative_position_id = ITA_remove_ciano_from_the_naval_committee
		ai_will_do = {
			factor = 10
		}
		available = {
			
		}
		prerequisite = {
           focus = ITA_remove_ciano_from_the_naval_committee  focus = ITA_retire_cavagnari	
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_naval_coordination = 0.05 }
			add_to_variable = { ITA_rm_spotting_chance = 0.1 }
			add_to_variable = { ITA_rm_naval_strike_agility_factor = 0.05 }
			custom_effect_tooltip = ITA_OAK_naval_air_coordination_rm_tt

			air_experience = 50
			if = {
				limit = {
					NOT = {
						has_tech = naval_bomber_1938
					}
				}
				set_technology = { naval_bomber_1938 = 1}
			}
			else = {
				limit = {
					has_tech = naval_bomber_1938
				}
				add_tech_bonus = {
					name = ITA_Modern_naval_bomber_effort
					bonus = 0.5
					uses = 1
					category = naval_bomber
				}
			}
			add_equipment_to_stockpile = { type = nav_bomber_equipment_1938 amount = 100 producer = ITA }   
		
			add_tech_bonus = {
				name = ITA_Modern_naval_bomber_effort
				bonus = 0.5
				uses = 1
				category = naval_bomber
			}
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = all_air
			}				

			add_ace = {
				type = "support_unique"
				name = "Giulio" #MM: Real name Giulio Cesare Graziani but art won't hook-in with double name :D
				surname = "Graziani"
				callsign = "Torpedo Twin"
			}
			add_ace = {
				type = "support_good"
				name = "Carlo"
				surname = "Faggioni"
				callsign = "Torpedo Twin"
			}
		}
	}




