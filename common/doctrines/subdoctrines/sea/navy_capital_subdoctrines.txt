line_of_battle_fleet_in_being = {
    track = capital_ships_fleet_in_being
    name = SUBDOCTRINE_LINE_OF_BATTLE
    description = SUBDOCTRINE_LINE_OF_BATTLE_DESC
    icon = GFX_doctrine_grand_battlefleet_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 75
            OR = {
                original_tag = ENG
                original_tag = USA
                original_tag = JAP
                original_tag = ITA
                original_tag = SOV
            }
        }
    }

    # EFFECTS
	navy_fuel_consumption_factor = -0.05
	naval_has_potf_in_combat_attack = 0.10

    rewards = {
        flagships={
            battleship= {
                max_organisation = 5
            }
			battle_cruiser = {
				max_organisation = 5
			}
        }
        ordnance_handling_training = {
			battleship = {
				hg_attack = 0.05
				lg_attack = 0.05
				hg_armor_piercing = 0.05
			}
			battle_cruiser = {
				hg_attack = 0.05
			}
        }
        blue_water_logistics = { #TODO see if these make sense
            battleship = {
				supply_consumption = -0.1
			}
			battle_cruiser = {
				supply_consumption = -0.1
			}
        }
        bulkhead_drills = {
            battleship = {
				naval_torpedo_damage_reduction_factor = 0.1
			}
			battle_cruiser = {
				naval_torpedo_damage_reduction_factor = 0.1
			}
        }
        modernized_line_of_battle={
            battleship = {
				max_organisation = 10
			}
			battle_cruiser = {
				max_organisation = 5
			}
        }
    }
}
fast_line_of_battle_fleet_in_being = {
    track = capital_ships_fleet_in_being
    name = "Fast Line of Battle"
    description = "Speed and firepower will allow our capital ships to destroy anything smaller, and disengage from anything slower and more heavily armed."
    icon = GFX_doctrine_grand_battlefleet_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 75
            OR = {
                original_tag = ENG
                original_tag = USA
                original_tag = JAP
                original_tag = ITA
                original_tag = SOV
            }
        }
    }

    # EFFECTS
	navy_fuel_consumption_factor = -0.05
	naval_has_potf_in_combat_attack = 0.10

    rewards = {
        flagships={
            battleship= {
                max_organisation = 5
            }
			battle_cruiser = {
				max_organisation = 5
			}
        }
        ordnance_handling_training = {
			battleship = {
				hg_attack = 0.05
				lg_attack = 0.05
				hg_armor_piercing = 0.05
			}
			battle_cruiser = {
				hg_attack = 0.05
			}
        }
        blue_water_logistics = { #TODO see if these make sense
            battleship = {
				supply_consumption = -0.1
			}
			battle_cruiser = {
				supply_consumption = -0.1
			}
        }
        bulkhead_drills = {
            battleship = {
				naval_torpedo_damage_reduction_factor = 0.1
			}
			battle_cruiser = {
				naval_torpedo_damage_reduction_factor = 0.1
			}
        }
        modernized_line_of_battle={
            battleship = {
				max_organisation = 10
			}
			battle_cruiser = {
				max_organisation = 5
			}
        }
    }
}
#super bb specialization, lose stats on screens and cvs
supercapitals = {
    track = capital_ships_fleet_in_being
    name = "Capital Ship Hunters"
    description = "Our battleships shall be symbols of our naval power, designed and crewed to beat anything they may face."
    icon = GFX_doctrine_battlecruiser_supremacy_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 75
            original_tag = FRA
        }
    }

    # EFFECTS
	naval_supply_consumption_factor = -0.05
	naval_critical_score_chance_factor = 0.03

    rewards = {
        ship_of_the_line={
            battle_cruiser= {
                max_organisation = 10
            }
        }
        coordinated_strike_protocol = {
			battle_cruiser = {
				hg_attack = 0.10
				lg_attack = 0.05
			}
        }
        open_water_patrolling = {
            battle_cruiser = {
				surface_detection = 0.05
			}
        }
        planning_at_speed = {
			battle_cruiser = {
				naval_speed = 0.05
			}
        }
        capital_drills={
			battle_cruiser= {
                max_organisation = 10
            }
        }
    }
}
#funny sea terrain bonuses
brawler_capitals = {
    track = capital_ships_fleet_in_being
    name = "Close Quarters Expertise"
    description = "With our crews trained and our ships built for maneuvering in shallow seas, we will engage our enemies at range where every shell finds its mark."
    icon = GFX_doctrine_floating_fortress_medium

    xp_cost = 100
    xp_type = navy

    visible = {
    }

    ai_will_do = { }

    # EFFECTS

	naval_supply_consumption_factor = -0.15
	navy_max_range_factor = -0.30


    rewards = {
        turtleback_armor ={

        }
        heavy_torpedo_protection = {

        }
        accurate_seacharts = {

        }
        maneuvering_expertise = {

        }
        firing_drills ={
        }
    }
}
fast_capitals = {
    track = capital_ships_base_strike
    name = "Fast Capital Ships"
    description = "Speed is the primary operational characteristic of a capital ship in a world of fast carrier taskforces."
    icon = GFX_doctrine_battlecruiser_supremacy_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 75
            original_tag = FRA
        }
    }

    # EFFECTS
	naval_supply_consumption_factor = -0.05
	naval_critical_score_chance_factor = 0.03

    rewards = {
        ship_of_the_line={
            battle_cruiser= {
                max_organisation = 10
            }
        }
        coordinated_strike_protocol = {
			battle_cruiser = {
				hg_attack = 0.10
				lg_attack = 0.05
			}
        }
        open_water_patrolling = {
            battle_cruiser = {
				surface_detection = 0.05
			}
        }
        planning_at_speed = {
			battle_cruiser = {
				naval_speed = 0.05
			}
        }
        capital_drills={
			battle_cruiser= {
                max_organisation = 10
            }
        }
    }
}
naval_gunfire_support = {
    track = capital_ships_base_strike
    name = "Heavy Firepower"
    description = "Capital ship operations in the modern age are defined by their main armament, which allows for the succesful engagement of enemy battleline and support of invasions."
    icon = GFX_doctrine_naval_gunfire_support_medium 

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    visible = {
    }

    ai_will_do = { }

	shore_bombardment_bonus = 0.25
	navy_fuel_consumption_factor = -0.10

    rewards = {
        landing_lane_clearance = {
            modifier = { 
            naval_mine_hit_chance = -0.10
            mines_sweeping_by_fleets_factor = 0.10
            }
        }

        inshore_aa_screen = {
			heavy_cruiser = {
				anti_air_attack = 0.15
			}		
			battleship = {
				anti_air_attack = 0.15
			}
			battle_cruiser = {
				anti_air_attack = 0.15
			}				

        }

        joint_operations= {
        	naval_invasion_planning_bonus_speed = 0.20
        	naval_repair_support_value_factor = 0.10
    		naval_general_support_value_factor = 0.10

        }

        floating_base={
            modifier = {
        		navy_casualty_on_hit = -0.20
        		navy_casualty_on_sink = -0.10
    			floating_harbor_supply = 0.25
    			
        	}
        }

        green_water_operations={
    		battleship = {
    			surface_visibility = -0.10
			}
			battle_cruiser = {
    			surface_visibility = -0.10
			}
			heavy_cruiser = {
    			surface_visibility = -0.10
			}
			naval_coordination = 0.1
			refit_speed = 0.2
   		}
   	}
}
## - piercing for capitals, + piercing for heavy cruisers
supercruisers = {
    track = capital_ships_base_strike
    name = "Cruiser Hunters"
    description = "Our capitals should fill an intermediate role, focused on rapid firepower and speed."
    icon = GFX_doctrine_battlecruiser_supremacy_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 75
            original_tag = FRA
        }
    }

    # EFFECTS
	naval_supply_consumption_factor = -0.05
	naval_critical_score_chance_factor = 0.03

    rewards = {
        ship_of_the_line={
            battle_cruiser= {
                max_organisation = 10
            }
        }
        coordinated_strike_protocol = {
			battle_cruiser = {
				hg_attack = 0.10
				lg_attack = 0.05
			}
        }
        open_water_patrolling = {
            battle_cruiser = {
				surface_detection = 0.05
			}
        }
        planning_at_speed = {
			battle_cruiser = {
				naval_speed = 0.05
			}
        }
        capital_drills={
			battle_cruiser= {
                max_organisation = 10
            }
        }
    }
}
battleship_antiair_screen = {
    track = capital_ships_base_strike
    name = "Taskforce Escorts"
    description = SUBDOCTRINE_BATTLESHIP_ANTIAIR_SCREEN_DESC
    icon = GFX_doctrine_battleship_antiair_screen_medium 

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    visible = {
    }

    navy_anti_air_attack_factor = 0.1

    rewards = {

    	all_seas_anti_aircraft = {
    		battleship = {
    			anti_air_attack = 0.1
    		}
    		battle_cruiser = {
    			anti_air_attack = 0.1
    		}
    	}

    	efficient_navigation = {
    		battleship = {
    			fuel_consumption = -0.1
    		}
    	}

    	broad_air_cover = {
    		battleship = {
    			max_organisation = 15
    			surface_detection = 0.05
    		}
    		battle_cruiser = {
    			max_organisation = 15
    			surface_detection = 0.05
    		}
    	}
    	inaccessible_skies = {
            battleship = {
                anti_air_attack = 0.15
                lg_attack = 0.05
            }
            battle_cruiser = {
                anti_air_attack = 0.15
                lg_attack = 0.05
            }
        }

    	capital_screens = {
    		equipment_bonus = {
    			ship_hull_heavy = {
    				armor_value = 0.15
    				max_strength = 0.05
    				lg_attack = 0.05
    				instant = yes
    			}
    		}
    	}
    }
}
armored_raiders = {
    track = capital_ships_convoy_raiding
    name = SUBDOCTRINE_ARMORED_RAIDERS
    description = SUBDOCTRINE_ARMORED_RAIDERS_DESC
    icon = GFX_doctrine_capital_ship_raiders_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 50
            original_tag = GER
        }
    }

    # EFFECTS
	naval_supply_consumption_factor = -0.10
	screening_without_screens = 0.10

    rewards = {
        expert_reconnaissance={
            battle_cruiser= {
                surface_detection = 0.1
            }
			battleship = {
				surface_detection = 0.1
			}
        }
        speed_trials = {
            equipment_bonus = {
                capital_ship = {
                    naval_range = 0.10
                    instant = yes
                }
            }
        }
        modernized_officer_education = {
            battle_cruiser= {
                max_organisation = 5
            }
			battleship = {
				max_organisation = 5
			}
        }
        capital_raiders = {
            battleship = {
				max_organisation = 5
				convoy_raiding_coordination = 0.25
				surface_detection = 0.10
			}
			battle_cruiser = {
				max_organisation = 5
				convoy_raiding_coordination = 0.15
				surface_detection = 0.15
			}
        }
        crisis_management={
            modifier = {
				navy_casualty_on_hit = -0.40
				navy_casualty_on_sink = -0.20
			}
        }
    }
}
battlecruiser_anti_cruiser = {
    track = capital_ships_convoy_raiding
    name = "Pocket Battleships"
    description = SUBDOCTRINE_BATTLECRUISER_SUPREMACY_DESC
    icon = GFX_doctrine_battlecruiser_supremacy_medium

    xp_cost = 100
    xp_type = navy

    available = {
        always = yes
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 75
            original_tag = FRA
        }
    }

    # EFFECTS
	naval_supply_consumption_factor = -0.05
	naval_critical_score_chance_factor = 0.03

    rewards = {
        ship_of_the_line={
            battle_cruiser= {
                max_organisation = 10
            }
        }
        coordinated_strike_protocol = {
			battle_cruiser = {
				hg_attack = 0.10
				lg_attack = 0.05
			}
        }
        open_water_patrolling = {
            battle_cruiser = {
				surface_detection = 0.05
			}
        }
        planning_at_speed = {
			battle_cruiser = {
				naval_speed = 0.05
			}
        }
        capital_drills={
			battle_cruiser= {
                max_organisation = 10
            }
        }
    }
}
coastal_defence_fleet = {
    track = capital_ships_convoy_raiding
    name = SUBDOCTRINE_COASTAL_DEFENCE
    description = SUBDOCTRINE_COASTAL_DEFENCE_DESC
    icon = GFX_doctrine_floating_fortress_medium

    xp_cost = 100
    xp_type = navy

    visible = {
    }

    ai_will_do = { }

    # EFFECTS
	effect = {
		IF = {
			limit = {
				NOT = {
					has_tech = coastal_defense_ships
				}
			}
			set_technology = { 
				coastal_defense_ships = 1 
			}
		}
	}
	naval_supply_consumption_factor = -0.15
	navy_max_range_factor = -0.30


    rewards = {
        aging_navy={
            modifier = { refit_speed = 0.15 }
        }
        casemate_upgrades = {
            equipment_bonus = {
                ship_hull_cruiser_coastal_defense_ship = {
                    anti_air_attack = 0.15
                    lg_attack = 0.05
                    instant = yes
                }
            }
        }
        escort_duties= {
            heavy_cruiser= {
                sub_detection = 0.15
            }
			light_cruiser= {
                sub_detection = 0.10
            }
        }
        hail_of_fire = {
            modifier = {
				naval_light_gun_hit_chance_factor = 0.05
			}
        }
        spare_part_logistics={
            modifier = {
				refit_ic_cost = -0.15
			}
        }
    }
}

