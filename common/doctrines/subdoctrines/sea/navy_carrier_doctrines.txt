

##carrier cap if possible
massed_carrier_fleet = {
    track = carriers_base_strike
    name = "Combined Carrier Fleet"
    description = SUBDOCTRINE_MASSED_CARRIER_FLEET_DESC
    icon = GFX_doctrine_massed_strikes_medium

    xp_cost = 50
    xp_type = navy


	sortie_efficiency = 0.10

    rewards = {
    	deep_operative_support = {
    		carrier = {
    			reliability = 0.05
    			naval_range = 0.2
                max_organisation = 20
    		}
            heavy_cruiser = {
                 max_organisation = 10
            }
    	}
    	carrier_independence = {
    		screening_without_screens = 0.3
    	}
    	crew_shifts = {
    		sortie_efficiency = 0.3
    		carrier_sortie_hours_delay = -2
    	}
    	efficient_rearming = {
    		carrier = {
    			supply_consumption = -0.2
    			fuel_consumption = -0.1
    		}
    	}
    	unceasing_airpower = {
    		carrier_traffic = 0.3
    	}
    }
}
#standard base strike
carrier_battlegroups = {
    track = carriers_base_strike
    name = SUBDOCTRINE_CARRIER_BATTLEGROUPS
    description = SUBDOCTRINE_CARRIER_BATTLEGROUPS_DESC
    icon = GFX_doctrine_carrier_battlegroups_medium

    xp_cost = 50
    xp_type = navy



    ai_will_do = { }

    # EFFECTS

    naval_morale_factor	= 0.05
    rewards = {
		coordinated_evasion_tactics = {
			navy_max_range_factor = 0.1
		}
        combat_routines = {
             carrier = {
                  max_organisation = 30
             }
		}
		personnel_management = {
			carrier = {
				max_organisation = 20
			}
            light_cruiser = {
                   max_organisation = 20
            }
		}
		floating_fortresses = {
			carrier = {
				anti_air_attack = 0.35
			}
		}
		night_landing_protocols = {
    		carrier_night_traffic = 0.3
		}
    }
}
##port strike+cv cas focus
floating_airfields = {
    track = carriers_base_strike
    name = SUBDOCTRINE_CARRIER_AIRFIELDS
    description = SUBDOCTRINE_CARRIER_AIRFIELDS_DESC
    icon = GFX_doctrine_floating_airfield_medium

    xp_cost = 50
    xp_type = navy

    available = {
        always = yes
    }


    # EFFECTS

	port_strike = 0.20	
    rewards = {
       traffic_control_systems = {
			air_carrier_night_penalty_reduction_factor = 0.15
	   }
	   floating_city = {
			carrier = {
				max_organisation = 40
			}
	   }
	   veteran_pilots = {
			navy_carrier_air_attack_factor = 0.15
	   }
	   night_fighting_expertise = {
			air_carrier_night_penalty_reduction_factor = 0.15
	   }
	   rough_weather_procedures = {
			equipment_bonus = {
                carrier = {
				    naval_weather_penalty_factor = -0.25
			    }
            }
	   }
    }
}
#standard non base strike cv
supporting_carriers = {
    track = carriers_fleet_in_being
    name = "Subsidiary Carrier Role"
    description = "Fleet carriers role is to provide air cover and reconnaisance for the battleline whilst providing some long range strike capacity."
    icon = GFX_doctrine_subsidiary_carrier_role_medium

    xp_cost = 50
    xp_type = navy


    # EFFECTS
        carrier = {
			max_organisation = 20			
		}
	
    rewards = {
	   fire_direction = {
           destroyer = {
              lg_attack = 0.05
           }
           light_cruiser = {
              lg_attack = 0.05
           }
           heavy_cruiser = {
              lg_attack = 0.05
           }
           battle_cruiser = {
              hg_attack = 0.05
           }
           battleship = {
              hg_attack = 0.05
           }
	   }
       air_interception_duties = {
			navy_carrier_air_attack_factor = 0.15
	   }
	   strategic_flexibility = {
			navy_carrier_air_targetting_factor = 0.1
	   }

	   night_fighting_expertise = {
			air_carrier_night_penalty_reduction_factor = 0.15
	   }
	   veteran_pilots = {
			equipment_bonus = {
                carrier = {
				    naval_weather_penalty_factor = -0.25
			    }
            }
	   }
    }
}
#light carriers
escort_carrier_support = {
    track = carriers_fleet_in_being
    name = SUBDOCTRINE_ESCORT_CARRIER_SUPPORT
    description = SUBDOCTRINE_ESCORT_CARRIER_SUPPORT_DESC
    icon = GFX_doctrine_escort_carriers_medium

    xp_cost = 50
    xp_type = navy

    
    convoy_escort_efficiency = 0.5

    rewards = {
    	evasive_convoy_maneuvers = {
    		convoy_retreat_speed = 0.2
    	}
    	anti_submarine_escorts = {
               destroyer = {
                 max_organisation = 10
                 sub_detection = 0.1
               }
               light_cruiser = {
                 max_organisation = 10
                 sub_detection = 0.1
               }
                convoy_escort_efficiency = 0.2
    	}
    	fleet_fire_direction = {
              modifier = {
              screening_efficiency = 0.1
              naval_heavy_gun_hit_chance_factor = 0.05
             }
    	}
    	integrated_convoy_defense = {
            equipment_bonus = {
                ship_hull_carrier_conversion_ca = {
                    sub_detection = 0.15
                    instant = yes
                }

                convoy = {
                    naval_speed = 0.25
                    instant = yes
                }
            }
			carrier = {
				max_organisation = 20
			}

    	}
    	convoy_carrier_support_groups = {
            equipment_bonus = {
                ship_hull_carrier_conversion_ca = {
                    build_cost_ic = -0.2
                    instant = yes
                }
            }
			repair_ship = {
				reliability = 0.2
			}

			support_ship = {
				reliability = 0.2
			}

    	}
   	}
}
#support ship memes?
broad_naval_support = {
    track = carriers_fleet_in_being
    name = SUBDOCTRINE_BROAD_NAVAL_SUPPORT
    description = SUBDOCTRINE_BROAD_NAVAL_SUPPORT_DESC
    icon = GFX_doctrine_carrier_task_forces_medium

    xp_cost = 50
    xp_type = navy



    critical_receive_chance = -0.1

    rewards = {
    	carrier_maneuvering = {
    		carrier = {
    			naval_speed = 0.1
    		}
    	}
    	task_force_concentration = {
    		ships_at_battle_start = 0.1
    	}

    	organized_support_protocols = {
    		naval_repair_support_value_factor = 0.25
    		naval_general_support_value_factor = 0.25 
    	}
    	escorts_in_battle = {
        	naval_damage_factor = 0.05     
    	}
    	support_rotation = {
    		naval_repair_support_factor = 0.25
    		naval_general_support_factor = 0.25 
    		repair_ship = {
    			max_organisation = 20
    		}
    		support_ship = {
    			max_organisation = 20
    		}
    	}
	}
}
#funny secundary carrier
autonomous_carrier_operations = {
    track = carriers_convoy_raiding
    name = "Autonomous Carrier Operations"
    description = "Carriers are powerful, but generally vulnerable in direct combat. In order to be useful, carriers must have the firepower and protection to defend themselves."
    icon = GFX_doctrine_naval_air_operations_medium

    xp_cost = 50
    xp_type = navy


    naval_retreat_speed_after_initial_combat = 0.2

    rewards = {
    	enemy_fire_avoidance = {
    		carrier = {
    			naval_speed = 0.1
    			surface_visibility = -0.2
			    max_organisation = 15
    		}
			destroyer = {
                surface_visibility = -0.05
			}
    	}
    	anti_surface_drills = {
    		carrier = {
    			lg_attack = 0.4
			    max_organisation = 10
    		}
    	}
    	target_selection = {
    		strike_force_movement_org_loss = -0.3
    		naval_enemy_fleet_size_ratio_penalty_factor = 0.2	

    	}
    	elite_aviators = {
			navy_carrier_air_targetting_factor = 0.1
    	}
    	combined_operations = {
          submarine = {
                 convoy_raiding_coordination = 0.15
                 surface_detection = 0.2
           }

          battle_cruiser = {
                 convoy_raiding_coordination = 0.15
                 surface_detection = 0.2
           }
          battleship = {
                 convoy_raiding_coordination = 0.15
                 surface_detection = 0.2
          }
    	}
    }

}
light_task_forces = {
    track = carriers_convoy_raiding
    name = SUBDOCTRINE_LIGHT_TASK_FORCES
    description = "Light carriers supported by fleet escorts are an efficient way of providing air cover for our raiding forces."
    icon = GFX_doctrine_subsidiary_carrier_role_medium

    xp_cost = 50
    xp_type = navy

    mastery = { 
        multiplier = 2 
        sub_units = { 
            carrier
            destroyer
        }
        
    }
    available = {
        always = yes
    }


    naval_retreat_speed_after_initial_combat = 0.2

    rewards = {
    	direct_fire_avoidance = {
    		carrier = {
    			naval_speed = 0.1
    			surface_visibility = -0.1
    		}
    	}
    	surface_fleets = {
    		carrier = {
                surface_visibility = -0.10
			}
			destroyer = {
                surface_visibility = -0.05
			}
    	}
    	screen_raiders = {
    		destroyer = {
    			lg_attack = 0.1
    			max_organisation = 20
                convoy_raiding_coordination = 0.15
    		}
    		light_cruiser = {
    			lg_attack = 0.1
    			max_organisation = 20
                convoy_raiding_coordination = 0.15
    		}
    	}
    	evasive_engagements_focus = {
    		carrier = {
    			max_organisation = 15
    		}
    		destroyer = {
    			naval_speed = 0.1
    			surface_detection = 0.2
    		}
    	}
    	localized_sea_power = {
    		strike_force_movement_org_loss = -0.3
    		naval_enemy_fleet_size_ratio_penalty_factor = 0.2	
    	}
    }
}
supporting_carriers_raiding = {
    track = carriers_convoy_raiding
    name = "Subsidiary Carrier Role"
    description = "Fleet carriers role is to provide air cover and reconnaisance for the battleline whilst providing some long range strike capacity."
    icon = GFX_doctrine_subsidiary_carrier_role_medium

    xp_cost = 50
    xp_type = navy

    available = {
        always = yes
    }


    # EFFECTS
        carrier = {
			max_organisation = 20			
		}
	
  rewards = {
	   fire_direction = {
           destroyer = {
              lg_attack = 0.05
           }
           light_cruiser = {
              lg_attack = 0.05
           }
           heavy_cruiser = {
              lg_attack = 0.05
           }
           battle_cruiser = {
              hg_attack = 0.05
           }
           battleship = {
              hg_attack = 0.05
           }
	   }
       air_interception_duties = {
			navy_carrier_air_attack_factor = 0.15
	   }
	   strategic_flexibility = {
			navy_carrier_air_targetting_factor = 0.1
	   }

	   night_fighting_expertise = {
			air_carrier_night_penalty_reduction_factor = 0.15
	   }
	   veteran_pilots = {
			equipment_bonus = {
                carrier = {
				    naval_weather_penalty_factor = -0.25
			    }
            }
	   }
    }
}






