###########################
# German Events
###########################

add_namespace = germany

# Austrian Anschluss Completed
country_event = {
	id = germany.4
	title = germany.4.t
	desc = germany.4.d
	picture = GFX_report_event_german_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.4.a
		if = {
			limit = {
				ENG = {
					has_idea = civilian_economy
				}
			}
			ENG = {
				add_ideas = low_economic_mobilisation
			}
		}
		ENG = {
			add_war_support = 0.15
		}
		4 = {
			if = {
				limit = { is_owned_by = AUS }
				add_core_of = GER
			}
		}
		152 = {
			if = {
				limit = { is_owned_by = AUS }
				add_core_of = GER
			}
		}
		39 = {
			add_core_of = GER
		}
		153 = {
			if = {
				limit = { is_owned_by = AUS }
				add_core_of = GER
			}
		}
		annex_country = { target = AUS transfer_troops = yes }
		add_political_power = 100
		add_named_threat = { threat = 10 name = germany.4.t }
		set_country_flag = AUS_annexed
		add_war_support = 0.05
		add_stability = 0.05
		
		custom_effect_tooltip = anschluss_mefo_bills_tt
		hidden_effect = { # Having it appear twice might be confusing
			GER_mefo_bills_level_down = yes
			GER_mefo_bills_level_down = yes
		}
		custom_effect_tooltip = anschluss_mefo_bills_double_reduction
		add_to_variable = { var = GER_mefo_bill_counter value = -10 }
		create_corps_commander = {
			name = "Karl Eglseer"
			portrait_path = "gfx/leaders/GER/aus_portrait_karl_eglseer.tga"
			traits = { trait_mountaineer trickster }
			skill = 3
			attack_skill = 2
			defense_skill = 4
			planning_skill = 3
			logistics_skill = 2
		}
		create_corps_commander = {
		   name = "Julius Ringel"
		   portrait_path = "gfx/leaders/GER/aus_Portrait_Germany_Julius_Ringel.tga"
		   traits = { trait_mountaineer trickster }
		   skill = 3
		   attack_skill = 4
		   defense_skill = 2
		   planning_skill = 3
		   logistics_skill = 3
		}
		
		hidden_effect = {
			news_event = { hours = 6 id = news.36 }
		}
	}
}
country_event = {
	id = germany.565
	title = germany.565.t
	desc = germany.565.d
	picture = GFX_event_GER_blomberg
	
	is_triggered_only = yes
	
	option = {
		name = germany.565.a
		retire_character = GER_werner_blomberg
		retire_character = GER_werner_fritsch
		remove_ideas = GER_werner_fritsch
		remove_ideas = GER_werner_blomberg

		if = {
			limit = {
				has_idea = og_general_staff
			}
			swap_ideas = { 
				remove_idea = og_general_staff
				add_idea = general_staff0
			}
		}
		
	}
	option = {
		name = germany.565.b
		add_political_power = -20
		hidden_effect = {
			country_event = { days = 35 id = germany.566 }
		}	
	}
}
country_event = {
	id = germany.566
	title = germany.566.t
	desc = germany.566.d
	picture = GFX_report_event_hitler_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.566.a
		add_political_power = -30
		retire_character = GER_werner_blomberg
		retire_character = GER_werner_fritsch
		if = {
			limit = {
				has_idea = og_general_staff
			}
			swap_ideas = { 
				remove_idea = og_general_staff
				add_idea = general_staff0
			}
		}
		
		
	}
	option = {
		name = germany.566.b
		add_political_power = -60
		
		if = {
			limit = {
				has_idea = og_general_staff
			}
			swap_ideas = { 
				remove_idea = og_general_staff
				add_idea = general_staff0
			}
		}
		hidden_effect = {
			set_country_flag = Purged
		}
		
	}
}

#Spain_treaty( befriend spain )
country_event = {
	id = germany.301
	title = germany.301.t
	desc = germany.301.d
	picture = GFX_report_event_hitler_handshake

	is_triggered_only = yes
	
	option = {
		name = germany.301.a	#accept
		ai_chance = {
			factor = 100
		}
		diplomatic_relation = { country = GER relation = non_aggression_pact }
		if = {
			limit = { has_idea = SPA_recovering_from_civil_war }
			remove_ideas = SPA_recovering_from_civil_war
		}
	}
	option = {
		name = germany.301.b
		ai_chance = {
			factor = 0
		}
		GER = {
			create_wargoal = {
				type = take_state
				target = SPR
				generator = { 41 }
			}
		}
	}
}


# tripartite_pact
# anti_comintern_pact nations are asked to join pact, agreeing = relations with GER and hit with SOV
country_event = {
	id = germany.6
	title = germany.6.t
	desc = germany.6.d
	picture = GFX_report_event_hitler_croatia_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.6.a		#join
		remove_opinion_modifier = { target = GER modifier = anti_comintern_pact_opinion }
		add_opinion_modifier = { target = GER modifier = tripartite_pact_opinion }
		remove_opinion_modifier = { target = SOV modifier = pact_against_us }
		add_opinion_modifier = { target = SOV modifier = worse_pact_against_us }
	}
	option = {
		name = germany.6.b		#refuse
		add_opinion_modifier = { target = GER modifier = refused_tripartite_pact_opinion }
	}
}
#molotov_ribbentrop_pact
# fire event to SOV to accept or not. adds claims
# SOV events sends reply to GER, adds claims if they said yes, hurts relations if they say no

# Molotov-Ribbentrop Pact (Soviets)
country_event = {
	id = germany.11
	title = germany.11.t
	desc = germany.11.d
	picture = GFX_report_event_molotov_ribentrop_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.11.a	#sounds good
		ai_chance = { 
			factor = 90 
			modifier = {
				factor = 0
				GER = {
					OR = { 
						has_wargoal_against = SOV
						is_justifying_wargoal_against = SOV
					}
					NOT = {
						is_in_faction_with = SOV
					}
				}
			}
		}
		add_opinion_modifier = { target = GER modifier = MR_pact } # pact		
		add_state_claim = 96
		add_state_claim = 722
		add_state_claim = 89
		add_state_claim = 91
		add_state_claim = 93
		add_state_claim = 94
		add_state_claim = 95
		add_state_claim = 96
		add_state_claim = 97
		add_state_claim = 784
		add_state_claim = 827
		hidden_effect = { add_timed_idea = { idea = SOV_molotov_ribbentrop_pact days = 730 } }
		GER = {
			country_event = { days = 1 id = germany.12 }
			effect_tooltip = {
				add_opinion_modifier = { target = SOV modifier = MR_pact } # pact
			}
		}
		set_global_flag = sov_yes_pact
	}
	
}

# Soviets Sign MR Pact
country_event = {
	id = germany.12
	title = germany.12.t
	desc = germany.12.d
	picture = GFX_report_event_molotov_signing_pact
	
	is_triggered_only = yes
	
	option = {
		name = germany.12.a	#neat
		every_other_country = {
			limit = {
				NOT = { tag = GER }
				has_government = fascism 
			}
			add_opinion_modifier = { target = GER modifier = MR_pact_fascists }
		}
		diplomatic_relation = { country = SOV relation = non_aggression_pact }
		add_opinion_modifier = { target = SOV modifier = MR_pact } # pact
		USA = {
			set_country_flag = { flag = USA_MR_window days = 60 value = 1 }
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.32 }
		}
	}
}

# Soviets Reject MR Pact
country_event = {
	id = germany.13
	title = germany.13.t
	desc = germany.13.d
	picture = GFX_report_event_stalin_01

	is_triggered_only = yes
	
	option = {
		name = germany.13.a	#bah
		add_stability = -0.05 # embarrased
		add_opinion_modifier = { target = SOV modifier = refused_MR_pact } # no pact
	}
}

# Poland conquered... honor MR Pact?
country_event = {
	id = germany.14
	title = germany.14.t
	desc = germany.14.d
	picture = GFX_report_event_german_troops
	
	fire_only_once = yes

	is_triggered_only = yes
	
	option = {
		name = germany.14.a
		GER = {
			country_event = { id = germany.704 days = 14 }
		}
		if = {
			limit = {
				96 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = POL
						any_other_country = {
							controls_state = 96
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 96 }
		}
		if = {
			limit = {
				95 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = POL
						any_other_country = {
							controls_state = 95
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 95 }
		}
		if = {
			limit = {
				94 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = POL
						any_other_country = {
							controls_state = 94
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 94 }
		}
		if = {
			limit = {
				93 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = POL
						any_other_country = {
							controls_state = 93
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 93 }
		}
		if = {
			limit = {
				91 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = POL
						any_other_country = {
							controls_state = 91
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 91 }
		}
		if = {
			limit = {
				97 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = POL
						any_other_country = {
							controls_state = 97
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 97 }
		}
		if = {
			limit = {
				89 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = POL
						any_other_country = {
							controls_state = 89
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 89 }
		}
		if = {
			limit = {
				784 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = POL
						any_other_country = {
							controls_state = 784
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 784 }
		}
		if = {
			limit = {
				827 = {
					OR = {
						is_controlled_by = GER
						is_controlled_by = POL
						any_other_country = {
							controls_state = 827
							is_in_faction_with = GER
							GER = { is_faction_leader = yes }
						}
					}
				}
			}
			SOV = { transfer_state = 827 }
		}
		SOV = { country_event = germany.15 }
	}
}

# Germany honors MR Pact (Soviets)
country_event = {
	id = germany.15
	title = germany.15.t
	desc = germany.15.d
	picture = GFX_report_event_soviet_german_soldier_handshake

	is_triggered_only = yes
	
	option = {
		name = germany.12.a
		if = {
			limit = {
				SOV = {
					controls_state = 93
					controls_state = 94
				}
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.33 }
			}
		}
	}
}


# Germany betrays MR Pact (Soviets)
country_event = {
	id = germany.16
	title = germany.16.t
	desc = germany.16.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	option = {
		name = germany.16.a
	}
	option = {
		name = germany.16.b
		ai_chance = {
			base = 2
		}
		add_war_support = 0.1
		SOV = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 64 5 } 
			}
		}
	}
}

# Second Vienna Award
country_event = {
	id = germany.20
	title = germany.20.t
	desc = germany.20.d
	picture = GFX_report_event_vienna_award_hungary
	
	is_triggered_only = yes
	
	option = { # Give Hungary Northern Transylvania
		name = germany.20.a
		ai_chance = { factor = 80 }

		trigger = {
			ROM = {
				controls_state = 76
				controls_state = 83
				controls_state = 84
			}
		}
		add_named_threat = { threat = 3 name = GER_second_vienna_award_HUN_north }
		HUN = {
			set_country_flag = GER_second_vienna_award_HUN_north
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_HUN_north } 
		}
		ROM = {
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_ROM_north }
			country_event = { id = romania.2 }
		}
		hidden_effect = {
			GER = {
			country_event = { id = germany.106 }
			}
		}
	}
	option = { # Give Hungary all of Transylvania
		trigger = {
			ROM = {
				controls_state = 76
				controls_state = 83
				controls_state = 84
			}
		}
		name = germany.20.b
		ai_chance = { 
			factor = 10 
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_named_threat = { threat = 3 name = GER_second_vienna_award_HUN_all }
		HUN = { 
			set_country_flag = GER_second_vienna_award_HUN_all
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_HUN_all } 
		}
		ROM = {
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_ROM_all }
			country_event = { id = romania.3 }
		}
		hidden_effect = {
			GER = {
			country_event = { id = germany.106 }
			}
		}
	}
	option = { # Give Hungary nothing
		trigger = {
			ROM = {
				NOT = {
					has_completed_focus = ROM_institute_a_royal_dictatorship
				}
			}
		}
		name = germany.20.c
		ai_chance = { 
			factor = 10 
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		ROM = {
			country_event = { id = romania.4 }
		}
		HUN = {
			set_country_flag = GER_second_vienna_award_noland
			add_opinion_modifier = { target = GER modifier = GER_second_vienna_award_noland }
			country_event = { id = hungary.1 }
			complete_national_focus = HUN_the_return_of_transylvania
		}
		hidden_effect = {
			GER = {
			country_event = { id = germany.106 }
			}
		}
	}
}

# Romania Rejects Decision!
country_event = {
	id = germany.21
	title = germany.21.t
	desc = germany.21.d
	picture = GFX_report_event_vienna_award_hungary
	
	is_triggered_only = yes
	
	option = {
		name = germany.21.a
		create_wargoal = {
			type = take_state_focus
			target = ROM
			generator = { 76 }
		}
	}
}

# Claim Memel - Lithuania Folds
country_event = {
	id = germany.22
	title = germany.22.t
	desc = germany.22.d
	picture = GFX_report_event_vienna_award_hungary
	
	is_triggered_only = yes
	
	option = {
		name = germany.22.a
		GER = { 
			transfer_state = 188
		}
		hidden_effect = {
			country_event = { days = 1 id = news.19 }
		}
	}
}

# Claim Memel - Lithuania Rejects Demand
country_event = {
	id = germany.23
	title = germany.23.t
	desc = germany.23.d
	picture = GFX_report_event_lithuania_army

	is_triggered_only = yes
	
	option = {
		name = germany.23.a
		create_wargoal = {
			type = take_state_focus
			target = LAT
			generator = { 188 }
		}
		hidden_effect = {
			country_event = { days = 1 id = news.20 }
		}
	}
}

# Japan Demands Withdrawal of Falkenhausen
country_event = {
	id = germany.24
	title = germany.24.t
	desc = germany.24.d
	picture = GFX_report_event_hitler_china

	is_triggered_only = yes
	
	option = { # Agree
		name = germany.24.a
		ai_chance = { 
			factor = 100 
			modifier = {
			  factor = 0
			  CHI = { has_government = fascism }
			}
		}
		trigger = {
			NOT = { has_country_flag = GER_von_falkenhausen_promise_to_china }
		}
		JAP = {
			country_event = { days = 1 id = japan.8 }
		}
		CHI = {
			country_event = { days = 1 id = china.2 }
			effect_tooltip = {
				remove_ideas = german_advisors
				show_ideas_tooltip = german_advisors
			}
		}
	}
	option = { # Refuse
		name = germany.24.b
		ai_chance = { 
			factor = 100 
			modifier = {
			  factor = 0
			  NOT = { CHI = { has_government = fascism } }
			}
		}
		trigger = {
			NOT = { has_country_flag = GER_von_falkenhausen_promise_to_china }
		}
		JAP = {
			country_event = { days = 1 id = japan.9 }
		}
	}

	option = { # Refuse, promised the Chinese in return for Tsingtao
		name = germany.24.c
		ai_chance = { 
			factor = 100 
			modifier = {
			  factor = 0
			  NOT = { CHI = { has_government = fascism } }
			}
		}
		trigger = {
			has_country_flag = GER_von_falkenhausen_promise_to_china
		}
		JAP = {
			country_event = { days = 1 id = japan.9 }
		}
	}
}

# German - Chinese Relations Poor, Mission Recalled
country_event = {
	id = germany.25
	title = germany.25.t
	desc = germany.25.d
	picture = GFX_report_event_chinese_army_training

	fire_only_once = yes
	
	trigger = {
		tag = GER
		CHI = { has_idea = german_advisors }
		has_opinion = { target = CHI value < -20 }
	}
	
	immediate = {
		CHI = { remove_ideas = german_advisors }
	}
	
	option = {
		name = germany.25.a
		CHI = {
			country_event = { id = china.3 }
		}
	}
}

# Germany at war with China, Advisors Detained
country_event = {
	id = germany.26
	title = germany.26.t
	desc = germany.26.d
	picture = GFX_report_event_german_detained_china

	fire_only_once = yes
	
	trigger = {
		tag = GER
		CHI = { has_idea = german_advisors }
		has_war_with = CHI
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		CHI = { remove_ideas = german_advisors }
	}
	
	option = {
		name = germany.26.a
		CHI = {
			country_event = { id = china.4 }
		}
	}
}

# Austria asked about Anschluss
country_event = {
	id = germany.28
	title = germany.28.t
	desc = germany.28.d
	picture = GFX_report_event_hitler_parade
	
	is_triggered_only = yes
	
	option = { # Accept
		name = germany.28.a
		ai_chance = {
			base = 30
			modifier = {
				add = -25
				GER = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 20
				GER = { has_army_size = { size > 42 } }
			}
			modifier = {
				add = 40
				GER = { has_army_size = { size > 55 } }
			}
			modifier = {
				add = 40
				GER = { has_army_size = { size > 62 } }
			}
			modifier = {
				add = 20
				is_in_faction_with = GER
			}
		}
		GER = {
			country_event = { hours = 2 id = germany.4 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	
}

# Austria refuses Anschluss
country_event = {
	id = germany.29
	title = germany.29.t
	desc = germany.29.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.29.a
		add_state_claim = 4
		add_state_claim = 152
		add_state_claim = 153
		create_wargoal = {
			type = take_state_focus
			target = AUS
			generator = { 4 152 153 }
		}
	}
}

###Reichskommissariats Requesting Support###

country_event = {
	id = germany.31
	title = germany.31.t
	desc = germany.31.d
	picture = GFX_report_event_germany_politician_handshake
	
	is_triggered_only = yes
	
	option = { #Gladly we don't need that anyway# 
		name = germany.31.a 
		trigger = {
			has_equipment = {
				infantry_equipment < 1999
			}
			has_equipment = {
				support_equipment < 499
			}
			has_equipment = {
				horse_equipment_0 < 499
			}
		}
		GER = {
			send_equipment = {
				target = FROM 
				type = infantry_equipment
				amount = 2000
				old_prioritised = yes
			}
			send_equipment = {
				target = FROM 
				type = support_equipment
				amount = 500
				old_prioritised = yes
			}
			send_equipment = {
				target = FROM 
				type = horse_equipment_0
				amount = 500
				old_prioritised = yes
			}
		}
	}
	option = { #Re-route production lines# 
		name = germany.31.b 

		add_timed_idea = {
			idea = GER_production_assistance_to_RK
			days = 60 
		} 

		FROM = {
			add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 }
			add_equipment_to_stockpile = { type = support_equipment amount = 500 }
			add_equipment_to_stockpile = { type = horse_equipment_0 amount = 500 }
		}
	}

	option = { #Impossible# 
		name = germany.31.c 
		every_state = {
			limit = {
				is_controlled_by = FROM 
			}
			add_resistance_target = {
				amount = 5
				tooltip = germany_didnt_help_us_tt
			}
		}
	}
}

country_event = {
	id = germany.32
	title = germany.32.t
	desc = germany.32.d
	picture = GFX_report_event_germany_politician_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.32.a 
		ROOT = {
			add_manpower = -20000
		}
		FROM = {
			add_manpower = 20000 
		}
	}
	option = {
		name = germany.32.b 
		add_stability = -0.1 
		FROM = {
			add_manpower = 20000 
		}
	}
	option = {
		name = germany.32.c
		every_state = {
			limit = {
				is_controlled_by = FROM 
			}
			add_resistance_target = {
				amount = 5
				tooltip = germany_didnt_help_us_tt
			}
		}
	}
}

country_event = {
	id = germany.33
	title = germany.33.t
	desc = germany.33.d
	picture = GFX_report_event_germany_politician_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.33.a 
		add_timed_idea = {
			idea = GER_industrial_assistance_to_RK
			days = 60 
		} 
		FROM = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					instant_build = yes 
					level = 2 
				}
			}
		}
	}
	option = {
		name = germany.33.b 
		every_state = {
			limit = {
				is_controlled_by = FROM 
			}
			add_resistance_target = {
				amount = 5
				tooltip = germany_didnt_help_us_tt
			}
		}
	}
}

country_event = {
	id = germany.34
	title = germany.34.t
	desc = germany.34.d
	picture = GFX_report_event_germany_politician_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.34.a 
		add_political_power = -100
	}
	option = {
		name = germany.34.b
		FROM = {
			add_political_power = 100
		}
		every_state = {
			limit = {
				is_controlled_by = FROM 
			}
			add_resistance_target = {
				amount = 5
				tooltip = germany_didnt_help_us_tt
			}
		}
	}
}

### Munich Conference

# Britain
country_event = {
	id = germany.40
	title = germany.40.t
	desc = {
		text = germany.40.d
		trigger = { NOT = { has_war_with = GER } }
	}
	desc = {
		text = germany.40.d_2
		trigger = { has_war_with = GER }
	}
	picture = GFX_report_event_german_politician_speech
	
	is_triggered_only = yes
	
	option = { # Abandon the Czechs
		name = germany.40.a
		ai_chance = { 
			factor = 90 
			modifier = {
				factor = 0.3
				has_government = communism
				CZE = { has_government = communism }
			}
			modifier = {
				has_global_flag = GER_has_started_war
				NOT = { is_in_faction_with = GER }
				factor = 0
			}
		}
		trigger = { 
			NOT = { has_war_with = GER } 
			is_puppet = no # can't do anything if puppet
		}		FRA = { country_event = germany.41 }
		CZE = {
			add_opinion_modifier = { target = ENG modifier = western_betrayal }
		}
				if = {
			limit = {
				CZE = { is_guaranteed_by = ENG }
			}
			ENG = {
				diplomatic_relation = {
   					country = CZE
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = ignore
					id = "CZE"
					value = 100
				}
			}
		}
	}
	
}

# France (Britain Backs Down)
country_event = {
	id = germany.41
	title = germany.40.t
	desc = germany.41.d
	picture = GFX_report_event_chamberlain_announce

	is_triggered_only = yes
	
	option = { # Follow Britain's lead
		name = germany.41.a
		CZE = { 
			country_event = germany.46
			add_opinion_modifier = { target = FRA modifier = western_betrayal }
		}
		if = {
			limit = {
				is_in_faction_with = CZE
				is_faction_leader = yes
			}
			dismantle_faction = yes 
		}
		if = {
			limit = {
				is_in_faction_with = CZE
				is_faction_leader = no
			}
			random_other_country = {
				limit = {
					is_in_faction_with = FRA
					is_faction_leader = yes
				}
				remove_from_faction = FRA
			}
		}
		if = {
			limit = {
				CZE = { is_guaranteed_by = FRA }
			}
			FRA = {
				diplomatic_relation = {
   					country = CZE
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = ignore
					id = "CZE"
					value = 100
				}
			}
		}
	}
	
}

# France leaves the Allies
country_event = {
	id = germany.43
	title = germany.43.t
	desc = germany.43.d
	picture = GFX_report_event_french_british_officers
	
	is_triggered_only = yes
	
	option = {
		name = germany.43.a
		FRA = {
			add_opinion_modifier = { target = ENG modifier = abandoned_czechs }
			add_stability = -0.05
		}
	}
}

# Czechoslovakia (British and (possibly) French Support)
country_event = {
	id = germany.44
	title = germany.40.t
	desc = germany.44.d
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.44.a
		effect_tooltip = {
			GER = {			
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 69 }
				}
			}
		}
	}
}

# Czechoslovakia (French Support)
country_event = {
	id = germany.45
	title = germany.40.t
	desc = germany.45.d
	picture = GFX_report_event_chamberlain_announce
	
	is_triggered_only = yes
	
	option = {
		name = germany.45.a
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = CZE
					generator = { 69 }
				}
			}
		}
	}
}

# Czechoslovakia (Abandoned)
country_event = {
	id = germany.46
	title = germany.46.t
	desc = germany.46.d
	picture = GFX_report_event_czech_soldiers_01
	
	is_triggered_only = yes
	
	option = { # Surrender the Sudetenland
		name = germany.46.a
		ai_chance = {
			factor = 90
			modifier = { # Decrease chance CZE resists if AUS isn't taken first
				AUS = { exists = yes }
				factor = 0.5
			}
			modifier = {
				is_in_faction = yes
				factor = 0
			}
			modifier = { # If they stand a chance they will fight
				factor = 0
				strength_ratio = {
					tag = GER
					ratio > 0.75
				}
				NOT = {
					any_neighbor_country = {
						NOT = { tag = GER }
						is_in_faction_with = GER
					}
				}
			}
			modifier = {
				factor = 0
				is_puppet = yes
			}
			modifier = {
				factor = 0 #if you lead a faction, fight
				is_faction_leader = yes
			}
			modifier = {
				factor = 0.05 #if you are in a faction, maybe fight
				is_faction_leader = no
				is_in_faction = yes
			}
			modifier = {
				factor = 0
				is_puppet = yes
				NOT = { is_puppet_of = GER } #puppeted CZE wouldn't surrender Sudetenland otherwise
			}
			modifier = { # Increase it again if other bordering nations are in Axis
				any_neighbor_country = {
					NOT = { tag = GER }
					is_in_faction_with = GER
				}
				factor = 2.0
			}
		}
		GER = { country_event = germany.50 }
	}
}

# Germany (British and (possibly) French Support for Czechoslovakia)
country_event = {
	id = germany.47
	title = germany.40.t
	desc = germany.47.d
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.47.a
		create_wargoal = {
			type = take_state_focus
			target = CZE
			generator = { 69 74 }
		}
		add_state_claim = 69
		add_state_claim = 74
		hidden_effect = {
			news_event = { hours = 6 id = news.57 }
		}
		set_country_flag = allies_support_czechs
	}
}

# Germany (French Support for Czechoslovakia)
country_event = {
	id = germany.48
	title = germany.40.t
	desc = germany.48.d
	picture = GFX_report_event_chamberlain_announce
	
	is_triggered_only = yes
	
	option = {
		name = germany.48.a
		create_wargoal = {
			type = take_state_focus
			target = CZE
			generator = { 69 74 }
		}
		add_state_claim = 69
		add_state_claim = 74
		hidden_effect = {
			country_event = { hours = 6 id = news.58 }
		}
	}
}

# Germany (Czechoslovakia Refuses Demands)
country_event = {
	id = germany.49
	title = germany.40.t
	desc = germany.49.d
	picture = GFX_report_event_czech_soldiers_02
	
	is_triggered_only = yes
	
	option = {
		name = germany.49.a
		create_wargoal = {
			type = take_state_focus
			target = CZE
			generator = { 69 74 }
		}
		add_state_claim = 69
		add_state_claim = 74
		if = {
			limit = {
				CZE = {
					is_in_faction_with = GER
				}
			}
			GER = { remove_from_faction = CZE }
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.59 }
		}
	}
}

# Germany (Czechoslovakia Surrenders Sudetenland)
country_event = {
	id = germany.50
	title = germany.40.t
	desc = germany.50.d
	picture = GFX_report_event_german_politician_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.50.a
		69 = { add_core_of = GER }
		GER = { transfer_state = 69 }
		74 = { add_core_of = GER }
		GER = { transfer_state = 74 }
		set_country_flag = sudetenland_acquired
		add_war_support = 0.04
		add_stability = 0.02
		if = {
			limit = {
				88 = { is_owned_by = POL }
				POL = {
					NOT = {
						has_completed_focus = POL_embrace_dmowskis_thought
					}
				}
			}
			POL = { 
				country_event = { hours = 6 id = germany.52 }
			}
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.56 }
#			if = {           ## Should we enable this?
#				limit = {
#					has_dlc = "Death or Dishonor"
#					country_exists = YUG
#                   YUG = { has_war = no }
#					ENG = { NOT = { has_war_with = YUG } }
#				}
#				ENG = {
#					country_event = {
#						id = DOD_yugoslavia.42
#						days = 3
#					}
#				}
#			}
		}
	}
}

# Hungary (First Vienna Award)
country_event = {
	id = germany.51
	title = germany.51.t
	desc = germany.51.d
	picture = GFX_report_event_vienna_award_negotiations
	
	is_triggered_only = yes
	
	option = {
		name = germany.51.a
		HUN = { transfer_state = 664 }
		664 = {
			add_core_of = HUN 
		}
	}
}

# Poland (Zaolzie)
country_event = {
	id = germany.52
	title = germany.52.t
	desc = germany.52.d
	picture = GFX_report_event_polish_tanks_01
	
	is_triggered_only = yes
	
	option = {
		name = germany.52.a
		72 = { add_core_of = POL }
		POL = { transfer_state = 72 }
	}
}

# Czechoslovakia (The Fate of Czechoslovakia)
country_event = {
	id = germany.53
	title = germany.53.t
	desc = germany.53.d
	picture = GFX_report_event_german_politician_speech
	
	is_triggered_only = yes
	
	option = { # Agree
		name = germany.53.a
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					is_in_faction_with = ENG
					is_in_faction_with = FRA
					is_in_faction_with = POL
					is_puppet = yes
					GER = {
						AND = {
							has_war_with = ENG
							has_war_with = FRA
						}
					}
					GER = {
						AND = {
							has_war_with = SOV
							OR = {
								has_war_with = ENG
								has_war_with = FRA
							}
						}
					}
					GER = {
						has_war_with = POL
					}
				}
			}
			modifier = {
				factor = 0.5
				GER = {
					OR = {
						AND = {
							has_war_with = ENG
							NOT = {
								has_war_with = FRA
							}
						}
						AND = {
							has_war_with = FRA
							NOT = {
								has_war_with = ENG
							}
						}
					}
				}
				POL = {
					has_guaranteed = CZE
				}
			}
		}
		CZE = {
			delete_unit = { state = 761 disband = yes }
			delete_unit = { state = 69 disband = yes }
			delete_unit = { state = 9 disband = yes }
			delete_unit = { state = 75 disband = yes }
			delete_unit = { state = 74 disband = yes }
			delete_unit = { state = 72 disband = yes }
			delete_unit = { state = 809 disband = yes }
			delete_unit = { state = 70 disband = yes }
			delete_unit = { state = 664 disband = yes }
			delete_unit = { state = 71 disband = yes }
			delete_unit = { state = 73 disband = yes }
		}	

		GER = { country_event = germany.55 }
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				set_war_support = 0.6
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.1
			}
		}
		if = {
			limit = {
				has_DLC = "Death or Dishonor"
				country_exists = YUG
				YUG = { has_war = no }
			}
			#GER = {   ## enable this?
			#	country_event = {
			#		id = DOD_yugoslavia.32
			#		hours = 6
			#	}
			#}
		}
		custom_effect_tooltip = GAME_OVER_TT
	
	#set_country_flag = GER_the_end_of_czechoslovakia
			  # SLO = { change_tag_from = CZE }
		}			
}

# The Fate of Czechoslovakia
country_event = {
	id = germany.55
	title = germany.53.t
	desc = {
		text = germany.55.d
		trigger = { has_global_flag = end_of_czechoslovakia }
	}
	desc = {
		text = germany.55.d_2
		trigger = { NOT = { has_global_flag = end_of_czechoslovakia } }
	}
	picture = GFX_report_event_german_politician_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.55.a
		ai_chance = { 
			factor = 90
			modifier = {
				factor = 12
				is_historical_focus_on = yes
			}
		}
		#if = {
			#limit = {
				#70 = {
				#	OR = {
					#	is_owned_by = CZE
					#	is_owned_by = GER
				#	}
			#	#}
			#}
			#SLO = { transfer_state = 70 }
		#}
		#if = {
			#limit = {
				#71 = {
					#OR = {
						#is_owned_by = CZE
						#is_owned_by = GER
					#}
				#}
			#}
			#SLO = { transfer_state = 71 }
		#}
		if = {
			limit = {
				154 = { is_owned_by = HUN }
				HUN = {
					is_friend_or_potential_friend_of_GER = yes
				}
				73 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
				country_exists = HUN 
			}
			HUN = { transfer_state = 73 }
		}
		if = {
			limit = {
				OR = {
					NOT = { 154 = { is_owned_by = HUN } }
					HUN = { is_friend_or_potential_friend_of_GER = no }
				}				
				73 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 73 }
		}
		
		if = {
			limit = {
				664 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 664 }
		}
		CZE = {
			delete_unit = { state = 9 disband = yes }
			delete_unit = { state = 69 disband = yes }
			delete_unit = { state = 74 disband = yes }
			delete_unit = { state = 75 disband = yes }
			delete_unit = { state = 72 disband = yes }
			delete_unit = { state = 70 disband = yes }
			delete_unit = { state = 809 disband = yes }
			delete_unit = { state = 71 disband = yes }
			delete_unit = { state = 73 disband = yes }
			delete_unit = { state = 664 disband = yes }
		}
		if = {
			limit = { country_exists = CZE }
			SLO = { 
				if = {
					limit = {
						CZE = {
							AND = {
								has_army_experience > 29
								has_army_experience < 60
							}
						}
					}
					SLO = {
						add_doctrine_cost_reduction = {
							name = land_doc_bonus
							cost_reduction = 0.2
							uses = 1
							category = land_doctrine
						}
					}
				}
				if = {
					limit = {
						CZE = {
							AND = {
								has_army_experience > 59
								has_army_experience < 90
							}
						}
					}
					SLO = {
						add_doctrine_cost_reduction = {
							name = land_doc_bonus
							cost_reduction = 0.4
							uses = 1
							category = land_doctrine
						}
					}
				}
				if = {
					limit = {
						CZE = {
							AND = {
								has_army_experience > 89
								has_army_experience < 120
							}
						}
					}
					SLO = {
						add_doctrine_cost_reduction = {
							name = land_doc_bonus
							cost_reduction = 0.6
							uses = 1
							category = land_doctrine
						}
					}
				}
				if = {
					limit = {
						CZE = {
							AND = {
								has_army_experience > 119
								has_army_experience < 150
							}
						}
					}
					SLO = {
						add_doctrine_cost_reduction = {
							name = land_doc_bonus
							cost_reduction = 0.8
							uses = 1
							category = land_doctrine
						}
					}
				}
				if = {
					limit = {
						CZE = {
							has_army_experience > 150
						}
					}
					SLO = {
						add_doctrine_cost_reduction = {
							name = land_doc_bonus
							cost_reduction = 0.99
							uses = 1
							category = land_doctrine
						}
					}
				}
				if = {
					limit = {
						CZE = {
							has_completed_focus = CZE_bonus_research_slot_1
						}
					}
					SLO = {
						set_research_slots = 4
					}
					
				}
				else = {
					SLO = {
						set_research_slots = 3
					}
					
				}
				
				annex_country = { 
					target = CZE 
					transfer_troops = no
				} 
			}
	   	}
		#if = {
			##limit = { country_exists = CZE }
			#annex_country = { target = CZE }
			#add_war_support = 0.1
		#}
		add_war_support = 0.1
		if = {
			limit = {
				69 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = SLO
					}
				}
			}
			GER = { transfer_state = 69 }
		}
		if = {
			limit = {
				9 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = SLO
					}
				}
			}
			GER = { transfer_state = 9 }
		}
		if = {
			limit = {
				75 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = SLO
					}
				}
			}
			GER = { transfer_state = 75 }
		}
		if = {
			limit = {
				74 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = SLO
					}
				}
			}
			GER = { transfer_state = 74 }
		}
		every_state = {
			limit = {
				is_core_of = CZE
				is_controlled_by = ROOT
			}
			set_compliance = 25
		}
		if = {
			limit = {
				72 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = SLO
					}
				}
				country_exists = GER
			}
			GER = { transfer_state = 72 }
		}

		if = {
			limit = { has_global_flag = GER_HUN_CZE_split }
			HUN = { country_event = DOD_hungary.106 }
		}

		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
		
		hidden_effect = {
			country_event = { hours = 6 id = news.60 }
			every_state = {
				limit = {
					is_owned_by = SLO
				}
				add_core_of = SLO
			}
			664 = {
				add_core_of = SLO
			}
			ENG = {
				add_war_support = 0.1
			}
			FRA = {
				add_war_support = 0.1
			}
			SLO = {
				inherit_technology = CZE
				add_manpower = 50000
				add_command_power = -50
				
				if = {
					limit = {
						CZE = {
							has_idea = heritage_of_accomplishment
						}
					}
					add_ideas = heritage_of_accomplishment
				}
				if = {
					limit = {
						CZE = {
							has_idea = bold_attack_spirit
						}
					}
					add_ideas = bold_attack_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = tenacious_defense_spirit
						}
					}
					add_ideas = tenacious_defense_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = meticulous_preparation_spirit
						}
					}
					add_ideas = meticulous_preparation_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = best_of_the_best_spirit
						}
					}
					add_ideas = best_of_the_best_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = academy_scholarships_spirit
						}
					}
					add_ideas = academy_scholarships_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = political_loyalty_spirit
						}
					}
					add_ideas = political_loyalty_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = inventive_leadership_spirit
						}
					}
					add_ideas = inventive_leadership_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = mobile_warfare_academy_spirit
						}
					}
					add_ideas = mobile_warfare_academy_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = superior_firepower_academy_spirit
						}
					}
					add_ideas = superior_firepower_academy_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = theatre_training_spirit
						}
					}
					add_ideas = theatre_training_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = mass_assault_academy_spirit
						}
					}
					add_ideas = mass_assault_academy_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = professional_officer_corps_spirit
						}
					}
					add_ideas = professional_officer_corps_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = elevated_engineering_corps_spirit
						}
					}
					add_ideas = elevated_engineering_corps_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = proper_heritage_spirit
						}
					}
					add_ideas = proper_heritage_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = quick_improvisation_spirit
						}
					}
					add_ideas = quick_improvisation_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = relief_of_command_spirit
						}
					}
					add_ideas = relief_of_command_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = schorner_ideological_loyalty_spirit
						}
					}
					add_ideas = schorner_ideological_loyalty_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = mussolini_ideological_loyalty_spirit
						}
					}
					add_ideas = mussolini_ideological_loyalty_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = ideological_loyalty_spirit
						}
					}
					add_ideas = ideological_loyalty_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = state_serves_the_military_spirit
						}
					}
					add_ideas = state_serves_the_military_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = mobile_warfare_army_spirit
						}
					}
					add_ideas = mobile_warfare_army_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = superior_firepower_army_spirit
						}
					}
					add_ideas = superior_firepower_army_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = division_command_spirit
						}
					}
					add_ideas = division_command_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = grand_battleplan_army_spirit
						}
					}
					add_ideas = grand_battleplan_army_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = mass_assault_army_spirit
						}
					}
					add_ideas = mass_assault_army_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = flexible_organization_spirit
						}
					}
					add_ideas = flexible_organization_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = aggressive_reconnaisance_spirit
						}
					}
					add_ideas = aggressive_reconnaisance_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = reserve_officers_spirit
						}
					}
					add_ideas = reserve_officers_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = victory_or_death_spirit
						}
					}
					add_ideas = victory_or_death_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = maneuver_warfare_spirit
						}
					}
					add_ideas = maneuver_warfare_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = smoke_and_fire_spirit
						}
					}
					add_ideas = smoke_and_fire_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = logistical_focus_spirit
						}
					}
					add_ideas = logistical_focus_spirit
				}
				if = {
					limit = {
						CZE = {
							has_idea = operational_reserve_spirit
						}
					}
					add_ideas = operational_reserve_spirit
				}
				
				
				set_technology = {
					slo_1940_light_tank_chassis = 1
				}
				load_oob = SLO_1939
			}
		}
		set_country_flag = GER_the_end_of_czechoslovakia
		set_country_flag = GER_the_end_of_czechoslovakia
			SLO = { change_tag_from = CZE }
	}
	
	option = {
		name = germany.55.b
		ENG = {
				add_war_support = 0.1
			}
			FRA = {
				add_war_support = 0.1
			}
		ai_chance = { 
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		trigger = {
			664 = { is_owned_by = HUN }
			HUN = {
				is_friend_or_potential_friend_of_GER = yes
			}
			NOT = { has_global_flag = GER_HUN_CZE_split }
		}
		HUN = { country_event = germany.56 }
		every_state = {
			limit = {
				is_core_of = CZE
				is_controlled_by = ROOT
			}
			set_compliance = 35
		}
		add_war_support = 0.1
		if = {
			limit = {
				72 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = SLO
					}
				}
				country_exists = GER
			}
			GER = { transfer_state = 72 }
		}
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
		set_country_flag = GER_the_end_of_czechoslovakia		
	}

	option = {
		name = germany.55.c
		add_political_power = -50
		ai_chance = { 
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		ENG = {
				add_war_support = 0.1
			}
			FRA = {
				add_war_support = 0.1
			}
		if = {
			limit = { country_exists = CZE }
			annex_country = { target = CZE }
			add_war_support = 0.1
		}
		if = {
			limit = { has_global_flag = GER_HUN_CZE_split }
			HUN = { country_event = DOD_hungary.106 }
		}
		every_state = {
			limit = {
				is_core_of = CZE
				is_controlled_by = ROOT
			}
			set_compliance = 25
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.62 }
		}
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
		set_country_flag = GER_the_end_of_czechoslovakia		
	}
	

	option = {
		name = germany.55.do
		trigger = {
			has_global_flag = GER_HUN_CZE_split #promised Hungary Slovakia in earlier event 
		}
		ENG = {
				add_war_support = 0.1
			}
			FRA = {
				add_war_support = 0.1
			}
		ai_chance = { 
			factor = 100
			modifier = {
				factor = 10
				is_in_faction_with = HUN
			}
		}
		every_state = {
			limit = {
				is_core_of = CZE
				is_controlled_by = ROOT
			}
			set_compliance = 25
		}
		HUN = { country_event = DOD_hungary.101 }
		add_war_support = 0.1
		custom_effect_tooltip = end_of_czechoslovakia_mefo_bills_tt
		add_to_variable = { var = GER_mefo_bill_counter value = -5 }
		GER_mefo_bills_level_down = yes
		set_country_flag = GER_the_end_of_czechoslovakia		
	}
}

# Hungary asked to partition Czechoslovakia
country_event = {
	id = germany.56
	title = germany.56.t
	desc = {
		text = germany.56.d
		trigger = { has_global_flag = end_of_czechoslovakia }
	}
	desc = {
		text = germany.56.d_2
		trigger = { NOT = { has_global_flag = end_of_czechoslovakia } }
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes

	option = {
		name = germany.56.a
		ai_chance = { factor = 100 }
		transfer_state = 70
		transfer_state = 71
		transfer_state = 73
		transfer_state = 809
		transfer_state = 123
		hidden_effect = {
			GER = {
				annex_country = { target = CZE }
				add_to_faction = HUN				
			}
			HUN = {
				add_ai_strategy = {
					type = alliance
					id = "GER"
					value = 200
				}
			}
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.61 }
		}
	}
	
	option = {
		name = germany.56.b
		ai_chance = { factor = 0 }
		trigger = {
			NOT = { is_puppet_of = GER }
		}
		GER = { 
			country_event = { hours = 6 id = germany.55 }
		}
	}
}

# Hungary refuses partition!
country_event = {
	id = germany.57
	title = germany.57.t
	desc = germany.57.d
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.57.a
		add_political_power = -20
		ai_chance = { factor = 60 }
		if = {
			limit = {
				70 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 70 }
		}
		if = {
			limit = {
				71 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 71 }
		}
		if = {
			limit = {
				154 = { is_owned_by = HUN }
				73 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			HUN = { transfer_state = 73 }
		}
		if = {
			limit = {
				NOT = { 154 = { is_owned_by = HUN } }
				73 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 73 }
		}
		if = {
			limit = {
				664 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			SLO = { transfer_state = 664 }
		}
		if = {
			limit = { country_exists = CZE }
			annex_country = { target = CZE }
		}
		add_to_faction = SLO
		SLO = {
			add_ai_strategy = {
				type = alliance
				id = "GER"
				value = 200
			}
		}
		if = {
			limit = {
				72 = {
					OR = {
						is_owned_by = CZE
						is_owned_by = GER
					}
				}
			}
			POL = { transfer_state = 72 } # Give Poland Zaolzie
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.60 }
		}
	}
	option = {
		name = germany.57.b
		add_political_power = -40
		ai_chance = { factor = 40 }
		if = {
			limit = { country_exists = CZE }
			annex_country = { target = CZE }
		}
		hidden_effect = {
			country_event = { hours = 6 id = news.62 }
		}
	}
}

# Polish Question Completed
country_event = {
	id = germany.58
	title = germany.58.t
	desc = germany.58.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.58.a
		add_political_power = 150
	}

}

### Remilitarization of the Rhineland

# French Response
country_event = {
	id = germany.60
	title = germany.60.t
	desc = germany.60.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	

	option = { # Diplomatic response
		name = germany.60.b
		ai_chance = { 
			factor = 100 
			modifier = {
				has_global_flag = GER_has_started_war
				factor = 0
			}
		}
		ENG = { country_event = germany.62 }
		add_opinion_modifier = { target = GER modifier = protest_action }
		GER = {
			add_war_support = 0.05
		}
	}
}

# British Response (French Press for War)
country_event = {
	id = germany.61
	title = germany.60.t
	desc = germany.61.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = { # War out of the question
		name = germany.61.a
		ai_chance = { 
			factor = 90 
			modifier = {
				has_global_flag = GER_has_started_war
				factor = 0
			}
		}
		FRA = { 
			country_event = { hours = 6 id = germany.63 }
		}
	}
	option = { # Support France
		name = germany.61.b
		ai_chance = { 
			factor = 0
			modifier = {
				factor = 1
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
			} 
		}
		add_political_power = -150
		add_stability = -0.2
		add_popularity = {
			ideology = communism
			popularity = 0.25
		}
		if = {
			limit = {
				FRA = { is_faction_leader = yes }
			}
			every_other_country = {
				limit = { is_in_faction_with = FRA NOT = { has_war_with = ENG } }
				ENG = { add_to_faction = PREV }
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		if = {
			limit = { FRA = { is_in_faction = no } }
			add_to_faction = FRA
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		FRA = { 
			country_event = { hours = 6 id = germany.64 }
		}
	}
}

# British Response (French Want Peace)
country_event = {
	id = germany.62
	title = germany.60.t
	desc = germany.62.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.62.a
		hidden_effect = {
			news_event = { hours = 6 id = news.25 }
		}
		add_opinion_modifier = { target = GER modifier = protest_action }
	}
}

# France (Britain Refuses Support)
country_event = {
	id = germany.63
	title = germany.63.t
	desc = germany.63.d
	picture = GFX_report_event_chamberlain_announce
	is_triggered_only = yes
	
	option = { # Push Ahead
		name = germany.63.a
		ai_chance = { 
			factor = 60
			modifier = {
				factor = 3
				strength_ratio = {
					tag = GER
					ratio > 1.0
				}
				NOT = { has_idea = FRA_disjointed_government }
			}
			modifier = {
				factor = 0
				has_idea = FRA_disjointed_government
			}			
		}		
		GER = { country_event = germany.66 }
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				has_government = communism
				}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}
	option = { # Back Down
		name = germany.63.b
		ai_chance = { factor = 40 }
		ENG = { country_event = germany.67 }
		add_opinion_modifier = { target = GER modifier = protest_action }
	}
}

# France (Britain Gives Support)
country_event = {
	id = germany.64
	title = germany.64.t
	desc = germany.64.d
	picture = GFX_report_event_british_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.64.a
		GER = { country_event = germany.65 }
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				NOT = { has_government = communism }
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
		}
		if = {
			limit = { 
				has_idea = FRA_disjointed_government 
				has_government = communism
			}
			custom_effect_tooltip = germany.60.a.tt
			effect_tooltip = {
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
	}
}

# Germany (France and Britain go to war)
country_event = {
	id = germany.65
	title = germany.65.t
	desc = germany.65.d
	picture = GFX_report_event_british_artillery
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FRA
					ratio < 1
				}
				strength_ratio = {
					tag = ENG
					ratio < 1
				}
			}
		}
		name = germany.65.a
		FRA = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 42 51 } 
			}
			country_event = germany.92
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					NOT = { has_government = communism }
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					has_government = communism
				}
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.26 }
		}
	}
	option = {
		name = germany.65.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FRA
					ratio > 1
				}
				strength_ratio = {
					tag = ENG
					ratio > 1
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.151 }
		}
		set_country_flag = GER_rhineland_backed_down
		42 = { set_demilitarized_zone = yes }
		51 = { set_demilitarized_zone = yes }
		add_timed_idea = {
			idea = rhineland_challenge_met
			days = 183
		}
	}
}

# Germany (France goes to war)
country_event = {
	id = germany.66
	title = germany.66.t
	desc = germany.66.d
	picture = GFX_report_event_degaulle_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.65.a
		add_war_support = 0.05 #original German clay
		ENG = { 
			country_event = germany.68 
			if = {
				limit = {
					ENG = { 
						is_in_faction_with = FRA 
						is_faction_leader = yes
					}
				}
				remove_from_faction = FRA
			}
		}
		FRA = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 42 51 } 
			}
			country_event = germany.92
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					NOT = { has_government = communism }
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					has_government = communism
				}
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.27 }
		}
	}

	option = {
		name = germany.65.b
		hidden_effect = {
			news_event = { hours = 6 id = news.152 }
		}
		set_country_flag = GER_rhineland_backed_down
		add_war_support = -0.1 #That was scary for a moment there!
		42 = { set_demilitarized_zone = yes }
		51 = { set_demilitarized_zone = yes }
		add_timed_idea = {
			idea = rhineland_challenge_met
			days = 183
		}
	}
}

# Britain (France Backs Down)
country_event = {
	id = germany.67
	title = germany.67.t
	desc = germany.67.d
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.67.a
		hidden_effect = {
			news_event = { hours = 6 id = news.25 }
		}
		add_opinion_modifier = { target = GER modifier = protest_action }
		GER = {
			add_war_support = 0.05
		}
	}
}

# Britain (France Goes Ahead Anyway)
country_event = {
	id = germany.68
	title = germany.68.t
	desc = germany.68.d
	picture = GFX_report_event_french_liberation
	
	is_triggered_only = yes
	
	option = {
		name = germany.68.a
	}
}

# Conspiracy defeated, but Hitler is dead
country_event = {
	id = germany.71
	title = germany.71.t
	desc = germany.71.d
	picture = GFX_report_event_europe_funeral
	
	is_triggered_only = yes
	
	option = { # Himmler
		name = germany.71.a
		# Himmler becomes the new Fascist leader of Germany
		kill_country_leader = yes
		add_stability = -0.05
		create_country_leader = {
			name = "Heinrich Himmler"
			desc = "POLITICS_HEINRICH_HIMMLER_DESC"
			picture = "Portrait_Germany_Heinrich_Himmler.dds"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.28 }
		}
	}
	option = { # Göring
		name = germany.71.b
		# Göring becomes the new Fascist leader of Germany
		kill_country_leader = yes
		add_stability = 0.05
		create_country_leader = {
			name = "Hermann Göring"
			desc = "POLITICS_HERMANN_GORING_DESC"
			picture = "Portrait_Germany_Hermann_Goring.dds"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.29 }
		}
	}
}

# Conspiracy defeated, Hitler survives
country_event = {
	id = germany.72
	title = germany.72.t
	desc = germany.72.d
	picture = GFX_report_event_hitler_parade
	
	is_triggered_only = yes
	
	option = {
		name = germany.72.a
		add_stability = 0.15
		hidden_effect = {
			news_event = { hours = 6 id = news.30 }
		}
	}
}

# Conspiracy successful, Civil War begins
country_event = {
	id = germany.73
	title = germany.73.t
	desc = germany.73.d
	picture = GFX_report_event_german_reichstag_bombed
	
	is_triggered_only = yes
	
	option = { # Side with the Rebels
		name = germany.73.a
		trigger = { is_ai = no }
		set_country_flag = german_rebels
		kill_country_leader = yes
		create_country_leader = {
			name = "Heinrich Himmler"
			desc = "POLITICS_HEINRICH_HIMMLER_DESC"
			picture = "Portrait_Germany_Heinrich_Himmler.dds"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		if = {
			limit = {
				OR = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ruling_party = democratic
				ideology = fascism
				size = 0.5
			}
		}
		if = {
			limit = {
				NOT = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ruling_party = democratic
				ideology = fascism
				size = 0.7
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.31 }
		}
	}
	option = { # Side with Himmler
		name = germany.73.b
		# Himmler becomes the new Fascist leader of Germany
		kill_country_leader = yes
		create_country_leader = {
			name = "Heinrich Himmler"
			desc = "POLITICS_HEINRICH_HIMMLER_DESC"
			picture = "Portrait_Germany_Heinrich_Himmler.dds"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		if = {
			limit = {
				OR = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.5
			}
		}
		if = {
			limit = {
				NOT = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.3
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.31 }
		}
	}
	option = { # Side with Göring
		name = germany.73.c
		# Göring becomes the new Fascist leader of Germany
		kill_country_leader = yes
		create_country_leader = {
			name = "Hermann Göring"
			desc = "POLITICS_HERMANN_GORING_DESC"
			picture = "Portrait_Germany_Hermann_Goring.dds"
			expire = "1965.1.1"
			ideology = nazism
			traits = {
			}
		}
		if = {
			limit = {
				OR = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.5
			}
		}
		if = {
			limit = {
				NOT = {
					any_war_score < 39
					has_stability < 60
				}
			}
			start_civil_war = {
				ideology = democratic
				size = 0.3
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.31 }
		}
	}
}

# Anschluss Preparations
country_event = {
	id = germany.74
	title = germany.74.t
	desc = germany.74.d
	picture = GFX_report_event_fascist_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.74.a
		#add_ideas = elyesa_bazna
	}
}

# German-Soviet Treaty (Soviets)
country_event = {
	id = germany.75
	title = germany.75.t
	desc = germany.75.d
	picture = GFX_report_event_physics_lab_01
	
	is_triggered_only = yes

	fire_only_once = yes 
	
	option = {
		name = germany.75.a	#sounds good
		GER = {
			country_event = { days = 1 id = germany.76 }
			add_opinion_modifier = {
				target = ROOT
				modifier = sov_ger_treaty
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = sov_ger_treaty_trade
			}
		}
		
		add_tech_bonus = {
			name = armor_bonus
			bonus = 0.5
			uses = 1
			category = armor
		}
		add_tech_bonus = {
			bonus = 0.5
			category = tank_upgrade
		}
		add_tech_bonus = {
			bonus = 1
			category = cat_mechanized_equipment
		}
	}
}

# Soviets Accept German-Soviet Treaty
country_event = {
	id = germany.76
	title = germany.76.t
	desc = germany.76.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes
	
	option = {
		name = germany.76.a	
		GER = {
		
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 1
				category = armor
			}
			add_tech_bonus = {
				bonus = 0.5
				category = tank_upgrade
			}
			add_tech_bonus = {
				bonus = 1
				category = cat_mechanized_equipment
			}
			add_opinion_modifier = { target = GER modifier = sov_ger_treaty }
			add_opinion_modifier = { target = GER modifier = sov_ger_treaty_trade }
		}
	}
}

# Soviets Reject German-Soviet Treaty
country_event = {
	id = germany.77
	title = germany.77.t
	desc = germany.77.d
	picture = GFX_report_event_physics_lab_02

	is_triggered_only = yes
	
	option = {
		name = germany.77.a
		#add_opinion_modifier = { target = SOV modifier = refused_MR_pact }# no pact
	}
}

# German Joint Air Research
country_event = {
	id = germany.78
	title = germany.78.t
	desc = germany.78.d
	picture = GFX_report_event_radar_01

	is_triggered_only = yes
	
	option = {
		name = germany.78.a
		add_tech_bonus = {
				name = radar_tech_bonus
				bonus = 0.25
				uses = 1
				category = air_doctrine
			}
	}
}

# Ultimatum from Germany (Turkey)
country_event = {
	id = germany.79
	title = germany.79.t
	desc = germany.79.d
	picture = GFX_report_event_german_turkish_pact

	is_triggered_only = yes
	
	option = {
		name = germany.79.a
		ai_chance = {
			factor = 70
			modifier = {
				NOT = { BUL = { is_in_faction_with = GER } }
				factor = 0.5
			}
		}
		GER = { puppet = TUR }
		SOV = {
			transfer_state = 354
			transfer_state = 353
			transfer_state = 352
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.201 }
		}
	}
	
	option = {
		name = germany.79.b
		ai_chance = { 
			factor = 10 
			modifier = {
				GER = { surrender_progress > 0.25 }
				factor = 5 #seems safe
			}
			modifier = {
				has_government = democratic
				factor = 5
			}
		}
		trigger = {
			TUR = {
				is_puppet = no
			}
			NOT = {
				has_war_with = ENG
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = TUR
				}
			}
			ENG = {
				is_faction_leader = yes
			}
		}
		ENG = { add_to_faction = TUR }
		TUR = {
			add_ai_strategy = {
				type = alliance
				id = "ENG"
				value = 200
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.217 }
		}
	}
	
	option = {
		name = germany.79.c
		ai_chance = { 
			factor = 20 
			modifier = {
				NOT = {
					has_government = fascism
				}
				factor = 5
			}
			modifier = {
			
				AND = {
					ENG = { 
						has_capitulated = no 
						has_war_with = GER
					}
					SOV = { 
						has_capitulated = no 
						has_war_with = GER
					}
					USA = { 
						has_capitulated = no 
						has_war_with = GER
					}
				}
			
				factor = 5 #lol come at me bro
			}
		}
		GER = {
			create_wargoal = {
				target = TUR
				type = puppet_wargoal_focus
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.216 }
		}
	}
}

# Danzig for Slovakia (Poland)
country_event = {
	id = germany.80
	title = germany.80.t
	desc = germany.80.d
	picture = GFX_report_event_german_polish_border

	is_triggered_only = yes
	
	option = {
		name = germany.80.a
		
		ai_chance = {
			factor = 10	
		}

		GER = { country_event = { id = germany.81 days = 1 } }
		effect_tooltip = {
			if = {
				limit = { SLO = { exists = yes } }
				annex_country = { target = SLO }
			}
			if = {
				limit = { GER = { owns_state = 70 } }
				transfer_state = 70
			}
			if = {
				limit = { GER = { owns_state = 71 } }
				transfer_state = 71
			}
			if = {
				limit = { GER = { owns_state = 73 } }
				transfer_state = 73
			}
			if = {
				limit = { GER = { owns_state = 664 } }
				transfer_state = 664
			}
			GER = { transfer_state = 85 }
			if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = -0.07 #dodged a bullet there
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = -0.07 #dodged a bullet there
			}
		}
		}
	}
	
	option = {	
		name = germany.80.b
		ai_chance = { 
			factor = 1
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}			
		}		
		GER = {
			country_event = { id = germany.82 days = 1 }
			if = {
				limit = { 
					is_in_faction_with = POL
					is_faction_leader = yes
				}
				remove_from_faction = POL
			}
			if = {
				limit = { 
					is_in_faction_with = POL
					is_faction_leader = no
				}
				random_other_country = {
					limit = { 
						is_in_faction_with = GER
						is_faction_leader = yes
					}
					remove_from_faction = GER
				}
			}				
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = POL
					generator = { 85 }
				}
			}
		}
	}
}

# Poland Accepts, Cedes Danzig
country_event = {
	id = germany.81
	title = germany.81.t
	desc = germany.81.d
	picture = GFX_report_event_german_polish_border

	is_triggered_only = yes
	
	option = {
		name = germany.81.a
		if = {
			limit = { SLO = { exists = yes } }
			POL = { annex_country = { target = SLO } }
		}
		if = {
			limit = { owns_state = 70 }
			POL = { transfer_state = 70 }
		}
		if = {
			limit = { owns_state = 71 }
			POL = { transfer_state = 71 }
		}
		if = {
			limit = { owns_state = 73 }
			POL = { transfer_state = 73 }
		}
		if = {
			limit = { owns_state = 664 }
			POL = { transfer_state = 664 }
		}
		transfer_state = 85

		hidden_effect = {
			news_event = { hours = 6 id = news.202 }
		}
	}
}

# Poland Refuses to give up Danzig 
country_event = {
	id = germany.82
	title = germany.82.t
	desc = germany.82.d
	picture = GFX_report_event_polish_army

	is_triggered_only = yes
	
	option = {
		name = germany.82.a
		create_wargoal = {
			type = take_state_focus
			target = POL
			generator = { 85 }
		}
		if = {
			limit = {
				NOT = { has_global_flag = sov_yes_pact }
			}
		 
			effect_tooltip = {
				SOV = {
					add_opinion_modifier = { target = GER modifier = embargo }
				}
			}
		}
		
	}
}

# Anti-Soviet Pact
country_event = {
	id = germany.83
	title = germany.83.t
	desc = germany.83.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 10
		}
		name = germany.83.a		#join
		add_ideas = anti_soviet_pact
		SOV = {
			remove_opinion_modifier = { target = ROOT modifier = pact_against_us }
			add_opinion_modifier = { target = ROOT modifier = worse_pact_against_us }
		}
	}
	
	option = {
		name = germany.83.b		#refuse
		ai_chance = {
			factor = 2
		}
	}
}

# Call Pact Members to War (Instigator)
country_event = {
	id = germany.84
	title = germany.84.t
	desc = germany.84.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	#immediate = {
	#	remove_ideas = anti_soviet_pact
	#}

	option = {
		name = germany.84.a
		every_other_country = {
			limit = {
				has_idea = anti_soviet_pact
				NOT = { has_war_with = SOV }
				any_other_country = {
					has_idea = anti_soviet_pact
					has_war_with = SOV
				}
			}
			country_event = { id = germany.85 days = 1 }
		}
		hidden_effect = {
			if = {
				limit = {
					original_tag = GER
					has_government = neutrality
				}
				country_event = { id = germany.127 days = 7 random = 7 }
			}
		}
	}
}

# [From.GetName] Calls Pact Members to War
country_event = {
	id = germany.85
	title = germany.85.t
	title = {
		text = germany.85.t.a
		trigger = {
			OR = {
				NOT = { FROM = { original_tag = POL } }
				NOT = { original_tag = GER }
				
			}
		}
	}
	title = {
		text = germany.85.t.b
		trigger = {
			FROM = { original_tag = POL }
			original_tag = GER
			
		}
	}
	desc = { 
		text = germany.85.desc.a
		trigger = {
			OR = {
				NOT = { FROM = { original_tag = POL } }
				NOT = { original_tag = GER }
				
			}
		}
	}
	desc = { 
		text = germany.85.desc.b
		trigger = {
			FROM = { original_tag = POL }
			original_tag = GER
			
		}
	}
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes
	
	#immediate = {
	#	remove_ideas = anti_soviet_pact
	#}
	
	option = {
		name = germany.85.a
		ai_chance = {
			factor = 10
		}
		add_to_war = {
			targeted_alliance = FROM
			enemy = SOV
			hostility_reason = ally
		}
		hidden_effect = {
			if = {
				limit = {
					original_tag = GER
				}
				country_event = { id = germany.127 days = 7 random = 7 }
			}
		}
	}

	option = {
		name = germany.85.b
		trigger = {
			NOT = { FROM = { original_tag = POL } }
			NOT = { original_tag = GER }
			
		}
		ai_chance = {
			factor = 0
		}
		remove_ideas = anti_soviet_pact
		FROM = { add_opinion_modifier = { target = ROOT modifier = anti_soviet_pact_call_refused } }
		SOV = { remove_opinion_modifier = { target = SOV modifier = worse_pact_against_us } }
		add_timed_idea = {
			idea = anti_soviet_pact_refused_call
			days = 365 
		}
		custom_effect_tooltip = germany.85.b_tt
		hidden_effect = {
			country_event = { id = germany.112 days = 3 } 
		}
	}
}

# Danzig or War (Poland)
country_event = {
	id = germany.86
	title = germany.86.t
	desc = germany.86.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = GER }
	}
		
	option = {
		name = germany.86.b
		ai_chance = {
			factor = 20
			modifier = {
				factor = 3
				strength_ratio = {
					tag = GER
					ratio > 0.7
				}
			}
			modifier = {
				factor = 3
				strength_ratio = {
					tag = GER
					ratio > 1.0
				}
			}
			modifier = {
				factor = 5
				any_other_country = {
					is_major = yes
					is_in_faction_with = POL
				}
			}
		}
		GER = { country_event = { id = germany.88 days = 1 } 
			if = {
				limit = {
					is_in_faction_with = POL
					is_faction_leader = yes
				}
				remove_from_faction = POL
			}
			if = {
				limit = { 
					is_in_faction_with = POL
					is_faction_leader = no
				}
				random_other_country = {
					limit = { 
						is_in_faction_with = GER
						is_faction_leader = yes
					}
					remove_from_faction = GER
				}
			}			
		}		
		hidden_effect = {
			news_event = { hours = 1 id = news.204 }
		}
		effect_tooltip = {
			GER = {
				declare_war_on = {
					target = POL
					type = take_state
					generator = { 85 }
				}
			}
		}
	}
}

# Poland Cedes Danzig (Danzig or War)
country_event = {
	id = germany.87
	title = germany.87.t
	desc = germany.87.d
	picture = GFX_report_event_german_polish_border

	is_triggered_only = yes
	
	option = {
		name = germany.87.a
		transfer_state = 85
		remove_state_claim = 86
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = -0.1 #dodged a bullet there
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = -0.1 #dodged a bullet there
			}
		}
	}
}

# Poland Refuses to Cede Danzig (Danzig or War)
country_event = {
	id = germany.88
	title = germany.88.t
	desc = germany.88.d
	picture = GFX_report_event_polish_tanks_02

	is_triggered_only = yes
	
	option = {
		hidden_effect = {
			every_country = {
				limit = { has_naval_treaty_trigger = yes }
				remove_naval_treaty_effect = yes
				set_country_flag = FLG_treaty_already_gone
				#MTG_TODO_GABRIEL: news event
			}
			ITA = {
				set_country_flag = FLG_treaty_already_gone
				set_variable = {
					ITA_production_cost_max_ship_hull_cruiser_var = 0
				}
				set_variable = {
					ITA_production_cost_max_ship_hull_heavy_var = 0
				}
				set_variable = {
					ITA_production_cost_max_ship_hull_carrier_var = 0
				}
				set_variable = {
					ITA_production_speed_dockyard_factor2_var = 0
				}
			}
			ENG = {
				set_variable = {
					ENG_stability_factor_var = 0
				}
				set_variable = {
					ENG_production_speed_arms_factory_factor_var = 0
				}
				set_variable = {
					ENG_production_speed_industrial_complex_factor_var = 0
				}
				set_variable = {
					ENG_war_support_factor_var = 0
				}
				set_variable = {
					ENG_political_power_factor_var = 0
				}
				set_variable = {
					ENG_political_power_cost_var = 0
				}
				add_to_variable = {
					ENG_experience_gain_army_factor_var = -0.1
				}
				set_variable = {
					ENG_production_cost_max_ship_hull_cruiser_var = 0
				}
				set_variable = {
					ENG_production_cost_max_ship_hull_heavy_var = 0
				}
				set_variable = {
					ENG_production_cost_max_ship_hull_carrier_var = 0
				}
				set_variable = {
					ENG_political_power_cost_var = 0
				}
			}
		}
		name = germany.88.a
		declare_war_on = {
				target = POL
				type = annex_everything
		}
		annex_country = {
                target = DNZ
                transfer_troops = yes
        }
		ENG = { add_to_faction = POL }
		ENG = { add_to_faction = FRA }
		ENG = { 
			add_to_war = { 
				targeted_alliance = POL 
				enemy = GER 
			}
		}
		if = {
			limit = {
				country_exists = SAF
			}
			SAF = { 
				add_to_war = { 
					targeted_alliance = POL 
					enemy = GER 
				}
			}
		}
		if = {
			limit = {
				country_exists = AST
			}
			AST = { 
				add_to_war = { 
					targeted_alliance = POL 
					enemy = GER 
				}
			}
		}
		if = {
			limit = {
				IRE = {
					is_in_faction_with = ENG
				}	
			}	
			IRE = { 
				add_to_war = { 
					targeted_alliance = POL 
					enemy = GER 
				}
			}
		}
		if = {
			limit = {
				MEX = {
					is_in_faction_with = ENG
				}	
			}	
			MEX = { 
				add_to_war = { 
					targeted_alliance = POL 
					enemy = GER 
				}
			}
		}
		if = {
			limit = {
				BRA = {
					is_in_faction_with = ENG
				}	
			}	
			BRA = { 
				add_to_war = { 
					targeted_alliance = POL 
					enemy = GER 
				}
			}
		}
		CAN = { 
			add_to_war = { 
				targeted_alliance = POL 
				enemy = GER 
			}
		}
		RAJ = { 
			add_to_war = { 
				targeted_alliance = POL 
				enemy = GER 
			}
		}
		FRA = { 
			add_to_war = { 
				targeted_alliance = POL 
				enemy = GER 
			}
		}
		if = {
			limit = {
				country_exists = NZL
			}
			NZL = { 
				add_to_war = { 
					targeted_alliance = POL 
					enemy = GER 
				}
			}
		}
		if = { 
			limit = { 
				ROM = { 
					AND = {
						country_exists = ROM
						NOT = {
							has_completed_focus = ROM_institute_a_royal_dictatorship
						}
					}
				 } 
			}
			ROM = { 
				add_to_war = { 
					targeted_alliance = GER 
					enemy = POL 
				}
			}
		}
		if = {
			limit = {
				
				country_exists = HUN
				
			}
			HUN = { 
				add_to_war = { 
					targeted_alliance = GER 
					enemy = POL 
				}
			}
		}
		if = {
			limit = {
				country_exists = BUL		
			}
			BUL = { 
				add_to_war = { 
					targeted_alliance = GER 
					enemy = POL 
				}
			}
		}		
		if = {
			limit = {
				country_exists = SLO
			}
			SLO = { 
				add_to_war = { 
					targeted_alliance = GER 
					enemy = POL 
				}
			}
		}
		hidden_effect = { 
			every_country = {
				set_variable = { var = super_event value = 8 }			
			}
			every_country = {
					limit = { 
						AND = {
							check_variable= { 
								speeches_enabled > 0
							} 
							check_variable= { 
								music_enabled < 2
							} 
						}
					}
					scoped_sound_effect = "sp_pol_beck"
				}
				every_country = {
					limit = { 
						AND = {
							check_variable= { 
								music_enabled > 0
							} 
							check_variable= { 
								speeches_enabled < 2
							} 
						}
					}
					scoped_sound_effect = "se_danzig_or_war"
				}
				every_country = {
					limit = { 
						AND = {
							check_variable= {
								music_enabled > 0
							} 
							check_variable= { 
								speeches_enabled > 0
							} 
						}
					}
					scoped_sound_effect = "sp_pol_beck"
				}
		}			
		if = {
			limit = {
				NOT = { has_idea = GER_war_economy }
			}
			add_ideas = GER_war_economy
			add_political_power = -250
		}
		if = {
			limit = {
				ENG = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			ENG = {
				add_war_support = 0.1 #just not cricket
			}
		}
		if = {
			limit = {
				FRA = {
					NOT = {
						is_in_faction_with = GER
					}
				}
			}
			FRA = {
				add_war_support = 0.1
			}
		}
		if = {
			limit = {
				CZE = {
					exists = yes
					is_subject = no
					has_government = democratic
					NOT = { is_in_faction_with = GER }
				}	
			}	
			CZE = {
				add_ai_strategy = {
					type = conquer
					id = "GER"			
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "POL"			
					value = 200
				}	
			}
		}
	}
}

country_event = {
	id = germany.90
	title = germany.90.t
	desc = germany.90.d
	picture = GFX_report_event_stalin_02

	is_triggered_only = yes
	
	option = {
		name = germany.90.a
		remove_ideas = soviet_german_friendship
		create_wargoal = {
			type = take_state_focus
			target = SOV
			generator = { 219 217 } # Moscow and Stalingrad
		}
	}
}

# France national focus -  requests to join germany
country_event = {
	id = germany.91
	title = germany.91.t
	desc = germany.91.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes
		
	option = {
		name = germany.91.a
		GER = { add_to_faction = FRA }
		FRA = {
			add_ai_strategy = {
				type = alliance
				id = "GER"
				value = 200
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.182 }
		}
	}
	option = {
		name = germany.91.b
		ai_chance = { factor = 0 }
		FRA = {
			add_opinion_modifier = {
				target = GER
				modifier = GER_FRA_join_germany_reject
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.183 }
		}
	}
}

# France/England (Germany Refuses Ultimatum)
country_event = {
	id = germany.92
	title = germany.92.t
	desc = germany.92.d
	picture = GFX_report_event_worried_french
	
	is_triggered_only = yes
	
	option = {
		name = germany.92.a
	}
}

# Germany (British and (possibly) French Support for Yugoslavia)
country_event = {
	id = germany.93
	title = germany.93.t
	desc = {
		text = germany.93.d
		trigger = { NOT = { has_global_flag = FRA_abandoned_yugoslavia } }
	}
	desc = {
		text = germany.93.d_FRA_abandoned_yugoslavia
		trigger = { has_global_flag = FRA_abandoned_yugoslavia }
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.93.a
		create_wargoal = {
			type = take_state_focus
			target = YUG
			generator = { 102 }
		}
		hidden_effect = {
			news_event = { id = news.164 hours = 6 }
		}
		set_country_flag = allies_support_yugoslavia
	}
}

# Germany (Yugoslavia Surrenders Slovenia)
country_event = {
	id = germany.94
	title = germany.94.t
	desc = germany.94.d
	picture = GFX_report_event_german_politician_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.94.a
		GER = { transfer_state = 102 }
		set_country_flag = slovenia_acquired
		hidden_effect = {
			news_event = { id = news.163 hours = 6 }
		}
	}
}

# Germany (Yugoslavia Refuses)
country_event = {
	id = germany.95
	title = germany.95.t
	desc = germany.95.d
	picture = GFX_report_event_german_politician_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.95.a
		create_wargoal = {
			type = take_state_focus
			target = YUG
			generator = { 102 }
		}
		hidden_effect = {
			news_event = { id = news.166 hours = 6 }
		}
	}
}

# Germany (Italy protects Yugoslavia)
country_event = {
	id = germany.96
	title = germany.96.t
	desc = germany.96.d
	picture = GFX_report_event_german_politician_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.96.a
		create_wargoal = {
			type = take_state_focus
			target = YUG
			generator = { 102 }
		}		
		hidden_effect = {
			news_event = { id = news.167 hours = 6 }		
		}
	}
}

# Germany (France protects Yugoslavia)
country_event = {
	id = germany.97
	title = germany.97.t
	desc = germany.97.d
	picture = GFX_report_event_german_politician_speech
	
	is_triggered_only = yes
	
	option = {
		name = germany.97.a
		create_wargoal = {
			type = take_state_focus
			target = YUG
			generator = { 102 }
		}
		hidden_effect = {
			news_event = { id = news.165 hours = 6 }
		}
	}
}

# Germany: Greece refuses - Generate wargoal
country_event = {
	id = germany.102
	title = germany.102.t
	desc = germany.102.d

	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes

	option = {
		name = germany.102.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = GRE		
		}
		hidden_effect = {
			news_event = { id = news.229 hours = 6 }
		}
	}
}

# Germany: Greece refuses puppet request - Generate wargoal
country_event = {
	id = germany.103
	title = germany.103.t
	desc = germany.103.d

	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes

	option = {
		name = germany.103.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = GRE		
		}
	}
}

# Germany: Italy demands lands in Vichy France
country_event = {
	id = germany.104
	title = germany.104.t
	desc = { text = germany.104.d_Savoy 					trigger = { has_global_flag = ITA_claims_on_france_735 } }
	desc = { text = germany.104.d_Corsica 				trigger = { has_global_flag = ITA_claims_on_france_1 } }
	desc = { text = germany.104.d_Savoy_Corsica 	trigger = { has_global_flag = ITA_claims_on_france_735 has_global_flag = ITA_claims_on_france_1 } }
 
 
	picture = GFX_report_event_german_italian_pact
	
	is_triggered_only = yes

	# Italy gets 1 state Savoy
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.a
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			has_global_flag = ITA_claims_on_france_1
		}
		clr_global_flag = ITA_claims_on_france_1
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}
		ITA = { country_event = { id = italy.16 hours = 2 } }
	}

	# Italy gets 1 state Corsica
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.b
		trigger = {
			NOT = { has_global_flag = ITA_claims_on_france_735 }
			has_global_flag = ITA_claims_on_france_1
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}		
		ITA = { country_event = { id = italy.15 hours = 2 } }
	}

	# Italy gets Savoy
	option = {
		ai_chance = { factor = 70 }
		name = germany.104.c
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			NOT = { has_global_flag = ITA_claims_on_france_1 }
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}				
		ITA = { country_event = { id = italy.15 hours = 2 } }		
	}

	# Italy gets Savoy and Corsica
	option = {
		ai_chance = { factor = 20 }
		name = germany.104.e
		trigger = {
			has_global_flag = ITA_claims_on_france_735
			has_global_flag = ITA_claims_on_france_1
		}
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			country_event = france.27
		}				
		ITA = { country_event = { id = italy.15 hours = 2 } }
	}

	# Italy gets nothing 
	option = {
		ai_chance = { factor = 10 }
		name = germany.104.f
		ITA = { country_event = { id = italy.14 hours = 2 } }
	}
}


# Germany: Italy leaves faction
country_event = {
	id = germany.105
	title = germany.105.t
	desc = germany.105.d
	picture = GFX_report_event_german_italian_pact
	
	is_triggered_only = yes
	
	option = { 
		name = germany.105.a		
	}
}

# Germany: Treaty Of Craiova
country_event = {
	id = germany.106
	title = germany.106.t
	desc = { text = germany.106.d_second_vienna_accepted_all trigger = { ROM = { has_country_flag = second_vienna_accepted_all } } }
	desc = { text = germany.106.d_second_vienna_accepted_north trigger = { ROM = { has_country_flag = second_vienna_accepted_north } } }
	desc = {
		text = germany.106.d_no_vienna
		trigger = {
			ROM = {
				NOT = { has_country_flag = second_vienna_accepted_all }
				NOT = { has_country_flag = second_vienna_accepted_north }
			}
		}
	}
	picture = GFX_report_event_vienna_award_hungary
	
	is_triggered_only = yes
	
	option = { # Give Bulgaria state 77
		name = germany.106.a
		ai_chance = { factor = 95 
			modifier = {
				factor = 0
				BUL = {
					is_in_faction = yes
					NOT = { is_in_faction_with = GER }
				}
			}
		}
		add_named_threat = { threat = 2 name = germany.106_threat }
		BUL = {
			add_opinion_modifier = { target = GER modifier = GER_treaty_of_craiova_GER }

			every_other_country = {
				limit = { 
					is_faction_leader = yes 
					NOT = { tag = GER }
				}				
				reverse_add_opinion_modifier = { target = BUL modifier = GER_treaty_of_craiova_other }
			}
		}
		ROM = {
			country_event = { id = romania.5 hours = 3 }
		}
	}
}

# Flight of Rudolf No Hindenburg 
country_event = {
	id = germany.107
	title = germany.107.t
	desc = germany.107.d
	picture = GFX_report_event_airplane_crash
	
	is_triggered_only = yes
	
	immediate = { 
		set_country_flag = flight_of_hess 
		add_popularity = { ideology = fascism popularity = -0.04 }
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.107.a
	}
}

# Rudolf Hess killed No Hindenburg
country_event = {
	id = germany.108
	title = germany.108.t
	desc = germany.108.d
	picture = GFX_report_event_airplane_crash
	
	is_triggered_only = yes
	
	immediate = { 
		add_popularity = { ideology = fascism popularity = -0.04 }
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.108.a
	}
}

# Flight of Rudolf Hess (Hindenburg)
country_event = {
	id = germany.109
	title = germany.107.t
	desc = germany.109.d
	picture = GFX_report_event_hindenburg_flames
	
	is_triggered_only = yes
	
	immediate = { 
		add_popularity = { ideology = fascism popularity = -0.04 }
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.108.a
	}
}

# Rudolf Hess Killed (Hindenburg)
country_event = {
	id = germany.110
	title = germany.108.t
	desc = germany.110.d
	picture = GFX_report_event_hindenburg_flames
	
	is_triggered_only = yes
	
	immediate = { 
		add_popularity = { ideology = fascism popularity = -0.04 }
		if = {
			limit = {
				has_idea = rudolf_hess
			}
			remove_ideas = rudolf_hess
		}
	}

	option = {
		name = germany.110.a
	}
}

# Yugoslavia refuses
country_event = {
	id = germany.111
	title = germany.111.t
	desc = germany.111.d
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.111.a
		create_wargoal = {
			type = annex_everything
			target = YUG
		}
	}
}

# (Hidden)
country_event = {
	id = germany.112
	
	is_triggered_only = yes

	hidden = yes
	
	immediate = {
		every_other_country = {
			limit = { has_idea = anti_soviet_pact }
			add_opinion_modifier = { target = FROM modifier = anti_soviet_pact_call_refused }
		}
	}
}


# Danzig or War (Polish Civil War)
country_event = {
	id = germany.113
	title = germany.113.t
	desc = germany.113.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	#Demand Danzig for aid
	option = {
		name = germany.113.a
		set_country_flag = GER_POL_danzig_promised
		GER = {
			country_event = { id = germany.117 days = 1 }
		}
	}
}

#Germany expects Danzig after war
country_event = {
	id = germany.114
	title = germany.114.t
	desc = germany.114.d
	picture = GFX_report_event_polish_tanks_01

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		hidden_effect = {
			clr_country_flag = GER_POL_danzig_promised
		}
	}

	option = {
		name = germany.114.a
		ai_chance = {
			base = 1
		}
		GER = {
			country_event = { id = germany.115 days = 1 }
		}
	}

	option = {
		name = germany.114.b
		trigger = {
			NOT = {
				is_in_faction_with = GER
			}
		}
		ai_chance = {
			base = 0
		}
		GER = {
			country_event = { id = germany.116 days = 1 }
			effect_tooltip = {
				declare_war_on = {
					target = POL
					type = take_state
					generator = { 85 }
				}
			}
		}
	}
}

#Poland cedes Danzig as repayment
country_event = {
	id = germany.115
	title = germany.115.t
	desc = germany.115.d
	picture = GFX_report_event_polish_tanks_01

	is_triggered_only = yes

	option = {
		name = germany.115.a
		transfer_state = 85
		remove_state_claim = 86
	}
}


# Poland Refuses to Cede Danzig (Polish Civil War)
country_event = {
	id = germany.116
	title = germany.116.t
	desc = germany.116.d
	picture = GFX_report_event_polish_tanks_02

	is_triggered_only = yes
	
	option = {
		name = germany.116.a
		ai_chance = {
			base = 1
		}
		declare_war_on = {
			target = POL
			type = take_state
			generator = { 85 }
		}
	}

	option = {
		name = germany.116.b
		ai_chance = {
			base = 0
		}
	}
}


# The Promise of Danzig (Polish Civil War)
country_event = {
	id = germany.117
	title = germany.117.t
	desc = germany.117.d
	picture = GFX_report_event_german_troops

	is_triggered_only = yes

	# This is a German struggle
	option = {
		name = germany.117.a
	}
}


#Events in case of weirdness with German Czechoslovakia focus
country_event = {
	id = germany.122
	title = germany.122.t
	desc = germany.122.d
	picture = GFX_report_event_german_speech

	is_triggered_only = yes

	option = {
		name = germany.122.a
		ai_chance = {
			factor = 100
		}
		effect_tooltip = {
			GER = {
				transfer_state = 69
				transfer_state = 74
			}
		}
		hidden_effect = {
			GER = {
				country_event = {
					id = germany.124 days = 1
				}
			}
		}
	}
}

#Events in case of weirdness with German Czechoslovakia focus
country_event = {
	id = germany.123
	title = germany.123.t
	desc = germany.123.d
	picture = GFX_report_event_czech_soldiers_02
	
	is_triggered_only = yes

	option = {
		name = germany.123.a
		add_state_claim = 69
		add_state_claim = 74
		if = {
			limit = {
				CZE = { is_subject_of = FROM }
				FROM = {
					is_in_faction_with = GER
					is_faction_leader = no
				}
			}
			remove_from_faction = CZE
			remove_from_faction = FROM
		}
		69 = {
			controller = {
				GER = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						generator = { 69 74 }
					}
				}
			}
		}
	}
}

#Events in case of weirdness with German Czechoslovakia focus
country_event = {
	id = germany.124
	title = germany.124.t
	desc = germany.124.d
	picture = GFX_report_event_german_reichstag_gathering

	is_triggered_only = yes

	option = {
		name = germany.124.a
		add_state_core = 69
		transfer_state = 69
		add_state_core = 74
		transfer_state = 74
	}
}

#Event if Austria has a civil war
country_event = {
	id = germany.126
	title = germany.126.t
	desc = germany.126.d
	picture = GFX_report_event_german_reichstag_gathering

	is_triggered_only = yes

	option = {
		name = germany.126.a
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}

		}
		random_other_country = {
			limit = {
				original_tag = AUS
				NOT = { tag = ROOT }
			}
			FROM = {
				add_to_war = {
					targeted_alliance = ROOT
					enemy = PREV
					hostility_reason = war
				}
				annex_country = { target = ROOT transfer_troops = yes }
				hidden_effect = { news_event = { id = news.237 } }
			}

		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = {
		name = germany.126.b
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				OR = {
					has_government = communism
					has_government = democratic
				}
			}

		}

		every_other_country = {
			limit = {
				OR = {
					tag = AUS
					original_tag = AUS
				}

			}
			FROM = {
				create_wargoal = {
					target = PREV
					type = annex_everything
				}
			}
		}
	}
}

# Anti-Soviet Pact, ask Germany to create faction or invite to faction
country_event = {
	id = germany.127
	title = germany.127.t
	desc = germany.127.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	# Create faction (if none) and send requests to join faction (members leave other faction)
	option = {
		name = germany.127.a
		every_other_country = {
			limit = {
				has_idea = anti_soviet_pact
				has_war_with = SOV
			}
			country_event = { id = germany.128 days = 1 }
		}
		if = {
			limit = {
				is_in_faction = no
			}
			create_faction = "anti_soviet_pact"
		}
	}

	# No ty
	option = {
		name = germany.127.b
		ai_chance = {
			base = 0
		}
	}
}

# Anti-Soviet Pact, Germany asks country to join faction
country_event = {
	id = germany.128
	title = germany.128.t
	desc = germany.128.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes

	# Join faction (if none) and send requests to join faction (members leave other faction)
	option = {
		name = germany.128.a
		trigger = {
			is_in_faction = no
		}
		ai_chance = {
			base = 10
		}
		GER = { add_to_faction = ROOT }
	}

	# No ty
	option = {
		name = germany.128.b
		ai_chance = {
			base = 0
		}
	}
}


country_event = {
	id = germany.2280
	title = germany.2280.t
	desc = germany.2280.d
	picture = GFX_report_event_generic_rifles

	fire_only_once = yes

	is_triggered_only = yes
	
	option = {
		name = germany.2280.a
		if = {
			limit = { is_ai = no }
			
		   custom_effect_tooltip = captured_Equipment_tt
		   
		   set_technology = {
			    ger_1940_light_tank_chassis = 1
			}

	
		   add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 10000
				producer = CZE
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment_1
				amount = 1000
				producer = CZE
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment_1
				amount = 1000
				producer = CZE
			}
			add_equipment_to_stockpile = {
				type = heavy_artillery_equipment_1
				amount = 500
				producer = CZE
			}
			add_equipment_to_stockpile = {
				type = anti_air_equipment_1
				amount = 500
				producer = CZE
			}
			add_equipment_to_stockpile = {
				type = anti_tank_equipment_1
				amount = 500
				producer = CZE
			}
            add_equipment_to_stockpile = {
                  type = light_tank_chassis_1936
                  amount = 500
                  producer = CZE
            }
			add_equipment_to_stockpile = {
				type = horse_equipment_0
				amount = 4000
				producer = CZE
			}
			add_equipment_to_stockpile = {
				type = radio_equipment_1
				amount = 1000
				producer = CZE
			}
			add_equipment_to_stockpile = {
				type = support_equipment_1
				amount = 1500
				producer = CZE
			}
			
			add_equipment_to_stockpile = {
				type = armored_cars_equipment_2
				amount = 200
				producer = CZE
			}
			if = { 
				limit = {
					is_ai = yes
				}
		        set_technology = {
			         ger_1940_light_tank_chassis = 1
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 50000
					producer = CZE
				}
				
				add_equipment_to_stockpile = {
					type = motorized_equipment_1
					amount = 6000
					producer = CZE
				}
				
				add_equipment_to_stockpile = {
					type = artillery_equipment_1
					amount = 5000
					producer = CZE
				}
				add_equipment_to_stockpile = {
					type = heavy_artillery_equipment_1
					amount = 500
					producer = CZE
				}
				add_equipment_to_stockpile = {
					type = anti_air_equipment_1
					amount = 5000
					producer = CZE
				}
				add_equipment_to_stockpile = {
					type = anti_tank_equipment_1
					amount = 5000
					producer = CZE
				}
                add_equipment_to_stockpile = {
                    type = light_tank_chassis_1936
                    amount = 500
                    producer = CZE
                }
				add_equipment_to_stockpile = {
					type = horse_equipment_0
					amount = 20000
					producer = CZE
				}
				add_equipment_to_stockpile = {
					type = radio_equipment_1
					amount = 5000
					producer = CZE
				}
				add_equipment_to_stockpile = {
					type = support_equipment_1
					amount = 5000
					producer = CZE
				}
				
				add_equipment_to_stockpile = {
					type = armored_cars_equipment_2
					amount = 200
					producer = CZE
				}
			}

		}
	}
}

country_event = {
	id = germany.236
	title = germany.236.t
	desc = germany.236.d
	picture = GFX_report_event_generic_rifles

	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = germany.236.a
		ai_chance = { factor = 100 }

		custom_effect_tooltip = captured_Equipment_tt
		add_equipment_to_stockpile = {
		type = infantry_equipment_1
			amount = 10000
			producer = FRA
		}
	
		add_equipment_to_stockpile = {
			type = motorized_equipment_1
				amount = 1000
				producer = FRA
			}
		
		add_equipment_to_stockpile = {
			type = artillery_equipment_1
				amount = 1000
				producer = FRA
			}
		add_equipment_to_stockpile = {
			type = heavy_artillery_equipment_1
				amount = 500
				producer = FRA
			}
		add_equipment_to_stockpile = {
			type = anti_air_equipment_1
				amount = 500
				producer = FRA
			}
		add_equipment_to_stockpile = {
			type = anti_tank_equipment_1
				amount = 500
				producer = FRA
			}
		add_equipment_to_stockpile = {
			type = medium_tank_chassis
			amount = 800
			producer = FRA
		}
		add_equipment_to_stockpile = {
			type = light_tank_chassis_1936
			amount = 800
			producer = FRA
		}		
		add_equipment_to_stockpile = {
			type = horse_equipment_0
				amount = 8000
				producer = FRA
			}
		add_equipment_to_stockpile = {
			type = radio_equipment_1
				amount = 1000
				producer = FRA
			}
		
		add_equipment_to_stockpile = {
			type = support_equipment_1
				amount = 4500
				producer = FRA
			}
		
		add_equipment_to_stockpile = {
			type = armored_cars_equipment_2
				amount = 400
				producer = FRA
			}
	}
}



country_event = {
	id = germany.233
	title = germany.233.t
	desc = germany.233.d
	picture = GFX_report_event_generic_panzer_attack

	fire_only_once = yes
	is_triggered_only = yes
	
	option = {
		name = germany.233.a
		ai_chance = { factor = 100 }
		
		hidden_effect = {
			set_technology = {  }
			
			set_country_flag = GERafrikakorp
		}
	}
}

# Attack Poland without Molotov
country_event = {
	id = germany.248
	title = germany.248.t
	desc = germany.248.d
	picture = GFX_report_event_stalin_01

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = germany.248.a
		ai_chance = {
			base = 0
		}		
		SOV = {
			add_to_war = { 
				targeted_alliance = POL 
				enemy = GER 
				hostility_reason = asked_to_join
			}
			diplomatic_relation = {
			country = GER
			relation = non_aggression_pact
			active = no
			}
		}
		SOV = { add_to_faction = POL }
		GER = { country_event = { days = 1 id = germany.249 } }
	}
	option = {
		name = germany.248.b
		GER = { country_event = { days = 1 id = germany.250 } }
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = germany.249
	title = germany.249.t
	desc = germany.249.d
	picture = GFX_report_event_german_polish_border

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = germany.249.a				
	}
}
country_event = {
	id = germany.250
	title = germany.250.t
	desc = germany.250.d
	picture = GFX_report_event_german_polish_border

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = germany.250.a	
		ai_chance = {
			base = 10
		}		
		white_peace = {
			tag = POL
			message = ger_peace_pol
		}
		white_peace = {
			tag = ENG
		}
	}
	option = {
		name = germany.250.b		
		ai_chance = {
			base = 0
		}
		SOV = {
			add_to_war = { 
				targeted_alliance = POL 
				enemy = GER 
				hostility_reason = asked_to_join
			}
			diplomatic_relation = {
				country = GER
				relation = non_aggression_pact
				active = no
			}
		}
		SOV = { add_to_faction = POL }
		GER = { country_event = { days = 1 id = germany.249 } }		
	}
}

#Direct annexation hotfix so that YUG is annexed properly - Fate of Yugoslavia
country_event = {
	id = -
	title = germany.255.t
	desc = germany.255.d
	fire_only_once = yes
	picture = GFX_report_event_soldiers_marching
	trigger = {
		tag = GER
		is_ai = yes
		date > 1941.3.1
		NOT = { has_war_with = YUG }
		NOT = { is_in_faction_with = YUG }
		
	}
	mean_time_to_happen = {
		days = 5
	}
	option = {
		name = germany.255.a
		GER = {
			declare_war_on = {
				target = YUG
				type = annex_everything
			}
		} 			
	}
}

#YUG asked to join Axis
country_event = {
	id = germany.312
	title = germany.312.t
	desc = germany.312.desc
	picture = GFX_report_event_soldiers_marching
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { }
	option = { #no
		name = germany.312.a 
		
		YUG = { country_event = yugoslavia.2 }
		ai_chance = { factor = 100 }
	}
	option = { #yes
		name = germany.312.b 
		GER = { add_to_faction = YUG }
		ai_chance = { factor = 0 }
	}
}

# Germany: Bulgaria refuses - Generate wargoal
country_event = {
	id = germany.313
	title = germany.313.t
	desc = germany.313.d

	picture = GFX_report_event_german_bicycle_group
	
	is_triggered_only = yes

	option = {
		name = germany.313.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = BUL		
		}
	}
}

country_event = {
	id = germany.314 
	title = germany.314.t 
	desc = germany.314.d 
	
	picture = GFX_report_event_german_elite_troops_inspected
	
	is_triggered_only = yes
	
	option = { #yes
		name = germany.314.a 
		ai_chance = {
			factor = 50
		}
		GER = { add_to_faction = POL }
		add_ai_strategy = {
			type = alliance
			id = "GER"
			value = 200
		}
	}
	option = { #no
		name = germany.314.b 
		ai_chance = {
			factor = 50
			modifier = {
				factor = 40
			}
		}
		GER = { country_event = { id = germany.315 hours = 1 } }
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = POL		
				}
			}			
		}
	}
}

country_event = {
	id = germany.333
	title = germany.333.t
	desc = germany.333.d
	picture = GFX_report_event_fascist_gathering
	
	fire_only_once = yes

	is_triggered_only = yes

	option = { 
		name = germany.333.a
	}
	option = { 
		name = germany.333.b
	}
}

country_event = {
	id = germany.318
	title = germany.318.t
	desc = germany.318.d
	picture = GFX_report_event_fascist_gathering
	
	fire_only_once = yes

	is_triggered_only = yes

	option = { 
		name = germany.318.a
		set_country_flag = death_of_todt
	}
}

country_event = {
	id = germany.320
	title = germany.320.t
	desc = germany.320.d
	picture = GFX_report_event_fascist_speech

	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = germany.320.a
		add_ideas = GER_disorganized_industry
	}
}

country_event = { #treaty sweden
	id = germany.322
	title = germany.322.t 
	desc = germany.322.d 
	picture = GFX_report_event_reichstag_hitler_speech
	
	is_triggered_only = yes 
	
	option = {
		name = germany.322.a #yes
		ai_chance = { factor = 100 }
		SWE = {
			add_opinion_modifier = { target = GER modifier = pact_of_steel_opinion }
			diplomatic_relation = { country = GER relation = non_aggression_pact }
		}
		every_other_country = { 
			limit = { 
				NOT = { tag = GER } 
				NOT = { tag = FIN } 
			} 
		 country_event = germany.323
		}
	}  
	option = {
		name = germany.322.b #no
		ai_chance = { factor = 0 }
		GER = { 
		country_event = { id = germany.324 days = 1 }
		}
	}
}

country_event = {
	id = germany.323 
	title = germany.323.t 
	desc = germany.323.d 
	picture = GFX_report_event_hitler_handshake
	
	is_triggered_only = yes 
	
	option = {
		name = germany.323.a 
		SWE = {
			add_opinion_modifier = { target = ROOT modifier = embargo } 
			add_opinion_modifier = { target = ROOT modifier = embargo_relation } 
		}
	}
}

country_event = {
	id = germany.325 
	title = germany.325.t 
	desc = germany.325.d 
	picture = GFX_report_event_hitler_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.325.a 
		add_stability = -0.05
		add_war_support = 0.05 
		add_equipment_to_stockpile = {
			type = tac_bomber_equipment_1936
			amount = 350
			producer = GER
		}
		ai_chance = { factor = 1 }
	}

	option = {
		name = germany.325.b 
		add_stability = 0.05
		add_war_support = -0.05 
		add_equipment_to_stockpile = {
			type = transport_plane_equipment_1
			amount = 250
			producer = GER
		}
		ai_chance = { factor = 0 }
	}
}

#Remove MEFO bills
country_event = {
	id = germany.330
	fire_only_once = yes
	trigger = {
		tag = GER
		has_war = yes
	}
	hidden = yes
	immediate = {
		GER_remove_mefo_bills = yes
		set_country_flag = mefo_bills_removed_through_war
	}
	option = {
		name = germany.330.a
		#immediate = {
		#	GER_remove_mefo_bills = yes
		#	set_country_flag = mefo_bills_removed_through_war
		#}
	}
}

country_event = { #volunteer workers are angry
	id = germany.555
	title = germany.555.t
	desc = germany.555.d
	picture = GFX_report_event_generic_ruins
	
	is_triggered_only = yes
	
	option = {
		name = germany.555.a
		
		random_owned_controlled_state = {
			
			limit = {
				arms_factory > 4
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
		}

		random_owned_controlled_state = {
			
			limit = {
				arms_factory > 4
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
		}

		random_owned_controlled_state = {
			
			limit = {
				arms_factory > 4
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
		}

		random_owned_controlled_state = {

			limit = {
				arms_factory > 4
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
		}

		random_owned_controlled_state = {

			limit = {
				arms_factory > 4
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
		}
		
		hidden_effect = { 
			country_event = { id = germany.555 days = 250 }
		}

	}
}

#The Focke-Wulf Fw 61
country_event = {
	id = germany.556
	title = germany.556.t 
	desc = germany.556.desc
	picture = GFX_event_GER_helicopter
	
	is_triggered_only = yes
	
	option = {
		name = germany.556.a
		air_experience = 15
	}
}

#The German Election and Referendum: 1936
country_event = {
	id = germany.557
	title = germany.557.t 
	desc = germany.557.desc
	picture = GFX_report_event_hitler_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.557.a 
		add_political_power = 10
	}
}

#Barbarossa Planning
country_event = {
	id = germany.558
	title = germany.558.t 
	desc = germany.558.desc
	picture = GFX_report_event_hitler_handshake
	
	is_triggered_only = yes
	
	option = {
		name = germany.558.a 
		custom_effect_tooltip = GER_shorter_barb_tt
		set_country_flag = GERshorterbarb
	}
	option = {
		name = germany.558.b
		custom_effect_tooltip = GER_normal_barb_tt
		set_country_flag = GERnormalbarb
	}
	option = {
		name = germany.558.c
		custom_effect_tooltip = GER_longer_barb_tt
		set_country_flag = GERlongerbarb
	}	
}

#Yugoslav Partisans

country_event = {
	id = germany.559
	title = germany.559.t
	desc = germany.559.d
	picture = GFX_...
	
	fire_only_once = yes
	hidden = yes

	trigger = {
		tag = GER
		date > 1941.1.1
	}
	immediate = {
		every_state = {
			limit = {
				is_core_of = YUG
				NOT = {
					state = 45
					state = 764
				}
			}
			add_resistance_target = {
				amount = 5
				tooltip = Increased_Yugoslav_resistance_1941
			}
			add_resistance = 10
			add_compliance = -10 
		}
	}	
	option = {
		name = germany.559.a 
	}
}
country_event = {
	id = germany.560
	title = germany.560.t
	desc = germany.560.d
	picture = GFX_...
	
	fire_only_once = yes
	hidden = yes

	trigger = {
		tag = GER
		date > 1942.1.1
	}
	immediate = {
		every_state = {
			limit = {
				is_core_of = YUG
				NOT = {
					state = 45
					state = 764
				}
			}
			add_resistance_target = {
				amount = 5
				tooltip = Increased_Yugoslav_resistance_1942
			}
			add_resistance = 10
			add_compliance = -20
		}
	}	
	option = {
		name = germany.560.a 
	}
}
country_event = {
	id = germany.561
	title = germany.561.t
	desc = germany.561.d
	picture = GFX_...
	
	fire_only_once = yes
	hidden = yes

	trigger = {
		tag = GER
		date > 1943.1.1
	}
	immediate = {
		every_state = {
			limit = {
				is_core_of = YUG
				NOT = {
					state = 45
					state = 764
				}
			}
			add_resistance_target = {
				amount = 10
				tooltip = Increased_Yugoslav_resistance_1943
			}
			add_resistance = 15
			add_compliance = -30
		}
	}	
	option = {
		name = germany.561.a 
	}
}
country_event = {
	id = germany.562
	title = germany.562.t
	desc = germany.562.d
	picture = GFX_...
	
	fire_only_once = yes
	hidden = yes

	trigger = {
		tag = GER
		date > 1944.1.1
	}
	immediate = {
		every_state = {
			limit = {
				is_core_of = YUG
				NOT = {
					state = 45
					state = 764
				}
			}
			add_resistance_target = {
				amount = 5
				tooltip = Increased_Yugoslav_resistance_1944
			}
			add_resistance = 20 
			add_compliance = -30
		}
	}	
	option = {
		name = germany.562.a 
	}
}
country_event = {
	id = germany.563
	title = germany.563.t
	desc = germany.563.d
	picture = GFX_report_event_generic_peaceful_annexation

	is_triggered_only = yes

	option = {
		name = germany.563.a

	}

}

country_event = {
	id = germany.564
	title = germany.564.t
	desc = germany.564.d
	picture = GFX_report_event_generic_peaceful_annexation

	is_triggered_only = yes

	option = {
		name = germany.564.a

	}

}

country_event = {
	id = germany.700
	hidden = yes

	is_triggered_only = yes
		
	immediate = { 
		if = {
			limit = {
				GER = {
					NOT = {
						OR = {
							has_tech = large_front_operations
							has_tech = peoples_army
						}
					}
				}
			}
			load_oob = "GER_deployment_oob"
		}
		else_if = {
			limit = {
				GER = {
					OR = {
						has_tech = large_front_operations
						has_tech = peoples_army
					}
					
				}
			}
			load_oob = "GER_mass_deployment_oob"
			add_manpower = -165000
		}
	}	
}
country_event = {
	id = germany.701
	title = germany.701.t
	desc = germany.701.d
	is_triggered_only = yes
	option = {
		name = germany.701.a
		every_country = {
			limit = {
				is_axis = yes
			}
			white_peace = SOV
		}
		every_country = {
			limit = {
				is_allies = yes
			}
			white_peace = {
				tag = GER
			}
		}
		hidden_effect = {
			GER = {
				dismantle_faction = yes
			}
			FRA = {
				annex_country = {
					target = EFR
				}
				transfer_state = 29	
				transfer_state = 42
				transfer_state = 28
				transfer_state = 153
				transfer_state = 735
				transfer_state = 1
				transfer_state = 458
				transfer_state = 665
			}
			SPR = {
				white_peace = ENG
				white_peace = USA
				white_peace = SOV
			}
			LUX = {
				transfer_state = 8
			}
			BEL = {
				transfer_state = 34
				transfer_state = 6
			}
			HOL = {
				transfer_state = 35
				transfer_state = 7
				transfer_state = 36
			}
			DEN = {
				transfer_state = 99
				transfer_state = 37
			}
			ETH = {
				white_peace = ENG
				white_peace = USA
				white_peace = SOV
				set_politics = {
					ruling_party = neutrality
				}
				drop_cosmetic_tag = yes
				transfer_state = 271
				transfer_state = 550
			}
			NOR = {
				transfer_state = 110
				transfer_state = 142
				transfer_state = 143
				transfer_state = 144
				transfer_state = 817
				transfer_state = 816
				transfer_state = 815
				transfer_state = 814
				transfer_state = 818
				transfer_state = 819
			}
			ENG = {
				transfer_state = 51
				transfer_state = 57
				transfer_state = 59
				transfer_state = 56
				transfer_state = 58
				transfer_state = 273
				transfer_state = 663
				transfer_state = 451
				transfer_state = 450
				transfer_state = 449
				transfer_state = 662
				transfer_state = 448
				transfer_state = 661
				transfer_state = 830
				transfer_state = 831
				annex_country = {
					target = ITA
				}
				release_puppet = ITA
			}
			ITA = {
				transfer_state = 797
				transfer_state = 39
			}
			USA = {
				transfer_state = 55
				transfer_state = 50
				transfer_state = 54
				transfer_state = 53
				transfer_state = 52
				transfer_state = 152
			}
			YUG = {
				transfer_state = 102
				transfer_state = 736
				transfer_state = 103
				transfer_state = 163
				transfer_state = 104
				transfer_state = 109
				transfer_state = 45
				transfer_state = 764
				transfer_state = 107
				transfer_state = 108
				transfer_state = 105
				transfer_state = 106
				transfer_state = 187
			}
			ALB = {
				transfer_state = 44
			}
			GRE = {
				transfer_state = 184
				transfer_state = 731
				transfer_state = 185
				transfer_state = 47
				transfer_state = 186
				transfer_state = 182
				transfer_state = 164
				transfer_state = 833
				transfer_state = 832
				transfer_state = 829
			}
			CZE = {
				transfer_state = 9
				transfer_state = 69
				transfer_state = 74
				transfer_state = 75
				transfer_state = 72
				transfer_state = 70
				transfer_state = 809
				transfer_state = 71
				transfer_state = 123
				transfer_state = 664
			}
			77 = {
				remove_core_of = ROM
			}
			77 = {
				add_core_of = BUL
			}
			664 = {
				remove_core_of = HUN
			}
			123 = {
				remove_core_of = HUN
			}
			766 = {
				remove_core_of = ROM
			}
			78 = {
				remove_core_of = ROM
			}
			80 = {
				remove_core_of = ROM
			}
			89 = {
				remove_core_of = POL
			}
			91 = {
				remove_core_of = POL
			}
			93 = {
				remove_core_of = POL
			}
			94 = {
				remove_core_of = POL
			}
			95 = {
				remove_core_of = POL
			}
			96 = {
				remove_core_of = POL
			}
			784 = {
				remove_core_of = POL
			}
			every_state = {
				limit = {		
					is_core_of = SOV
				}
				remove_core_of = POL
				
			}
			SOV = {
				transfer_state = 62
				transfer_state = 61
				transfer_state = 64
				transfer_state = 65
				transfer_state = 60
				transfer_state = 4
				transfer_state = 763
				transfer_state = 188
				annex_country = {
					target = ROM
				}
				annex_country = {
					target = BUL
				}
				annex_country = {
					target = HUN
				}
				annex_country = {
					target = ALB
				}
				annex_country = {
					target = CZE
				}
				annex_country = {
					target = POL
				}
				release_puppet = ROM
				release_puppet = BUL
				release_puppet = HUN
				release_puppet = ALB
				release_puppet = CZE
				release_puppet = POL
				transfer_state = 73
			}
			POL = {
				transfer_state = 10
				transfer_state = 97
				transfer_state = 92
				transfer_state = 88
				transfer_state = 90
				transfer_state = 87
				transfer_state = 762
				transfer_state = 98
				transfer_state = 86
				transfer_state = 85
				transfer_state = 5
				transfer_state = 67
				transfer_state = 66
				transfer_state = 68
				transfer_state = 63
				transfer_state = 97
				transfer_state = 811
				transfer_state = 826
				transfer_state = 827
			}
			BUL = {
				transfer_state = 77
			}
			every_country = {
					limit = { 
						AND = {
							check_variable= { 
								speeches_enabled > 0
							} 
							check_variable= { 
								music_enabled < 2
							} 
						}
					}
					scoped_sound_effect = "sp_ger_capitulation"
			}
			every_country = {
				limit = { 
					AND = {
						check_variable= { 
							music_enabled > 0
						} 
						check_variable= { 
							speeches_enabled < 2
						} 
					}
				}
				scoped_sound_effect = "sp_ger_capitulation"
			}
			every_country = {
				limit = { 
					AND = {
						check_variable= {
							music_enabled > 0
						} 
						check_variable= { 
							speeches_enabled > 0
						} 
					}
				}
				scoped_sound_effect = "sp_ger_capitulation"
			}
		}
	}
	option = {
		name = germany.701.b
		ENG = {
			country_event = germany.702
		}
	}
}
country_event = {
	id = germany.702
	title = germany.702.t
	desc = germany.702.d
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = germany.702.a
		every_country = {
			limit = {
				is_axis = yes
			}
			white_peace = SOV
		}
		every_country = {
			limit = {
				is_allies = yes
			}
			white_peace = {
				tag = GER
			}
		}
		hidden_effect = {
			GER = {
				dismantle_faction = yes
			}
			set_victory_points = {
				province = 13349
				value = 1
			}
			SPR = {
				white_peace = ENG
				white_peace = USA
				white_peace = SOV
			}
			FRA = {
				annex_country = {
					target = EFR
				}
				transfer_state = 29	
				transfer_state = 42
				transfer_state = 28
				transfer_state = 153
				transfer_state = 735
				transfer_state = 1
				transfer_state = 458
				transfer_state = 665
			}
			LUX = {
				transfer_state = 8
			}
			ETH = {
				white_peace = ENG
				white_peace = USA
				white_peace = SOV
				set_politics = {
					ruling_party = neutrality
				}
				drop_cosmetic_tag = yes
				transfer_state = 271
				transfer_state = 550
			}
			BEL = {
				transfer_state = 34
				transfer_state = 6
			}
			HOL = {
				transfer_state = 35
				transfer_state = 7
				transfer_state = 36
			}
			DEN = {
				transfer_state = 99
				transfer_state = 37
			}
			NOR = {
				transfer_state = 110
				transfer_state = 142
				transfer_state = 143
				transfer_state = 144
				transfer_state = 817
				transfer_state = 816
				transfer_state = 815
				transfer_state = 814
				transfer_state = 818
				transfer_state = 819

			}
			ENG = {
				transfer_state = 51
				transfer_state = 57
				transfer_state = 59
				transfer_state = 56
				transfer_state = 58
				transfer_state = 273
				transfer_state = 663
				transfer_state = 451
				transfer_state = 450
				transfer_state = 449
				transfer_state = 662
				transfer_state = 448
				transfer_state = 661
				transfer_state = 830
				transfer_state = 831
				transfer_state = 559
				annex_country = {
					target = ITA
				}
				release_puppet = ITA
			}
			ITA = {
				transfer_state = 797
				transfer_state = 39
			}
			USA = {
				transfer_state = 55
				transfer_state = 50
				transfer_state = 54
				transfer_state = 53
				transfer_state = 52
				transfer_state = 152
			}
			YUG = {
				transfer_state = 102
				transfer_state = 736
				transfer_state = 103
				transfer_state = 163
				transfer_state = 104
				transfer_state = 109
				transfer_state = 45
				transfer_state = 764
				transfer_state = 107
				transfer_state = 108
				transfer_state = 105
				transfer_state = 106
				transfer_state = 187
			}
			ALB = {
				transfer_state = 44
			}
			GRE = {
				transfer_state = 184
				transfer_state = 731
				transfer_state = 185
				transfer_state = 47
				transfer_state = 186
				transfer_state = 182
				transfer_state = 164
				transfer_state = 833
				transfer_state = 832
				transfer_state = 829
			}
			CZE = {
				transfer_state = 9
				transfer_state = 69
				transfer_state = 74
				transfer_state = 75
				transfer_state = 72
				transfer_state = 70
				transfer_state = 809
				transfer_state = 71
				transfer_state = 123
				transfer_state = 664
			}
			SOV = {
				transfer_state = 62
				transfer_state = 61
				transfer_state = 64
				transfer_state = 65
				transfer_state = 60
				transfer_state = 4
				transfer_state = 763
				transfer_state = 188
				transfer_state = 192
				annex_country = {
					target = ROM
				}
				annex_country = {
					target = BUL
				}
				annex_country = {
					target = HUN
				}
				annex_country = {
					target = ALB
				}
				annex_country = {
					target = CZE
				}
				annex_country = {
					target = POL
				}
				77 = {
					remove_core_of = ROM
				}
				77 = {
					add_core_of = BUL
				}
				664 = {
					remove_core_of = HUN
				}
				766 = {
					remove_core_of = ROM
				}
				78 = {
					remove_core_of = ROM
				}
				80 = {
					remove_core_of = ROM
				}
				89 = {
					remove_core_of = POL
				}
				91 = {
					remove_core_of = POL
				}
				93 = {
					remove_core_of = POL
				}
				94 = {
					remove_core_of = POL
				}
				95 = {
					remove_core_of = POL
				}
				96 = {
					remove_core_of = POL
				}
				784 = {
					remove_core_of = POL
				}
				every_state = {
					limit = {		
						is_core_of = SOV
					}
					remove_core_of = POL
					
				}
				release_puppet = ROM
				release_puppet = BUL
				release_puppet = HUN
				release_puppet = ALB
				release_puppet = CZE
				release_puppet = POL
				transfer_state = 73
			}
			POL = {
				transfer_state = 10
				transfer_state = 97
				transfer_state = 92
				transfer_state = 88
				transfer_state = 90
				transfer_state = 87
				transfer_state = 762
				transfer_state = 98
				transfer_state = 86
				transfer_state = 85
				transfer_state = 5
				transfer_state = 67
				transfer_state = 66
				transfer_state = 68
				transfer_state = 63
				transfer_state = 97
				transfer_state = 811
				transfer_state = 826
				transfer_state = 827
			}
			BUL = {
				transfer_state = 77
			}
			every_country = {
					limit = { 
						AND = {
							check_variable= { 
								speeches_enabled > 0
							} 
							check_variable= { 
								music_enabled < 2
							} 
						}
					}
					scoped_sound_effect = "sp_ger_capitulation"
			}
			every_country = {
				limit = { 
					AND = {
						check_variable= { 
							music_enabled > 0
						} 
						check_variable= { 
							speeches_enabled < 2
						} 
					}
				}
				scoped_sound_effect = "sp_ger_capitulation"
			}
			every_country = {
				limit = { 
					AND = {
						check_variable= {
							music_enabled > 0
						} 
						check_variable= { 
							speeches_enabled > 0
						} 
					}
				}
				scoped_sound_effect = "sp_ger_capitulation"
			}
		}
	}
	option = {
		name = germany.702.b
		hidden_effect = {
		every_country = {
			limit = {
				is_allies = yes
			}
			white_peace = {
				tag = GER
			}
		}
		GER = {
			dismantle_faction = yes
		}
		LUX = {
			transfer_state = 8
		}
		BEL = {
			transfer_state = 34
			transfer_state = 6
		}
		HOL = {
			transfer_state = 35
			transfer_state = 7
			transfer_state = 36
		}
		DEN = {
			transfer_state = 99
			transfer_state = 37
		}
		NOR = {
			transfer_state = 110
			transfer_state = 142
			transfer_state = 143
			transfer_state = 144
		}
		YUG = {
			transfer_state = 102
			transfer_state = 736
			transfer_state = 103
			transfer_state = 163
			transfer_state = 104
			transfer_state = 109
			transfer_state = 45
			transfer_state = 764
			transfer_state = 107
			transfer_state = 108
			transfer_state = 105
			transfer_state = 106
			transfer_state = 187
		}
		ALB = {
			transfer_state = 44
		}
		GRE = {
			transfer_state = 184
			transfer_state = 731
			transfer_state = 185
			transfer_state = 47
			transfer_state = 186
			transfer_state = 182
			transfer_state = 164
		}
		SOV = {
			annex_country = {
				target = ROM
			}
			annex_country = {
				target = BUL
			}
			annex_country = {
				target = HUN
			}
			annex_country = {
				target = ALB
			}
			annex_country = {
				target = CZE
			}
			annex_country = {
				target = POL
			}
			annex_country = {
				target = SLO
			}
			transfer_state = 73
		}
		FRA = {
			annex_country = {
				target = EFR
			}
			transfer_state = 28
			transfer_state = 735
			transfer_state = 1
		}
		ENG = {
			transfer_state = 273
			transfer_state = 663
			transfer_state = 451
			transfer_state = 450
			transfer_state = 449
			transfer_state = 662
			transfer_state = 448
			transfer_state = 661
			transfer_state = 830
			transfer_state = 831
			annex_country = {
				target = ITA
			}
			release_puppet = ITA
			add_to_faction = GER
			add_to_faction = LUX
			add_to_faction = BEL
			add_to_faction = HOL
			add_to_faction = NOR
			add_to_faction = DEN
			complete_national_focus = ENG_operation_unthinkable
			}
		}
	}
}
country_event = {
	id = germany.703
	title = germany.703.t
	desc = germany.703.d
	picture = GFX_report_event_german_speech
	
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = germany.703.a
		if = {
			limit = {
				ITA = {
					has_country_flag = ITA_operation_compass
					controls_state = 451
				}
			}
			
			54 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					instant_build = yes
					level = 2
				}
			}
			59 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					instant_build = yes
					level = 2
				}
			}
		}
		if = {
			limit = {
				ITA = {
					has_country_flag = ITA_operation_compass
					controls_state = 663
				}
			}
			51 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					instant_build = yes
					level = 2
				}
			}
			64 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					instant_build = yes
					level = 2
				}
			}
			
		}
		if = {
			limit = {
				ITA = {
					has_country_flag = ITA_operation_compass
					controls_state = 450
				}
			}
			
			54 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					instant_build = yes
					level = 2
				}
			}
			59 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					instant_build = yes
					level = 2
				}
			}
		}
		if = {
			limit = {
				ITA = {
					has_country_flag = ITA_operation_compass
					controls_state = 449
				}
			}
			51 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					instant_build = yes
					level = 2
				}
			}
			64 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					instant_build = yes
					level = 2
				}
			}
			
		}
		if = {
			limit = {
				ITA = {
					has_country_flag = ITA_operation_compass
					controls_state = 448
				}
			}
			
			54 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					instant_build = yes
					level = 2
				}
			}
			59 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					instant_build = yes
					level = 2
				}
			}
		}
	}
}
country_event = {
	id = germany.704
	title = germany.704.t
	desc = germany.704.d
	picture = GFX_reich_occupies_norwegian_ports
	timeout_days = 30
	
	is_triggered_only = yes
	
	option = {
		name = germany.704.a
		custom_effect_tooltip = "Prepare your divisions according to tooltip under operation Weserübung"
		GER = {
			set_country_flag = GER_falkenhorst_flag
		}
	}
	option = {
		name = germany.704.b
		custom_effect_tooltip = "You are free to deal with Norway as you wish"
		GER = {
			set_country_flag = GER_myownplan_flags
		}
	}
}
##andrey_vlasov
country_event = {
	id = germany.1000
	title = germany.1000.t
	desc = germany.1000.d
	picture = GFX_vlasov_ger
	
	fire_only_once = yes

	is_triggered_only = yes


	option = { 
		name = germany.1000.a
		custom_effect_tooltip = "You may now form the ROA via focus"
	}
	immediate = {
		set_country_flag = GER_vlasov_offers_his_services
	}
}
##paulus
country_event = {
	id = germany.1001
	title = germany.1001.t
	desc = germany.1001.d
	picture = GFX_paulus_captured
	
	fire_only_once = yes

	is_triggered_only = yes


	option = { 
		name = germany.1001.a
		
	}
	immediate = {
		hidden_effect = {
			GER = {
				retire_character = GER_friedrich_paulus
			}
		}
	}
}

country_event = {
	id = germany.1002
	title = germany.1002.t
	desc = germany.1002.d
	picture = GFX_report_event_polish_tanks_01
	
	is_triggered_only = yes
	
	option = {
		name = germany.1002.a
		72 = {
			add_core_of = POL
		}
	}
}








				